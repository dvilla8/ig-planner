import{d as C,i as p,j as fe,o as u,c as w,k as Ie,v as Oe,h as A,e as h,l as Ne,n as Ye,m as Ee,_ as G,r as M,F as O,t as I,p as k,b as v,w as S,q as V,f as x,s as z,x as $,y as ze,z as Xe,A as X,B as de,C as Me,D as B,E as D,g as Q,G as Ge,u as je,H as We,I as Fe}from"./index-183f0913.js";import{_ as qe}from"./ProfileAvatar-5df8744c.js";const Je=C({__name:"ToolRuler",props:{left:{type:Boolean},right:{type:Boolean}},setup(n){const e=n,t=p(),r=p(0);return fe(()=>{t.value.max=window.innerHeight}),(o,l)=>(u(),w("div",{class:Ee(["rulers",{"rulers--left":e.left,"rulers--right":e.right}])},[Ie(h("input",{ref_key:"pageRulerY",ref:t,"onUpdate:modelValue":l[0]||(l[0]=s=>Ne(r)?r.value=s:null),type:"range"},null,512),[[Oe,A(r)]]),h("div",{class:"ruler ruler--horizontal",style:Ye({top:`${A(r)}px`})},null,4)],2))}});const Ke=["src"],Qe=C({__name:"ProfileMediaIframe",props:{media:{}},setup(n){return(e,t)=>(u(),w("iframe",{class:"ig-profile-media ig-profile-media--iframe",src:e.media.href},null,8,Ke))}});const De=G(Qe,[["__scopeId","data-v-bcf6bfc6"]]),Ze={class:"ig-profile-media ig-profile-media--video"},et=["src"],tt={class:"ig-profile-media--video-slider__value"},nt={class:"ig-profile-media__icon"},ot=C({__name:"ProfileMediaVideo",props:{media:{}},setup(n){const e=n,t=p({}),r=p({}),o=p(e.media.cover?e.media.cover:0);fe(()=>{t.value.addEventListener("loadedmetadata",()=>{o.value=Number(o.value)*10,t.value.currentTime=o.value/10,r.value.max=t.value.duration*10},!1)});function l(){t.value.currentTime=Number(o.value)/10}return(s,c)=>{const d=M("v-icon");return u(),w("div",Ze,[h("video",{ref_key:"video",ref:t,src:s.media.file.path},null,8,et),typeof A(o)=="number"?(u(),w(O,{key:0},[Ie(h("input",{ref_key:"slider",ref:r,"onUpdate:modelValue":c[0]||(c[0]=i=>Ne(o)?o.value=i:null),type:"range",class:"ig-profile-media--video-slider",onChange:l},null,544),[[Oe,A(o)]]),h("div",tt,I(A(o)/10),1)],64)):k("",!0),h("div",nt,[v(d,null,{default:S(()=>[V("mdi-play")]),_:1})])])}}});const Ve=G(ot,[["__scopeId","data-v-c2ce8166"]]),Re=C({__name:"ProfileMediaImage",props:{media:{}},setup(n){return(e,t)=>{const r=M("v-img");return u(),x(r,{class:"ig-profile-media ig-profile-media--image",src:e.media.file.path},null,8,["src"])}}});/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const b={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},Pe={itemsToShow:{default:b.itemsToShow,type:Number},itemsToScroll:{default:b.itemsToScroll,type:Number},wrapAround:{default:b.wrapAround,type:Boolean},throttle:{default:b.throttle,type:Number},snapAlign:{default:b.snapAlign,validator(n){return["start","end","center","center-even","center-odd"].includes(n)}},transition:{default:b.transition,type:Number},breakpoints:{default:b.breakpoints,type:Object},autoplay:{default:b.autoplay,type:Number},pauseAutoplayOnHover:{default:b.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:b.mouseDrag,type:Boolean},touchDrag:{default:b.touchDrag,type:Boolean},dir:{default:b.dir,validator(n){return["rtl","ltr"].includes(n)}},i18n:{default:b.i18n,type:Object},settings:{default(){return{}},type:Object}};function rt({config:n,slidesCount:e}){const{snapAlign:t,wrapAround:r,itemsToShow:o=1}=n;if(r)return Math.max(e-1,0);let l;switch(t){case"start":l=e-o;break;case"end":l=e-1;break;case"center":case"center-odd":l=e-Math.ceil((o-.5)/2);break;case"center-even":l=e-Math.ceil(o/2);break;default:l=0;break}return Math.max(l,0)}function lt({config:n,slidesCount:e}){const{wrapAround:t,snapAlign:r,itemsToShow:o=1}=n;let l=0;if(t||o>e)return l;switch(r){case"start":l=0;break;case"end":l=o-1;break;case"center":case"center-odd":l=Math.floor((o-1)/2);break;case"center-even":l=Math.floor((o-2)/2);break;default:l=0;break}return l}function pe({val:n,max:e,min:t}){return e<t?n:Math.min(Math.max(n,t),e)}function at({config:n,currentSlide:e,slidesCount:t}){const{snapAlign:r,wrapAround:o,itemsToShow:l=1}=n;let s=e;switch(r){case"center":case"center-odd":s-=(l-1)/2;break;case"center-even":s-=(l-2)/2;break;case"end":s-=l-1;break}return o?s:pe({val:s,max:t-l,min:0})}function Le(n){return n?n.reduce((e,t)=>{var r;return t.type===O?[...e,...Le(t.children)]:((r=t.type)===null||r===void 0?void 0:r.name)==="CarouselSlide"?[...e,t]:e},[]):[]}function _e({val:n,max:e,min:t=0}){return n>e?_e({val:n-(e+1),max:e,min:t}):n<t?_e({val:n+(e+1),max:e,min:t}):n}function it(n,e){let t;return e?function(...r){const o=this;t||(n.apply(o,r),t=!0,setTimeout(()=>t=!1,e))}:n}function st(n,e){let t;return function(...r){t&&clearTimeout(t),t=setTimeout(()=>{n(...r),t=null},e)}}function ut(n="",e={}){return Object.entries(e).reduce((t,[r,o])=>t.replace(`{${r}}`,String(o)),n)}var ct=C({name:"ARIA",setup(){const n=D("config",z(Object.assign({},b))),e=D("currentSlide",p(0)),t=D("slidesCount",p(0));return()=>B("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},ut(n.i18n.itemXofY,{currentSlide:e.value+1,slidesCount:t.value}))}}),dt=C({name:"Carousel",props:Pe,setup(n,{slots:e,emit:t,expose:r}){var o;const l=p(null),s=p([]),c=p(0),d=p(0),i=z(Object.assign({},b));let g=Object.assign({},b),f;const _=p((o=n.modelValue)!==null&&o!==void 0?o:0),Z=p(0),me=p(0),R=p(0),H=p(0);let L,ee;$("config",i),$("slidesCount",d),$("currentSlide",_),$("maxSlide",R),$("minSlide",H),$("slideWidth",c);function te(){f=Object.assign({},n.breakpoints),g=Object.assign(Object.assign(Object.assign({},g),n),{i18n:Object.assign(Object.assign({},g.i18n),n.i18n),breakpoints:void 0}),ve(g)}function W(){if(!f||!Object.keys(f).length)return;const a=Object.keys(f).map(m=>Number(m)).sort((m,P)=>+P-+m);let y=Object.assign({},g);a.some(m=>{const P=window.matchMedia(`(min-width: ${m}px)`).matches;return P&&(y=Object.assign(Object.assign({},y),f[m])),P}),ve(y)}function ve(a){Object.entries(a).forEach(([y,m])=>i[y]=m)}const ge=st(()=>{W(),U()},16);function U(){if(!l.value)return;const a=l.value.getBoundingClientRect();c.value=a.width/i.itemsToShow}function ne(){d.value<=0||(me.value=Math.ceil((d.value-1)/2),R.value=rt({config:i,slidesCount:d.value}),H.value=lt({config:i,slidesCount:d.value}),i.wrapAround||(_.value=pe({val:_.value,max:R.value,min:H.value})))}fe(()=>{ze(()=>U()),setTimeout(()=>U(),1e3),W(),we(),window.addEventListener("resize",ge,{passive:!0}),t("init")}),Xe(()=>{ee&&clearTimeout(ee),L&&clearInterval(L),window.removeEventListener("resize",ge,{passive:!0})});let T=!1;const F={x:0,y:0},q={x:0,y:0},N=z({x:0,y:0}),J=p(!1),oe=p(!1),Be=()=>{J.value=!0},He=()=>{J.value=!1};function he(a){["INPUT","TEXTAREA","SELECT"].includes(a.target.tagName)||(T=a.type==="touchstart",T||a.preventDefault(),!(!T&&a.button!==0||E.value)&&(F.x=T?a.touches[0].clientX:a.clientX,F.y=T?a.touches[0].clientY:a.clientY,document.addEventListener(T?"touchmove":"mousemove",ye,!0),document.addEventListener(T?"touchend":"mouseup",be,!0)))}const ye=it(a=>{oe.value=!0,q.x=T?a.touches[0].clientX:a.clientX,q.y=T?a.touches[0].clientY:a.clientY;const y=q.x-F.x,m=q.y-F.y;N.y=m,N.x=y},i.throttle);function be(){const a=i.dir==="rtl"?-1:1,y=Math.sign(N.x)*.4,m=Math.round(N.x/c.value+y)*a;if(m&&!T){const P=ie=>{ie.stopPropagation(),window.removeEventListener("click",P,!0)};window.addEventListener("click",P,!0)}j(_.value-m),N.x=0,N.y=0,oe.value=!1,document.removeEventListener(T?"touchmove":"mousemove",ye,!0),document.removeEventListener(T?"touchend":"mouseup",be,!0)}function we(){!i.autoplay||i.autoplay<=0||(L=setInterval(()=>{i.pauseAutoplayOnHover&&J.value||K()},i.autoplay))}function Se(){L&&(clearInterval(L),L=null),we()}const E=p(!1);function j(a){const y=i.wrapAround?a:pe({val:a,max:R.value,min:H.value});_.value===y||E.value||(t("slide-start",{slidingToIndex:a,currentSlideIndex:_.value,prevSlideIndex:Z.value,slidesCount:d.value}),E.value=!0,Z.value=_.value,_.value=y,ee=setTimeout(()=>{if(i.wrapAround){const m=_e({val:y,max:R.value,min:0});m!==_.value&&(_.value=m,t("loop",{currentSlideIndex:_.value,slidingToIndex:a}))}t("update:modelValue",_.value),t("slide-end",{currentSlideIndex:_.value,prevSlideIndex:Z.value,slidesCount:d.value}),E.value=!1,Se()},i.transition))}function K(){j(_.value+i.itemsToScroll)}function re(){j(_.value-i.itemsToScroll)}const xe={slideTo:j,next:K,prev:re};$("nav",xe),$("isSliding",E);const ke=X(()=>at({config:i,currentSlide:_.value,slidesCount:d.value}));$("slidesToScroll",ke);const Ue=X(()=>{const a=i.dir==="rtl"?-1:1,y=ke.value*c.value*a;return{transform:`translateX(${N.x-y}px)`,transition:`${E.value?i.transition:0}ms`,margin:i.wrapAround?`0 -${d.value*c.value}px`:"",width:"100%"}});function Ce(){te(),W(),ne(),U(),Se()}Object.keys(Pe).forEach(a=>{["modelValue"].includes(a)||de(()=>n[a],Ce)}),de(()=>n.modelValue,a=>{a!==_.value&&j(Number(a))}),de(d,ne),t("before-init"),te();const Te={config:i,slidesCount:d,slideWidth:c,next:K,prev:re,slideTo:j,currentSlide:_,maxSlide:R,minSlide:H,middleSlide:me};r({updateBreakpointsConfigs:W,updateSlidesData:ne,updateSlideWidth:U,initDefaultConfigs:te,restartCarousel:Ce,slideTo:j,next:K,prev:re,nav:xe,data:Te});const le=e.default||e.slides,ae=e.addons,Ae=z(Te);return()=>{const a=Le(le==null?void 0:le(Ae)),y=(ae==null?void 0:ae(Ae))||[];a.forEach((se,ue)=>se.props.index=ue);let m=a;if(i.wrapAround){const se=a.map((ce,Y)=>Me(ce,{index:-a.length+Y,isClone:!0,key:`clone-before-${Y}`})),ue=a.map((ce,Y)=>Me(ce,{index:a.length+Y,isClone:!0,key:`clone-after-${Y}`}));m=[...se,...a,...ue]}s.value=a,d.value=Math.max(a.length,1);const P=B("ol",{class:"carousel__track",style:Ue.value,onMousedownCapture:i.mouseDrag?he:null,onTouchstartPassiveCapture:i.touchDrag?he:null},m),ie=B("div",{class:"carousel__viewport"},P);return B("section",{ref:l,class:{carousel:!0,"is-sliding":E.value,"is-dragging":oe.value,"is-hover":J.value,"carousel--rtl":i.dir==="rtl"},dir:i.dir,"aria-label":i.i18n.ariaGallery,tabindex:"0",onMouseenter:Be,onMouseleave:He},[ie,y,B(ct)])}}}),$e;(function(n){n.arrowUp="arrowUp",n.arrowDown="arrowDown",n.arrowRight="arrowRight",n.arrowLeft="arrowLeft"})($e||($e={}));var pt=C({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(n,{slots:e}){const t=D("config",z(Object.assign({},b))),r=D("currentSlide",p(0)),o=D("slidesToScroll",p(0)),l=D("isSliding",p(!1)),s=()=>n.index===r.value,c=()=>n.index===r.value-1,d=()=>n.index===r.value+1,i=()=>{const g=Math.floor(o.value),f=Math.ceil(o.value+t.itemsToShow-1);return n.index>=g&&n.index<=f};return()=>{var g;return B("li",{style:{width:`${100/t.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":n.isClone,"carousel__slide--visible":i(),"carousel__slide--active":s(),"carousel__slide--prev":c(),"carousel__slide--next":d(),"carousel__slide--sliding":l.value},"aria-hidden":!i()},(g=e.default)===null||g===void 0?void 0:g.call(e))}}});const _t={class:"ig-profile-media ig-profile-media--album"},ft={class:"ig-profile-media__icon"},mt=C({__name:"ProfileMediaAlbum",props:{media:{}},setup(n){return(e,t)=>{const r=Re,o=Ve,l=De,s=M("v-icon");return u(),w("div",_t,[v(A(dt),null,{default:S(()=>[(u(!0),w(O,null,Q(e.media.list,(c,d)=>(u(),x(A(pt),{key:d},{default:S(()=>[c.type==="image"?(u(),x(r,{key:0,media:c},null,8,["media"])):k("",!0),c.type==="video"?(u(),x(o,{key:1,media:c},null,8,["media"])):k("",!0),c.type==="iframe"?(u(),x(l,{key:2,media:c},null,8,["media"])):k("",!0)]),_:2},1024))),128))]),_:1}),h("div",ft,[v(s,null,{default:S(()=>[V("mdi-folder-multiple-image")]),_:1})])])}}}),vt={class:"ig-profile-page__media"},gt=C({__name:"ProfileMedia",props:{profile:{},tab:{}},setup(n){const e=n;return(t,r)=>{const o=Re,l=M("v-col"),s=Ve,c=De,d=mt,i=M("v-row"),g=M("v-container");return u(),w("div",vt,[v(g,{class:"pt-1 px-0"},{default:S(()=>[t.tab==="posts"&&t.profile.media.posts.length>0?(u(),x(i,{key:0},{default:S(()=>[(u(!0),w(O,null,Q(t.profile.media.posts,(f,_)=>(u(),w(O,{key:_},[f.type==="image"?(u(),x(l,{key:0,cols:4},{default:S(()=>[v(o,{media:f},null,8,["media"])]),_:2},1024)):k("",!0),f.type==="video"?(u(),x(l,{key:1,cols:4},{default:S(()=>[v(s,{media:f},null,8,["media"])]),_:2},1024)):k("",!0),f.type==="iframe"?(u(),x(l,{key:2,cols:4},{default:S(()=>[v(c,{media:f},null,8,["media"])]),_:2},1024)):k("",!0),f.type==="album"?(u(),x(l,{key:3,cols:4},{default:S(()=>[v(d,{media:f},null,8,["media"])]),_:2},1024)):k("",!0)],64))),128))]),_:1})):k("",!0),e.tab==="reels"&&t.profile.media.reels.length>0?(u(),x(i,{key:1},{default:S(()=>[(u(!0),w(O,null,Q(t.profile.media.reels,(f,_)=>(u(),x(s,{key:_,reel:"",media:f},null,8,["media"]))),128))]),_:1})):k("",!0)]),_:1})])}}});const ht={class:"ig-profile-page__tabs"},yt=["onClick"],bt=C({__name:"ProfileTabs",props:{profile:{},active:{}},emits:["select"],setup(n,{emit:e}){var o,l;const t=n,r=[];return((o=t.profile)==null?void 0:o.media.posts.length)>0&&r.push({name:"posts",label:"Posts",icon:"mdi-grid"}),((l=t.profile)==null?void 0:l.media.reels.length)>0&&r.push({name:"reels",label:"Reels",icon:"mdi-play-box-multiple-outline"}),(s,c)=>{const d=M("v-icon");return u(),w("div",ht,[(u(),w(O,null,Q(r,(i,g)=>h("div",{key:g,class:Ee(["ig-profile-page__tabs__tab",{"ig-profile-page__tabs__tab--active":s.active===i.name}]),onClick:f=>e("select",i.name)},[v(d,{size:"15"},{default:S(()=>[V(I(i.icon),1)]),_:2},1024),V(" "+I(i.label),1)],10,yt)),64))])}}});const wt=G(bt,[["__scopeId","data-v-ccd42a77"]]),St={class:"ig-profile-page__header pb-10 mb-5"},xt=["textContent"],kt={class:"ig-profile-page__header__stats mb-5"},Ct=["textContent"],Tt=["textContent"],At=["textContent"],Mt=["textContent"],Pt=["innerHTML"],$t=["href","textContent"],It=C({__name:"ProfileHeader",props:{profile:{}},setup(n){return(e,t)=>{const r=qe,o=M("v-col"),l=M("v-row");return u(),w("div",St,[v(l,null,{default:S(()=>[v(o,{cols:"4",class:"ig-profile-page__header__avatar text-center"},{default:S(()=>{var s;return[v(r,{size:150,avatar:(s=e.profile)==null?void 0:s.avatar},null,8,["avatar"])]}),_:1}),v(o,{cols:"8"},{default:S(()=>{var s,c,d;return[h("div",{class:"ig-profile-page__header__username mb-5",textContent:I(e.profile.username)},null,8,xt),h("ul",kt,[h("li",null,[h("b",{textContent:I((s=e.profile)==null?void 0:s.posts_count)},null,8,Ct),V(" posts ")]),h("li",null,[h("b",{textContent:I((c=e.profile)==null?void 0:c.followers_count)},null,8,Tt),V(" followers ")]),h("li",null,[h("b",{textContent:I((d=e.profile)==null?void 0:d.follows_count)},null,8,At),V(" following ")])]),h("p",{class:"ig-profile-page__header__name",textContent:I(e.profile.name)},null,8,Mt),h("p",{class:"ig-profile-page__header__biography",innerHTML:e.profile.biography},null,8,Pt),e.profile.website?(u(),w("a",{key:0,class:"ig-profile-page__header__website",href:e.profile.website.href,target:"_blank",textContent:I(e.profile.website.label)},null,8,$t)):k("",!0)]}),_:1})]),_:1})])}}});const Ot=G(It,[["__scopeId","data-v-12512905"]]),Nt={class:"ig-profile-page"},Et=C({__name:"Profile",props:{profile:{}},setup(n){const e=p("posts");return(t,r)=>{const o=Ot,l=wt,s=gt,c=M("v-container");return u(),w("div",Nt,[v(c,null,{default:S(()=>[v(o,{profile:t.profile},null,8,["profile"]),v(l,{profile:t.profile,active:A(e),onSelect:r[0]||(r[0]=d=>e.value=d)},null,8,["profile","active"]),t.profile.media?(u(),x(s,{key:0,profile:t.profile,tab:A(e)},null,8,["profile","tab"])):k("",!0)]),_:1})])}}});const jt=G(Et,[["__scopeId","data-v-bc4959a1"]]),Dt=Ge("user",()=>{const n=je(),e=p({});async function t(o){if(Object.prototype.hasOwnProperty.call(n.users,o))return e.value=n.users[o],!0;throw new Error("User not found")}const r=X(()=>({...e.value.profile,posts_count:e.value.profile.media.posts.length}));return{loadUser:t,profile:r}}),Lt=C({__name:"PageProfile",setup(n){const e=We(),t=je(),r=Dt(),o=e.params.username.toString(),l=X(()=>t.options),s=X(()=>r.profile);return Fe(async()=>{await r.loadUser(o).catch(c=>{console.error(c)})}),(c,d)=>{const i=jt,g=Je;return u(),w(O,null,[v(i,{profile:A(s)},null,8,["profile"]),A(l).rulers?(u(),w(O,{key:0},[v(g,{left:""}),v(g,{right:""})],64)):k("",!0)],64)}}});export{Lt as default};
