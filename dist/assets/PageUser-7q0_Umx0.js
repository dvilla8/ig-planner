import{o as w,c as ee,d as q,f as I,u as j,ag as vt,a3 as os,n as H,r as K,b as F,w as N,e as ie,x as st,i as as,h as Z,ah as lo,S as Ht,y as J,X as fn,z as Wt,g as ls,U as uo,p as at,ai as Js,J as Hn,K as Ee,a5 as _t,aj as sl,a0 as je,a9 as co,B as At,k as Et,$ as nt,s as It,M as We,C as ei,Q as il,D as ol,ak as al,l as fo,F as Le,q as Ar,a7 as _n,L as Ae,t as sn,A as po,al as ll,R as ti,ad as qn,ae as ul,af as cl,am as dl,an as mo,ao as vo,ap as fl,v as _o,G as us,H as go,aq as ho,ar as pl,as as Eo,at as Io,Y as To,au as ml,av as vl,aw as _l,ax as fr,W as gl,ay as hl,az as El,aA as Il,aB as Tl,aC as yl,aD as Sl,aE as Rl,aF as bl}from"./index-oFP2J0rH.js";import{O as pt,b as He,a as Se,H as gn,V as on,_ as ne,c as yo,d as Ol,J as ht,e as So,s as Xn,R as jn,S as Cl,A as Dl,T as Wn,U as Pl,y as Qn,z as qt,t as wl,F as Ml,w as Al,G as ni,q as Ll,i as Nl,j as cs,P as Ro,f as xl,K as pn,N as ds,W as fs,X as kl,Y as Gl,Z as Bl,$ as Zn,a0 as ps,a1 as Fl,a2 as $l,a3 as Ul,k as bo,n as Oo,a4 as Vl,a5 as Yl,a6 as zl,a7 as ms,a8 as Hl,a9 as ql,aa as Xl,u as jl,ab as Wl,Q as Ql}from"./VRow-ngMf2zw6.js";function Zl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(r){return r.split(" ").map(function(s){return s?""+e+s:""}).join(" ")}).join(" ")}function Kl(e,t){return t.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function mt(e,t){return function(n){n&&(e[t]=n)}}function Jl(e,t,n){return function(r){r&&(e[t][n]=r)}}function ri(e,t){return function(n){var r=n.prototype;e.forEach(function(s){t(r,s)})}}var eu="function",tu="object",nu="string",ru="number",Co="undefined",su=typeof document!==Co&&document,iu=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],pr=1e-7,Rn={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ou(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Do(e){return typeof e===Co}function Ze(e){return e&&typeof e===tu}function Po(e){return Array.isArray(e)}function Mt(e){return typeof e===nu}function au(e){return typeof e===ru}function wo(e){return typeof e===eu}function lu(e,t){var n=e===""||e==" ",r=t===""||t==" ";return r&&n||e===t}function Mo(e,t,n,r,s){var i=vs(e,t,n);return i?n:uu(e,t,n+1,r,s)}function vs(e,t,n){if(!e.ignore)return null;var r=t.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(r)}function uu(e,t,n,r,s){for(var i=function(u){var c=t[u].trim();if(c===e.close&&!vs(e,t,u))return{value:u};var f=u,d=kn(s,function(m){var p=m.open;return p===c});if(d&&(f=Mo(d,t,u,r,s)),f===-1)return o=u,"break";u=f,o=u},o,a=n;a<r;++a){var l=i(a);if(a=o,typeof l=="object")return l.value;if(l==="break")break}return-1}function _s(e,t){var n=Mt(t)?{separator:t}:t,r=n.separator,s=r===void 0?",":r,i=n.isSeparateFirst,o=n.isSeparateOnlyOpenClose,a=n.isSeparateOpenClose,l=a===void 0?o:a,u=n.openCloseCharacters,c=u===void 0?iu:u,f=c.map(function(b){var h=b.open,O=b.close;return h===O?h:h+"|"+O}).join("|"),d="(\\s*"+s+"\\s*|"+f+"|\\s+)",m=new RegExp(d,"g"),p=e.split(m).filter(function(b){return b&&b!=="undefined"}),v=p.length,g=[],_=[];function E(){return _.length?(g.push(_.join("")),_=[],!0):!1}for(var T=function(b){var h=p[b].trim(),O=b,k=kn(c,function(U){var M=U.open;return M===h}),A=kn(c,function(U){var M=U.close;return M===h});if(k){if(O=Mo(k,p,b,v,c),O!==-1&&l)return E()&&i||(g.push(p.slice(b,O+1).join("")),b=O,i)?(D=b,"break"):(D=b,"continue")}else if(A&&!vs(A,p,b)){var C=ou(c);return C.splice(c.indexOf(A),1),{value:_s(e,{separator:s,isSeparateFirst:i,isSeparateOnlyOpenClose:o,isSeparateOpenClose:l,openCloseCharacters:C})}}else if(lu(h,s)&&!o)return E(),i?(D=b,"break"):(D=b,"continue");O===-1&&(O=v-1),_.push(p.slice(b,O+1).join("")),b=O,D=b},D,y=0;y<v;++y){var S=T(y);if(y=D,typeof S=="object")return S.value;if(S==="break")break}return _.length&&g.push(_.join("")),g}function cu(e){return _s(e,"")}function rn(e){return _s(e,",")}function du(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function Ao(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2],s=t[3];return{prefix:n,unit:s,value:parseFloat(r)}}function fu(e){return e.replace(/[\s-_]+([^\s-_])/g,function(t,n){return n.toUpperCase()})}function mr(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(n,r,s){return""+r+t+s.toLowerCase()})}function Lr(){return Date.now?Date.now():new Date().getTime()}function Kn(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=0;s<r;++s)if(t(e[s],s,e))return s;return n}function pu(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=r-1;s>=0;--s)if(t(e[s],s,e))return s;return n}function mu(e,t,n){var r=pu(e,t);return r>-1?e[r]:n}function kn(e,t,n){var r=Kn(e,t);return r>-1?e[r]:n}function Nr(e){return Object.keys(e)}function vu(e){var t=Nr(e);return t.map(function(n){return e[n]})}function an(e,t){var n=Ao(e),r=n.value,s=n.unit;if(Ze(t)){var i=t[s];if(i){if(wo(i))return i(r);if(Rn[s])return Rn[s](r,i)}}else if(s==="%")return r*t/100;return Rn[s]?Rn[s](r):r}function vr(e,t){if(!t)return e;var n=1/t;return Math.round(e/t)/n}function _u(e){return e.reduce(function(t,n){return t.concat(n)},[])}function gu(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function hu(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function Eu(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function Te(e,t,n,r){e.addEventListener(t,n,r)}function ge(e,t,n,r){e.removeEventListener(t,n,r)}function gs(e){return(e==null?void 0:e.ownerDocument)||su}function _r(e){var t;return((t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function Iu(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function hs(e){return Ze(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}var Tu=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(n){return this.values[this.keys.indexOf(n)]},t.set=function(n,r){var s=this.keys,i=this.values,o=s.indexOf(n),a=o===-1?s.length:o;s[a]=n,i[a]=r},e}(),yu=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(n){return this.object[n]},t.set=function(n,r){this.object[n]=r},e}(),Su=typeof Map=="function",Ru=function(){function e(){}var t=e.prototype;return t.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},t.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},t.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},e}();function bu(e,t){var n=[],r=[];return e.forEach(function(s){var i=s[0],o=s[1],a=new Ru;n[i]=a,r[o]=a}),n.forEach(function(s,i){s.connect(n[i-1])}),e.filter(function(s,i){return!t[i]}).map(function(s,i){var o=s[0],a=s[1];if(o===a)return[0,0];var l=n[o],u=r[a-1],c=l.getIndex();l.disconnect(),u?l.connect(u,u.next):l.connect(void 0,n[0]);var f=l.getIndex();return[c,f]})}var Ou=function(){function e(n,r,s,i,o,a,l,u){this.prevList=n,this.list=r,this.added=s,this.removed=i,this.changed=o,this.maintained=a,this.changedBeforeAdded=l,this.fixed=u}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var n=bu(this.changedBeforeAdded,this.fixed),r=this.changed,s=[];this.cacheOrdered=n.filter(function(i,o){var a=i[0],l=i[1],u=r[o],c=u[0],f=u[1];if(a!==l)return s.push([c,f]),!0}),this.cachePureChanged=s},e}();function Lo(e,t,n){var r=Su?Map:n?yu:Tu,s=n||function(E){return E},i=[],o=[],a=[],l=e.map(s),u=t.map(s),c=new r,f=new r,d=[],m=[],p={},v=[],g=0,_=0;return l.forEach(function(E,T){c.set(E,T)}),u.forEach(function(E,T){f.set(E,T)}),l.forEach(function(E,T){var D=f.get(E);typeof D>"u"?(++_,o.push(T)):p[D]=_}),u.forEach(function(E,T){var D=c.get(E);typeof D>"u"?(i.push(T),++g):(a.push([D,T]),_=p[T]||0,d.push([D-_,T-g]),m.push(T===D),D!==T&&v.push([D,T]))}),o.reverse(),new Ou(e,t,i,o,v,a,d,m)}var xr=function(e,t){return xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},xr(e,t)};function hn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");xr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Qe=function(){return Qe=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qe.apply(this,arguments)};function No(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function si(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function ii(e){var t=0;return e.map(function(n){return n==null?"$compat".concat(++t):"".concat(n)})}function xo(e){var t=[];return e.forEach(function(n){t=t.concat(Po(n)?xo(n):n)}),t}function gr(e,t){if(!t)return e;for(var n in t)Do(e[n])&&(e[n]=t[n]);return e}function Gn(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function oi(e){var t=e.className,n=No(e,["className"]);return t!=null&&(n.class=t),delete n.style,delete n.children,n}function ai(e){var t={},n={};for(var r in e)r.indexOf("on")===0?n[r]=e[r]:t[r]=e[r];return[t,n]}function Jn(e){if(!e)return null;var t=e.b;return hs(t)?t:Jn(e.c)}function ko(e){var t=e.parentNode;t&&t.removeChild(e)}function Go(e){e.forEach(function(t){t()})}function Cu(){return this.constructor(this.props,this.context)}var Es=0,er=function(){function e(n,r,s,i,o,a,l){l===void 0&&(l={}),this.t=n,this.d=r,this.k=s,this.i=i,this.c=o,this.ref=a,this.ps=l,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=e.prototype;return t.s=function(){return!0},t.u=function(n,r,s,i,o){var a=this,l=a.d,u=vu(r).filter(function(p){return p.$_req}),c=xo(u.map(function(p){return p.$_subs})),f=kn(c,function(p){return p.d===l});if(a.b&&!Mt(s)&&!o&&!a.s(s.props,i)&&!f){var d=c.reduce(function(p,v){var g=v.d;return p[0]?p[0].d===g&&p.push(v):g>l&&p.push(v),p},[]);return d.forEach(function(p){En(p,p._ps,[p.o],n,r,!0)}),!1}a.o=s,a.ss(i);var m=a.ps;return Mt(s)||(a.ps=s.props,a.ref=s.ref),Is(this),a.r(n,r,a.b?m:{},i),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var n=this,r=n.ref,s=n.fr;r&&r(s?s.current:n.b)},e}();function Bo(){return Object.__CROACT_CURRENT_INSTNACE__}function Du(){return Es}function Pu(e){Es=e}function Is(e){return Object.__CROACT_CURRENT_INSTNACE__=e,Es=0,e}var Ts=function(){function e(n,r){n===void 0&&(n={}),this.props=n,this.context=r,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=e.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(n,r){return this.props!==n||this.state!==r},t.setState=function(n,r,s){var i=this;i.$_timer||(i.$_state={}),clearTimeout(i.$_timer),i.$_timer=0,i.$_state=Qe(Qe({},i.$_state),n),s?i.$_setState(r,s):i.$_timer=window.setTimeout(function(){i.$_timer=0,i.$_setState(r,s)})},t.forceUpdate=function(n){this.setState({},n,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(n,r){},t.componentWillUnmount=function(){},t.$_setState=function(n,r){var s=[],i=this.$_p,o=En(i.c,[i],[i.o],s,i._cs,Qe(Qe({},this.state),this.$_state),r);o&&(n&&s.push(n),Go(s),Is(null))},e}(),Fo=function(e){hn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,s){return Gn(this.props,r)||Gn(this.state,s)},t}(Ts);function ys(e){var t=function(n){t.current=n};return t.current=e,t}function wu(e){return e._fr=!0,e}function Mu(e,t,n,r){var s,i;return!((s=e==null?void 0:e.prototype)===null||s===void 0)&&s.render?i=new e(t,n):(i=new Ts(t,n),i.constructor=e,e._fr?(r.fr=ys(),i.render=function(){return this.constructor(this.props,r.fr)}):i.render=Cu),i.$_p=r,i}var Au=function(e){hn(t,e);function t(r,s,i,o,a,l,u){u===void 0&&(u={});var c=e.call(this,r,s,i,o,a,l,gr(u,r.defaultProps))||this;return c.typ="comp",c._usefs=[],c._uefs=[],c._defs=[],c}var n=t.prototype;return n.s=function(r,s){var i=this.b;return i.shouldComponentUpdate(gr(r,this.t.defaultProps),s||i.state)!==!1},n.r=function(r,s,i){var o,a,l=this,u=l.t;l.ps=gr(l.ps,l.t.defaultProps);var c=l.ps,f=!l.b,d=u.contextType,m=l.b,p=d==null?void 0:d.get(l);l._cs=s,f?(m=Mu(u,c,p,l),l.b=m):(m.props=c,m.context=p);var v=m.state;l._usefs=[],l._uefs=[];var g=m.render();((a=(o=g==null?void 0:g.props)===null||o===void 0?void 0:o.children)===null||a===void 0?void 0:a.length)===0&&(g.props.children=l.ps.children);var _=Qe(Qe({},s),m.$_cs);En(l,l._ps,g?[g]:[],r,_),f?l._uefs.push(function(){d==null||d.register(l),m.componentDidMount()}):l._uefs.push(function(){m.componentDidUpdate(i,v)}),r.push(function(){l._usefs.forEach(function(E){E()}),f?l.md():l.ud(),l._defs=l._uefs.map(function(E){return E()})})},n.ss=function(r){var s=this.b;!s||!r||(s.state=r)},n.un=function(){var r,s=this;s._ps.forEach(function(o){o.un()});var i=s.t;(r=i.contextType)===null||r===void 0||r.unregister(s),clearTimeout(s.b.$_timer),s._defs.forEach(function(o){o&&o()}),s.b.componentWillUnmount()},t}(er);function Lu(e,t,n){var r=Ss(oi(e),oi(t)),s=r.added,i=r.removed,o=r.changed;for(var a in s)n.setAttribute(a,s[a]);for(var l in o)n.setAttribute(l,o[l][1]);for(var u in i)n.removeAttribute(u)}function Nu(e,t,n){var r=Ss(e,t),s=r.added,i=r.removed;for(var o in i)n.e(o,!0);for(var a in s)n.e(a)}function Ss(e,t){var n=Nr(e),r=Nr(t),s=Lo(n,r,function(l){return l}),i={},o={},a={};return s.added.forEach(function(l){var u=r[l];i[u]=t[u]}),s.removed.forEach(function(l){var u=n[l];o[u]=e[u]}),s.maintained.forEach(function(l){var u=l[0],c=n[u],f=[e[c],t[c]];e[c]!==t[c]&&(a[c]=f)}),{added:i,removed:o,changed:a}}function xu(e,t,n){var r=n.style,s=Ss(e,t),i=s.added,o=s.removed,a=s.changed;for(var l in i){var u=mr(l,"-");r.setProperty(u,i[l])}for(var l in a){var c=mr(l,"-");r.setProperty(c,a[l][1])}for(var l in o){var f=mr(l,"-");r.removeProperty(f)}}function ku(e){return e.replace(/^on/g,"").toLowerCase()}var Gu=function(e){hn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="elem",r._es={},r._svg=!1,r}var n=t.prototype;return n.e=function(r,s){var i=this,o=i._es,a=i.b,l=ku(r);s?(ge(a,l,o[r]),delete o[r]):(o[r]=function(u){var c,f;(f=(c=i.ps)[r])===null||f===void 0||f.call(c,u)},Te(a,l,o[r]))},n.s=function(r){return Gn(this.ps,r)},n.r=function(r,s,i){var o,a=this,l=!a.b,u=a.ps;if(l){var c=Jn(a.c),f=!1;a._svg||a.t==="svg"?f=!0:f=c&&c.ownerSVGElement,a._svg=f;var d=(o=a._hyd)===null||o===void 0?void 0:o.splice(0,1)[0],m=a.t;if(d)a._hyd=[].slice.call(d.children||[]);else{var p=gs(c);f?d=p.createElementNS("http://www.w3.org/2000/svg",m):d=p.createElement(m)}a.b=d}En(a,a._ps,u.children,r,s);var v=a.b,g=ai(i),_=g[0],E=g[1],T=ai(u),D=T[0],y=T[1];return Lu(_,D,v),Nu(E,y,a),xu(i.style||{},u.style||{},v),r.push(function(){l?a.md():a.ud()}),!0},n.un=function(){var r=this,s=r._es,i=r.b;for(var o in s)ge(i,o,s[o]);r._ps.forEach(function(a){a.un()}),r._es={},r._sel||ko(i)},t}(er);function mn(e){if(!e||hs(e))return e;var t=e.$_p._ps;return t.length?mn(t[0].b):null}function $o(e){if(e){if(e.b&&hs(e.b))return e;var t=e._ps;return t.length?$o(t[0]):null}}function Be(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=t||{},i=s.key,o=s.ref,a=No(s,["key","ref"]);return{type:e,key:i,ref:o,props:Qe(Qe({},a),{children:_u(n).filter(function(l){return l!=null&&l!==!1})})}}var Uo=function(e){hn(t,e);function t(r,s){s===void 0&&(s=0);var i=e.call(this,"container",s,"container",0,null)||this;return i.typ="container",i.b=r,i}var n=t.prototype;return n.r=function(){return!0},n.un=function(){},t}(er),Bu=function(e){hn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="text",r}var n=t.prototype;return n.r=function(r){var s,i=this,o=!i.b;if(o){var a=Jn(i.c),l=(s=i._hyd)===null||s===void 0?void 0:s.splice(0,1)[0];i.b=l||gs(a).createTextNode(i.t.replace("text_",""))}return r.push(function(){o?i.md():i.ud()}),!0},n.un=function(){ko(this.b)},t}(er);function Fu(e,t,n){var r=n.map(function(l){return Mt(l)?null:l.key}),s=ii(t.map(function(l){return l.k})),i=ii(r),o=Lo(s,i,function(l){return l});o.removed.forEach(function(l){t.splice(l,1)[0].un()}),o.ordered.forEach(function(l){var u=l[0],c=l[1],f=t.splice(u,1)[0];t.splice(c,0,f);var d=mn(f.b),m=mn(t[c+1]&&t[c+1].b);d&&d.parentNode.insertBefore(d,m)}),o.added.forEach(function(l){t.splice(l,0,li(n[l],r[l],l,e))});var a=o.maintained.filter(function(l){l[0];var u=l[1],c=n[u],f=t[u],d=Mt(c)?"text_".concat(c):c.type;return d!==f.t?(f.un(),t.splice(u,1,li(c,r[u],u,e)),!0):(f.i=u,!1)});return si(si([],o.added,!0),a.map(function(l){l[0];var u=l[1];return u}),!0)}function $u(e,t){for(var n=e._ps,r=n.length,s=t.i+1;s<r;++s){var i=mn(n[s].b);if(i)return i}return null}function li(e,t,n,r){var s=r.d+1;if(Mt(e)||au(e))return new Bu("text_".concat(e),s,t,n,r,null,{});var i=e.type,o=typeof i=="string"?Gu:Au;return new o(i,s,t,n,r,e.ref,e.props)}function En(e,t,n,r,s,i,o){var a=Fu(e,t,n),l=e._hyd,u=t.filter(function(f,d){return f._hyd=l,f.u(r,s,n[d],i,o)});e.typ==="container"&&e._sel&&t.forEach(function(f){var d=$o(f);d&&(d._sel=!0)}),e._hyd=null;var c=Jn(e);return c&&a.reverse().forEach(function(f){var d=t[f],m=mn(d.b);if(m&&c!==m&&!m.parentNode){var p=$u(e,d);c.insertBefore(m,p)}}),u.length>0}function Uu(e,t,n,r){n===void 0&&(n=t.__CROACT__),r===void 0&&(r={});var s=!!n;n||(n=new Uo(t));var i=[];return En(n,n._ps,e?[e]:[],i,r,void 0,void 0),Go(i),Is(null),s||(t.__CROACT__=n),n}function ui(e,t,n){return!n&&e&&(n=new Uo(t.parentElement),n._hyd=[t],n._sel=!0),Uu(e,t,n),n}function Vo(e){var t=Bo(),n=t._hs||(t._hs=[]),r=Du(),s=n[r];if(Pu(r+1),s){if(!Gn(s.deps,e.deps))return s.updated=!1,s;n[r]=e}else n.push(e);return e.value=e.func(),e.updated=!0,e}function Vu(e,t){var n=Vo({func:e,deps:t});return n.value}function Yu(e){return Vu(function(){return ys(e)},[])}function Yo(e,t,n){var r=Bo(),s=Vo({func:function(){return e},deps:t}),i=n?r._usefs:r._uefs;s.updated?i.push(function(){return s.effect&&s.effect(),s.effect=e(),s.effect}):i.push(function(){return s.effect})}function zu(e,t,n){Yo(function(){e==null||e(t())},n,!0)}var kr=function(e,t){return kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},kr(e,t)};function Hu(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var qu=function(e){Hu(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={scrollPos:0},r.width=0,r.height=0,r._zoom=0,r._rulerScale=0,r._observer=null,r._checkResize=function(){r.resize()},r}var n=t.prototype;return n.render=function(){var r=this.props;return this._zoom=r.zoom,Be("canvas",{ref:mt(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var r=this.props;this.state.scrollPos=r.defaultScrollPos||0;var s=this.canvasElement,i=s.getContext("2d",{alpha:!0});this.canvasContext=i,r.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(s,{box:"border-box"})):this.resize()},n.componentDidUpdate=function(){this.resize()},n.componentWillUnmount=function(){var r;this.state.scrollPos=0,(r=this._observer)===null||r===void 0||r.disconnect()},n.getScrollPos=function(){return this.state.scrollPos},n.scroll=function(r,s){this.draw({scrollPos:r,zoom:s})},n.resize=function(r){var s=this.canvasElement,i=this.props,o=i.width,a=i.height,l=i.scrollPos,u=this._getRulerScale();this.width=o||s.offsetWidth,this.height=a||s.offsetHeight,s.width=this.width*u,s.height=this.height*u,this.draw({scrollPos:l,zoom:r})},n.draw=function(r){r===void 0&&(r={});var s=this.props,i=r.zoom,o=i===void 0?this._zoom:i,a=r.scrollPos,l=a===void 0?this.state.scrollPos:a,u=r.marks,c=u===void 0?s.marks:u,f=r.selectedRanges,d=f===void 0?s.selectedRanges:f,m=r.segment,p=m===void 0?s.segment||10:m,v=r.unit,g=v===void 0?s.unit:v;this._zoom=o;var _=s,E=_.type,T=_.backgroundColor,D=_.lineColor,y=_.textColor,S=_.textBackgroundColor,b=_.direction,h=_.negativeRuler,O=h===void 0?!0:h,k=_.textFormat,A=_.range,C=A===void 0?[-1/0,1/0]:A,U=_.rangeBackgroundColor,M=_.selectedBackgroundColor,z=_.lineWidth,R=z===void 0?1:z,L=_.selectedRangesText,G=_.selectedRangesTextColor,B=G===void 0?"#44aaff":G,V=_.selectedRangesTextOffset,Q=V===void 0?[0,0]:V,oe=_.markColor,_e=oe===void 0?"#ff5":oe,te=this._getRulerScale(),Ce=this.width,x=this.height,W=this.state;W.scrollPos=l;var $=this.canvasContext,re=E==="horizontal",ae=O!==!1,Ne=s.font||"10px sans-serif",Ke=s.textAlign||"left",kt=s.textOffset||[0,0],Y=re?x:Ce,se=an("".concat(s.mainLineSize||"100%"),Y),ue=an("".concat(s.longLineSize||10),Y),$e=an("".concat(s.shortLineSize||7),Y),fe=s.lineOffset||[0,0];switch(T==="transparent"?$.clearRect(0,0,Ce*te,x*te):($.rect(0,0,Ce*te,x*te),$.fillStyle=T,$.fill()),$.save(),$.scale(te,te),$.strokeStyle=D,$.lineWidth=R,$.font=Ne,$.fillStyle=y,$.textAlign=Ke,b){case"start":$.textBaseline="top";break;case"center":$.textBaseline="middle";break;case"end":$.textBaseline="bottom";break}$.translate(.5,0),$.beginPath();for(var lt=re?Ce:x,ut=o*g,Tt=Math.floor(l*o/ut),yt=Math.ceil((l*o+lt)/ut),zs=yt-Tt,Hs=Math.max(["left","center","right"].indexOf(Ke)-1,-1),ct=re?x:Ce,Zt=[],St=0;St<=zs;++St){var Gt=(St+Tt)*g,ur="".concat(Gt);k&&(ur=k(Gt));var Ka=$.measureText(ur).width;Zt.push({color:y,offset:kt,backgroundColor:S,value:Gt,text:ur,textSize:Ka})}if(M!=="transparent"&&(d!=null&&d.length)&&d.forEach(function(De){var xe=Math.max(De[0],C[0],O?-1/0:0),Ue=Math.min(De[1],C[1]),Je=(xe-l)*o,et=(Ue-xe)*o;L&&De.forEach(function(qe){var Xe="".concat(qe);k&&(Xe=k(qe));var tt=$.measureText(Xe).width,dt=qe*o,Sn=dt+tt;mu(Zt,function(Ft,Jt){var Rt=Ft.value,nl=Ft.textSize,Ks=Rt*o,rl=Ks+nl;Ks<=Sn&&dt<=rl&&Zt.splice(Jt,1)}),Zt.push({value:qe,color:B,offset:Q,text:Xe,textSize:tt})}),!(et<=0)&&($.save(),$.fillStyle=M,re?$.fillRect(Je,0,et,ct):$.fillRect(0,Je,ct,et),$.restore())}),U!=="transparent"&&C[0]!==-1/0&&C[1]!==1/0){var qs=(C[0]-l)*o,Xs=(C[1]-C[0])*o;$.save(),$.fillStyle=U,re?$.fillRect(qs,0,Xs,ct):$.fillRect(0,qs,ct,Xs),$.restore()}for(var St=0;St<=zs;++St){var Gt=St+Tt;if(!(!ae&&Gt<0))for(var js=Gt*g,Ja=(js-l)*o,Bt=0;Bt<p;++Bt){var Tn=Ja+Bt/p*ut,Ws=js+Bt/p*g;if(!(Tn<0||Tn>=lt||Ws<C[0]||Ws>C[1])){var yn=Bt===0?se:Bt%2===0?ue:$e,Kt=0;switch(b){case"start":Kt=0;break;case"center":Kt=ct/2-yn/2;break;case"end":Kt=ct-yn;break}var Qs=re?[Tn+fe[0],Kt+fe[1]]:[Kt+fe[0],Tn+fe[1]],cr=Qs[0],dr=Qs[1],Zs=re?[cr,dr+yn]:[cr+yn,dr],el=Zs[0],tl=Zs[1];$.moveTo(cr+fe[0],dr+fe[1]),$.lineTo(el+fe[0],tl+fe[1])}}}$.stroke(),$.beginPath(),$.strokeStyle=_e,$.lineWidth=1,(c||[]).forEach(function(De){var xe=(-l+De)*o;if(!(xe<0||xe>=lt||De<C[0]||De>C[1])){var Ue=re?[xe+fe[0],fe[1]]:[fe[0],xe+fe[1]],Je=Ue[0],et=Ue[1],qe=re?[Je,et+Y]:[Je+Y,et],Xe=qe[0],tt=qe[1];$.moveTo(Je+fe[0],et+fe[1]),$.lineTo(Xe+fe[0],tt+fe[1])}}),$.stroke(),Zt.forEach(function(De){var xe=De.value,Ue=De.offset,Je=De.backgroundColor,et=De.color,qe=De.text,Xe=De.textSize;if(!(!ae&&xe<0)){var tt=(xe-l)*o;if(!(tt<-ut||tt>=lt+g*o||xe<C[0]||xe>C[1])){var dt=0;switch(b){case"start":dt=17;break;case"center":dt=ct/2;break;case"end":dt=ct-17;break}var Sn=re?[tt+Hs*-3,dt]:[dt,tt+Hs*3],Ft=Sn[0],Jt=Sn[1];if(Je){var Rt=0;switch(Ke){case"left":Rt=0;break;case"center":Rt=-Xe/2;break;case"right":Rt=-Xe;break}$.save(),$.fillStyle=Je,re?$.fillRect(Ft+Ue[0]+Rt,0,Xe,se):($.translate(0,Jt+Ue[1]),$.rotate(-Math.PI/2),$.fillRect(Rt,0,Xe,se)),$.restore()}$.save(),$.fillStyle=et,re?$.fillText(qe,Ft+Ue[0],Jt+Ue[1]):($.translate(Ft+Ue[0],Jt+Ue[1]),$.rotate(-Math.PI/2),$.fillText(qe,0,0)),$.restore()}}}),$.restore()},n._getRulerScale=function(){var r=this.props.defaultPixelScale||2;if(!this._rulerScale){var s=window.devicePixelRatio>1;if(!s&&window.matchMedia){var i=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");s=i&&i.matches}this._rulerScale=s?3:r}return this._rulerScale},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555",defaultScrollPos:0,markColor:"#f55",marks:[]},t}(Fo),zo=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","defaultScrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","warpSelf","selectedBackgroundColor","selectedRanges","defaultPixelScale","useResizeObserver","selectedRangesText","selectedRangesTextColor","selectedRangesTextOffset","marks","markColor"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gr=function(){return Gr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gr.apply(this,arguments)};function Xu(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}var ju=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(Ze(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(Ze(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var i=this._events[n];if(i){var o=Kn(i,function(a){return a.listener===r});o>-1&&i.splice(o,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(i){s._addEvent(n,i,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var i=this._events[n];if(!n||!i)return!0;var o=!1;return r.eventType=n,r.stop=function(){o=!0},r.currentTarget=this,Xu(i).forEach(function(a){a.listener(r),a.once&&s.off(n,a.listener)}),!o},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var i=this._events;i[n]=i[n]||[];var o=i[n];o.push(Gr({listener:r},s))},e}();const Wu=ju;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Br=function(e,t){return Br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Br(e,t)};function Qu(e,t){Br(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var pe=function(){return pe=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pe.apply(this,arguments)};function Zu(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=Math.atan2(r,n);return s>=0?s:s+Math.PI*2}function hr(e){return Zu([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function Ku(e){return e.touches&&e.touches.length>=2}function bn(e){return e?e.touches?ec(e.touches):[Ho(e)]:[]}function Ju(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function ci(e,t,n){var r=n.length,s=ln(e,r),i=s.clientX,o=s.clientY,a=s.originalClientX,l=s.originalClientY,u=ln(t,r),c=u.clientX,f=u.clientY,d=ln(n,r),m=d.clientX,p=d.clientY,v=i-c,g=o-f,_=i-m,E=o-p;return{clientX:a,clientY:l,deltaX:v,deltaY:g,distX:_,distY:E}}function Er(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function ec(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(Ho(e[r]));return n}function Ho(e){return{clientX:e.clientX,clientY:e.clientY}}function ln(e,t){t===void 0&&(t=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(e.length,t),s=0;s<r;++s){var i=e[s];n.originalClientX+="originalClientX"in i?i.originalClientX:i.clientX,n.originalClientY+="originalClientY"in i?i.originalClientY:i.clientY,n.clientX+=i.clientX,n.clientY+=i.clientY}return t?{clientX:n.clientX/t,clientY:n.clientY/t,originalClientX:n.originalClientX/t,originalClientY:n.originalClientY/t}:n}var Ir=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),hr(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),hr(t)-hr(this.startClients)},e.prototype.getPosition=function(t,n){t===void 0&&(t=this.prevClients);var r=ci(t||this.prevClients,this.prevClients,this.startClients),s=r.deltaX,i=r.deltaY;return this.movement+=Math.sqrt(s*s+i*i),this.prevClients=t,r},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var n=this.prevClients,r=this.startClients,s=Math.min(this.length,n.length),i=[],o=0;o<s;++o)i[o]=ci([t[o]],[n[o]],[r[o]]);return i},e.prototype.getMovement=function(t){var n=this.movement;if(!t)return n;var r=ln(t,this.length),s=ln(this.prevClients,this.length),i=r.clientX-s.clientX,o=r.clientY-s.clientY;return Math.sqrt(i*i+o*o)+n},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),Er(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),Er(t)/Er(this.startClients)},e.prototype.move=function(t,n){this.startClients.forEach(function(r){r.clientX-=t,r.clientY-=n}),this.prevClients.forEach(function(r){r.clientX-=t,r.clientY-=n})},e}(),di=["textarea","input"],tc=function(e){Qu(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this)||this;s.options={},s.flag=!1,s.pinchFlag=!1,s.data={},s.isDrag=!1,s.isPinch=!1,s.clientStores=[],s.targets=[],s.prevTime=0,s.doubleFlag=!1,s._useMouse=!1,s._useTouch=!1,s._useDrag=!1,s._dragFlag=!1,s._isTrusted=!1,s._isMouseEvent=!1,s._isSecondaryButton=!1,s._preventMouseEvent=!1,s._prevInputEvent=null,s._isDragAPI=!1,s._isIdle=!0,s._window=window,s.onDragStart=function(d,m){if(m===void 0&&(m=!0),!(!s.flag&&d.cancelable===!1)){var p=d.type.indexOf("drag")>=-1;if(!(s.flag&&p)){s._isDragAPI=!0;var v=s.options,g=v.container,_=v.pinchOutside,E=v.preventWheelClick,T=v.preventRightClick,D=v.preventDefault,y=v.checkInput,S=v.dragFocusedInput,b=v.preventClickEventOnDragStart,h=v.preventClickEventOnDrag,O=v.preventClickEventByCondition,k=s._useTouch,A=!s.flag;if(s._isSecondaryButton=d.which===3||d.button===2,E&&(d.which===2||d.button===1)||T&&(d.which===3||d.button===2))return s.stop(),!1;if(A){var C=s._window.document.activeElement,U=d.target;if(U){var M=U.tagName.toLowerCase(),z=di.indexOf(M)>-1,R=U.isContentEditable;if(z||R){if(y||!S&&C===U)return!1;if(C&&(C===U||R&&C.isContentEditable&&C.contains(U)))if(S)U.blur();else return!1}else if((D||d.type==="touchstart")&&C){var L=C.tagName.toLowerCase();(C.isContentEditable||di.indexOf(L)>-1)&&C.blur()}(b||h||O)&&Te(s._window,"click",s._onClick,!0)}s.clientStores=[new Ir(bn(d))],s._isIdle=!1,s.flag=!0,s.isDrag=!1,s._isTrusted=m,s._dragFlag=!0,s._prevInputEvent=d,s.data={},s.doubleFlag=Lr()-s.prevTime<200,s._isMouseEvent=Ju(d),!s._isMouseEvent&&s._preventMouseEvent&&(s._preventMouseEvent=!1);var G=s._preventMouseEvent||s.emit("dragStart",pe(pe({data:s.data,datas:s.data,inputEvent:d,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,isTrusted:m,isDouble:s.doubleFlag},s.getCurrentStore().getPosition()),{preventDefault:function(){d.preventDefault()},preventDrag:function(){s._dragFlag=!1}}));G===!1&&s.stop(),s._isMouseEvent&&s.flag&&D&&d.preventDefault()}if(!s.flag)return!1;var B=0;if(A?(s._attchDragEvent(),k&&_&&(B=setTimeout(function(){Te(g,"touchstart",s.onDragStart,{passive:!1})}))):k&&_&&ge(g,"touchstart",s.onDragStart),s.flag&&Ku(d)){if(clearTimeout(B),A&&d.touches.length!==d.changedTouches.length)return;s.pinchFlag||s.onPinchStart(d)}}}},s.onDrag=function(d,m){if(s.flag){var p=s.options.preventDefault;!s._isMouseEvent&&p&&d.preventDefault(),s._prevInputEvent=d;var v=bn(d),g=s.moveClients(v,d,!1);if(s._dragFlag){if(s.pinchFlag||g.deltaX||g.deltaY){var _=s._preventMouseEvent||s.emit("drag",pe(pe({},g),{isScroll:!!m,inputEvent:d}));if(_===!1){s.stop();return}}s.pinchFlag&&s.onPinch(d,v)}s.getCurrentStore().getPosition(v,!0)}},s.onDragEnd=function(d){if(s.flag){var m=s.options,p=m.pinchOutside,v=m.container,g=m.preventClickEventOnDrag,_=m.preventClickEventOnDragStart,E=m.preventClickEventByCondition,T=s.isDrag;(g||_||E)&&requestAnimationFrame(function(){s._allowClickEvent()}),!E&&!_&&g&&!T&&s._allowClickEvent(),s._useTouch&&p&&ge(v,"touchstart",s.onDragStart),s.pinchFlag&&s.onPinchEnd(d);var D=d!=null&&d.touches?bn(d):[],y=D.length;y===0||!s.options.keepDragging?s.flag=!1:s._addStore(new Ir(D));var S=s._getPosition(),b=Lr(),h=!T&&s.doubleFlag;s._prevInputEvent=null,s.prevTime=T||h?0:b,s.flag||(s._dettachDragEvent(),s._preventMouseEvent||s.emit("dragEnd",pe({data:s.data,datas:s.data,isDouble:h,isDrag:T,isClick:!T,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,inputEvent:d,isTrusted:s._isTrusted},S)),s.clientStores=[],s._isMouseEvent||(s._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){s._preventMouseEvent=!1})})),s._isIdle=!0)}},s.onBlur=function(){s.onDragEnd()},s._allowClickEvent=function(){ge(s._window,"click",s._onClick,!0)},s._onClick=function(d){s._allowClickEvent(),s._preventMouseEvent=!1;var m=s.options.preventClickEventByCondition;m!=null&&m(d)||(d.stopPropagation(),d.preventDefault())},s._onContextMenu=function(d){var m=s.options;m.preventRightClick?s.onDragEnd(d):d.preventDefault()},s._passCallback=function(){};var i=[].concat(n),o=i[0];s._window=Iu(o)?o:_r(o),s.options=pe({checkInput:!1,container:o&&!("document"in o)?_r(o):o,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},r);var a=s.options,l=a.container,u=a.events,c=a.checkWindowBlur;if(s._useDrag=u.indexOf("drag")>-1,s._useTouch=u.indexOf("touch")>-1,s._useMouse=u.indexOf("mouse")>-1,s.targets=i,s._useDrag&&i.forEach(function(d){Te(d,"dragstart",s.onDragStart)}),s._useMouse&&(i.forEach(function(d){Te(d,"mousedown",s.onDragStart),Te(d,"mousemove",s._passCallback)}),Te(l,"contextmenu",s._onContextMenu)),c&&Te(_r(),"blur",s.onBlur),s._useTouch){var f={passive:!1};i.forEach(function(d){Te(d,"touchstart",s.onDragStart,f),Te(d,"touchmove",s._passCallback,f)})}return s}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(r,s){return r+s.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(n,r,s,i){i===void 0&&(i=!0),this.flag&&(this.clientStores[0].move(n,r),i&&this.onDrag(s,!0))},t.prototype.move=function(n,r){var s=n[0],i=n[1],o=this.getCurrentStore(),a=o.prevClients;return this.moveClients(a.map(function(l){var u=l.clientX,c=l.clientY;return{clientX:u+s,clientY:c+i,originalClientX:u,originalClientY:c}}),r,!0)},t.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},t.prototype.setEventData=function(n){var r=this.data;for(var s in n)r[s]=n[s];return this},t.prototype.setEventDatas=function(n){return this.setEventData(n)},t.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),pe(pe({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var n=this,r=this.targets,s=this.options.container;this.off(),ge(this._window,"blur",this.onBlur),this._useDrag&&r.forEach(function(i){ge(i,"dragstart",n.onDragStart)}),this._useMouse&&(r.forEach(function(i){ge(i,"mousedown",n.onDragStart)}),ge(s,"contextmenu",this._onContextMenu)),this._useTouch&&(r.forEach(function(i){ge(i,"touchstart",n.onDragStart)}),ge(s,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(n){var r=this,s=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>s)){var i=new Ir(bn(n));this.pinchFlag=!0,this._addStore(i);var o=this.emit("pinchStart",pe(pe({data:this.data,datas:this.data,angle:i.getAngle(),touches:this.getCurrentStore().getPositions()},i.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));o===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(n,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var s=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",pe(pe({data:this.data,datas:this.data,movement:this.getMovement(r),angle:s.getAngle(r),rotation:s.getRotation(r),touches:s.getPositions(r),scale:s.getScale(r),distance:s.getDistance(r)},s.getPosition(r)),{inputEvent:n,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(n){if(this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var s=this.getCurrentStore();this.emit("pinchEnd",pe(pe({data:this.data,datas:this.data,isPinch:r,touches:s.getPositions()},s.getPosition()),{inputEvent:n}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(n,r,s){var i=this._getPosition(n,s),o=this.isDrag;(i.deltaX||i.deltaY)&&(this.isDrag=!0);var a=!1;return!o&&this.isDrag&&(a=!0),pe(pe({data:this.data,datas:this.data},i),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:r,isTrusted:this._isTrusted,isFirstDrag:a})},t.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},t.prototype._getPosition=function(n,r){var s=this.getCurrentStore(),i=s.getPosition(n,r),o=this.clientStores.slice(1).reduce(function(u,c){var f=c.getPosition();return u.distX+=f.distX,u.distY+=f.distY,u},i),a=o.distX,l=o.distY;return pe(pe({},i),{distX:a,distY:l})},t.prototype._attchDragEvent=function(){var n=this._window,r=this.options.container,s={passive:!1};this._isDragAPI&&(Te(r,"dragover",this.onDrag,s),Te(n,"dragend",this.onDragEnd)),this._useMouse&&(Te(r,"mousemove",this.onDrag),Te(n,"mouseup",this.onDragEnd)),this._useTouch&&(Te(r,"touchmove",this.onDrag,s),Te(n,"touchend",this.onDragEnd,s),Te(n,"touchcancel",this.onDragEnd,s))},t.prototype._dettachDragEvent=function(){var n=this._window,r=this.options.container;this._isDragAPI&&(ge(r,"dragover",this.onDrag),ge(n,"dragend",this.onDragEnd)),this._useMouse&&(ge(r,"mousemove",this.onDrag),ge(n,"mouseup",this.onDragEnd)),this._useTouch&&(ge(r,"touchstart",this.onDragStart),ge(r,"touchmove",this.onDrag),ge(n,"touchend",this.onDragEnd),ge(n,"touchcancel",this.onDragEnd))},t}(Wu);function nc(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var rc=nc;function sc(e){return rc(e).toString(36)}function ic(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function oc(e,t,n){return n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,s){var i=s.trim();return(i?rn(i):[""]).map(function(o){var a=o.trim();return a.indexOf("@")===0?a:a.indexOf(":global")>-1?a.replace(/\:global/g,""):a.indexOf(":host")>-1?"".concat(a.replace(/\:host/g,".".concat(e))):a?".".concat(e," ").concat(a):".".concat(e)}).join(", ")+" {"})}function ac(e,t,n,r,s){var i=gs(r),o=i.createElement("style");return o.setAttribute("type","text/css"),o.setAttribute("data-styled-id",e),o.setAttribute("data-styled-count","1"),n.nonce&&o.setAttribute("nonce",n.nonce),o.innerHTML=oc(e,t,n),(s||i.head||i.body).appendChild(o),o}function lc(e){var t="rCS"+sc(e);return{className:t,inject:function(n,r){r===void 0&&(r={});var s=ic(n),i=(s||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!i)i=ac(t,e,r,n,s);else{var o=parseFloat(i.getAttribute("data-styled-count"))||0;i.setAttribute("data-styled-count","".concat(o+1))}return{destroy:function(){var a,l=parseFloat(i.getAttribute("data-styled-count"))||0;l<=1?(i.remove?i.remove():(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=null):i.setAttribute("data-styled-count","".concat(l-1))}}}}}var Fr=function(){return Fr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fr.apply(this,arguments)};function uc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function cc(e,t){var n=lc(t),r=n.className;return wu(function(s,i){var o=s.className,a=o===void 0?"":o;s.cspNonce;var l=uc(s,["className","cspNonce"]),u=Yu();return zu(i,function(){return u.current},[]),Yo(function(){var c=n.inject(u.current,{nonce:s.cspNonce});return function(){c.destroy()}},[]),Be(e,Fr({ref:u,"data-styled-id":r,className:"".concat(a," ").concat(r)},l))})}function dc(e,t,n,r,s,i){for(var o=0;o<s;++o){var a=n+o*s,l=r+o*s;e[a]+=e[l]*i,t[a]+=t[l]*i}}function fc(e,t,n,r,s){for(var i=0;i<s;++i){var o=n+i*s,a=r+i*s,l=e[o],u=t[o];e[o]=e[a],e[a]=l,t[o]=t[a],t[a]=u}}function pc(e,t,n,r,s){for(var i=0;i<r;++i){var o=n+i*r;e[o]/=s,t[o]/=s}}function mc(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=qo(t),s=0;s<t;++s){var i=t*s+s;if(!vr(n[i],pr)){for(var o=s+1;o<t;++o)if(n[t*s+o]){fc(n,r,s,o,t);break}}if(!vr(n[i],pr))return[];pc(n,r,s,t,n[i]);for(var o=0;o<t;++o){var a=o,l=o+s*t,u=n[l];!vr(u,pr)||s===o||dc(n,r,a,s,t,-u)}}return r}function Lt(e,t,n){n===void 0&&(n=Math.sqrt(e.length));var r=[],s=e.length/n,i=t.length/s;if(s){if(!i)return e}else return t;for(var o=0;o<n;++o)for(var a=0;a<i;++a){r[a*n+o]=0;for(var l=0;l<s;++l)r[a*n+o]+=e[l*n+o]*t[a*s+l]}return r}function vc(e,t,n){n===void 0&&(n=t.length);var r=Lt(e,t,n),s=r[n-1];return r.map(function(i){return i/s})}function _c(e,t){return Lt(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function gc(e,t){return Lt(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function hc(e,t){return Lt(e,Ec(t,4))}function On(e,t){var n=t[0],r=n===void 0?1:n,s=t[1],i=s===void 0?1:s,o=t[2],a=o===void 0?1:o;return Lt(e,[r,0,0,0,0,i,0,0,0,0,a,0,0,0,0,1],4)}function Tr(e,t){var n=t[0],r=n===void 0?0:n,s=t[1],i=s===void 0?0:s,o=t[2],a=o===void 0?0:o;return Lt(e,[1,0,0,0,0,1,0,0,0,0,1,0,r,i,a,1],4)}function $r(e,t){return Lt(e,t,4)}function Ec(e,t){var n=Math.cos(e),r=Math.sin(e),s=qo(t);return s[0]=n,s[1]=r,s[t]=-r,s[t+1]=n,s}function qo(e){for(var t=e*e,n=[],r=0;r<t;++r)n[r]=r%(e+1)?0:1;return n}var un=function(){return un=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},un.apply(this,arguments)};function Xo(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Ic(e,t){return t===void 0&&(t=0),yc(Sc(e,t))}function fi(e,t){var n=vc(e,[t[0],t[1]||0,t[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function Tc(e,t){t===void 0&&(t=document.body);for(var n=e,r=Xo();n;){var s=getComputedStyle(n).transform;if(r=$r(Ic(s),r),n===t)break;n=n.parentElement}return r=mc(r,4),r[12]=0,r[13]=0,r[14]=0,r}function yc(e){var t=Xo();return e.forEach(function(n){var r=n.matrixFunction,s=n.functionValue;r&&(t=r(t,s))}),t}function Sc(e,t){t===void 0&&(t=0);var n=Po(e)?e:cu(e);return n.map(function(r){var s=du(r),i=s.prefix,o=s.value,a=null,l=i,u="";if(i==="translate"||i==="translateX"||i==="translate3d"){var c=Ze(t)?un(un({},t),{"o%":t["%"]}):{"%":t,"o%":t},f=rn(o).map(function(U,M){return M===0&&"x%"in c?c["%"]=t["x%"]:M===1&&"y%"in c?c["%"]=t["y%"]:c["%"]=t["o%"],an(U,c)}),d=f[0],m=f[1],p=m===void 0?0:m,v=f[2],g=v===void 0?0:v;a=Tr,u=[d,p,g]}else if(i==="translateY"){var _=Ze(t)?un({"%":t["y%"]},t):{"%":t},p=an(o,_);a=Tr,u=[0,p,0]}else if(i==="translateZ"){var g=parseFloat(o);a=Tr,u=[0,0,g]}else if(i==="scale"||i==="scale3d"){var E=rn(o).map(function(U){return parseFloat(U)}),T=E[0],D=E[1],y=D===void 0?T:D,S=E[2],b=S===void 0?1:S;a=On,u=[T,y,b]}else if(i==="scaleX"){var T=parseFloat(o);a=On,u=[T,1,1]}else if(i==="scaleY"){var y=parseFloat(o);a=On,u=[1,y,1]}else if(i==="scaleZ"){var b=parseFloat(o);a=On,u=[1,1,b]}else if(i==="rotate"||i==="rotateZ"||i==="rotateX"||i==="rotateY"){var h=Ao(o),O=h.unit,k=h.value,A=O==="rad"?k:k*Math.PI/180;i==="rotate"||i==="rotateZ"?(l="rotateZ",a=hc):i==="rotateX"?a=_c:i==="rotateY"&&(a=gc),u=A}else if(i==="matrix3d")a=$r,u=rn(o).map(function(U){return parseFloat(U)});else if(i==="matrix"){var C=rn(o).map(function(U){return parseFloat(U)});a=$r,u=[C[0],C[1],0,0,C[2],C[3],0,0,0,0,1,0,C[4],C[5],0,1]}else l="";return{name:i,functionName:l,value:o,matrixFunction:a,functionValue:u}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ur=function(){return Ur=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ur.apply(this,arguments)};function Rc(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}var bc=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(Ze(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(Ze(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var i=this._events[n];if(i){var o=Kn(i,function(a){return a.listener===r});o>-1&&i.splice(o,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(i){s._addEvent(n,i,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var i=this._events[n];if(!n||!i)return!0;var o=!1;return r.eventType=n,r.stop=function(){o=!0},r.currentTarget=this,Rc(i).forEach(function(a){a.listener(r),a.once&&s.off(n,a.listener)}),!o},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var i=this._events;i[n]=i[n]||[];var o=i[n];o.push(Ur({listener:r},s))},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Vr=function(e,t){return Vr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Vr(e,t)};function Oc(e,t){Vr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ut=function(){return Ut=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ut.apply(this,arguments)};function Cc(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function yr(e){if(e){if(Mt(e))return document.querySelector(e)}else return null;if(wo(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var Dc=function(e){Oc(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r}var n=t.prototype;return n.dragStart=function(r,s){var i=yr(s.container);if(!i){this._flag=!1;return}var o=0,a=0,l=0,u=0;if(i===document.body)l=window.innerWidth,u=window.innerHeight;else{var c=i.getBoundingClientRect();o=c.top,a=c.left,l=c.width,u=c.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:o,left:a,width:l,height:u},this._prevScrollPos=this._getScrollPosition([0,0],s)},n.drag=function(r,s){if(clearTimeout(this._timer),!!this._flag){var i=r.clientX,o=r.clientY,a=s.threshold,l=a===void 0?0:a,u=this,c=u._startRect,f=u._startPos,d=[0,0];return c.top>o-l?(f[1]>c.top||o<f[1])&&(d[1]=-1):c.top+c.height<o+l&&(f[1]<c.top+c.height||o>f[1])&&(d[1]=1),c.left>i-l?(f[0]>c.left||i<f[0])&&(d[0]=-1):c.left+c.width<i+l&&(f[0]<c.left+c.width||i>f[0])&&(d[0]=1),!d[0]&&!d[1]?!1:this._continueDrag(Ut(Ut({},s),{direction:d,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var s=this;if(this._isWait)return!1;var i=r.prevScrollPos,o=i===void 0?this._prevScrollPos:i,a=r.direction,l=r.throttleTime,u=l===void 0?0:l,c=r.inputEvent,f=r.isDrag,d=this._getScrollPosition(a||[0,0],r),m=d[0]-o[0],p=d[1]-o[1],v=a||[m?Math.abs(m)/m:0,p?Math.abs(p)/p:0];return this._prevScrollPos=d,!m&&!p?!1:(this.trigger("move",{offsetX:v[0]?m:0,offsetY:v[1]?p:0,inputEvent:c}),u&&f&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},u)),!0)},n.dragEnd=function(){this._flag=!1,clearTimeout(this._timer)},n._getScrollPosition=function(r,s){var i=s.container,o=s.getScrollPosition,a=o===void 0?Cc:o;return a({container:yr(i),direction:r})},n._continueDrag=function(r){var s=this,i,o,a=r.container,l=r.direction,u=r.throttleTime,c=r.useScroll,f=r.isDrag,d=r.inputEvent;if(!(!this._flag||f&&this._isWait)){var m=Lr(),p=Math.max(u+this._prevTime-m,0);if(p>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},p),!1;this._prevTime=m;var v=this._getScrollPosition(l,r);this._prevScrollPos=v,f&&(this._isWait=!0);var g={container:yr(a),direction:l,inputEvent:d};return(o=(i=r).requestScroll)===null||o===void 0||o.call(i,g),this.trigger("scroll",g),this._isWait=!1,c||this.checkScroll(Ut(Ut({},r),{prevScrollPos:v,direction:l,inputEvent:d}))}},t}(bc),Yr=function(e,t){return Yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Yr(e,t)};function Pc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Yr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var we=function(){return we=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},we.apply(this,arguments)};function cn(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function rt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zl.apply(void 0,cn(["scena-guides-"],e,!1))}var wc=rt("guide","adder"),Mc=rt("guides"),Ac=rt("guide"),pi=rt("dragging"),Lc=rt("display-drag"),Nc=Kl("scena-guides-",`
{
    position: relative;
    width: 100%;
    height: 100%;
}
canvas {
    position: relative;
}
.guide-origin {
    position: absolute;
    width: 1px;
    height: 1px;
    top: 0;
    left: 0;
    opacity: 0;
}
.guides {
    position: absolute;
    bottom: 0;
    right: 0;
    will-change: transform;
    z-index: 2000;
}
.guide-pos {
    position: absolute;
    font-weight: bold;
    font-size: 12px;
    color: #f33;
}
.horizontal .guide-pos {
    bottom: 100%;
    left: 50%;
    transform: translate(-50%);
}
.vertical .guide-pos {
    left: calc(100% + 2px);
    top: 50%;
    transform: translateY(-50%);
}
.display-drag {
    position: absolute;
    will-change: transform;
    z-index: 2000;
    font-weight: bold;
    font-size: 12px;
    display: none;
    left: 20px;
    top: -20px;
    color: #f33;
}
:host.horizontal .guides {
    width: 100%;
    height: 0;
}
:host.vertical .guides {
    height: 100%;
    width: 0;
}
:host.horizontal canvas {
    cursor: ns-resize;
}
:host.vertical canvas {
    cursor: ew-resize;
}
.guide {
    position: absolute;
    background: #f33;
    z-index: 2;
}
.guide.dragging:before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
:host.horizontal .guide {
    width: 100%;
    height: 1px;
    cursor: row-resize;
}
:host.vertical .guide {
    width: 1px;
    height: 100%;
    cursor: col-resize;
}
.mobile :host.horizontal .guide {
    transform: scale(1, 2);
}
.mobile :host.vertical .guide {
    transform: scale(2, 1);
}
:host.horizontal .guide:before {
    height: 20px;
}
:host.vertical .guide:before {
    width: 20px;
}
.adder {
    display: none;
}
.adder.dragging {
    display: block;
}
`),xc=cn(["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides","scrollOptions","guideStyle","guidesOffset","digit","defaultGuidesPos","dragGuideStyle","displayGuidePos","guidePosFormat","guidePosStyle","lockGuides","guidesZoom"],zo,!0),kc=["getGuides","loadGuides","scroll","scrollGuides","resize","getElement","getRulerElement","forceUpdate","getRulerScrollPos","getGuideScrollPos","zoomTo","drawRuler"],Gc=["changeGuides","requestScroll","dragStart","drag","dragEnd","clickRuler"],Bc=cc("div",Nc),Fc=function(e){Pc(t,e);function t(r){var s=e.call(this,r)||this;return s.state={guides:[]},s.scrollPos=0,s.managerRef=ys(),s.guideElements=[],s._isFirstMove=!1,s._zoom=1,s._guidesZoom=1,s._observer=null,s.onDragStart=function(i){var o=i.datas,a=i.inputEvent;s._isFirstMove=!0,s.movePos(i),s.props.onDragStart(we(we({},i),{dragElement:o.target})),s.gesto.isFlag()&&(a.stopPropagation(),a.preventDefault(),s._startDragScroll(i))},s._onDrag=function(i){s._isFirstMove&&(s._isFirstMove=!1,hu(i.datas.target,pi));var o=s.movePos(i);if(s.props.onDrag(we(we({},i),{dragElement:i.datas.target})),!s.gesto.isFlag()){s._endDragScroll(i);return}return s._dragScroll(i),o},s.onDragEnd=function(i){var o=i.datas,a=i.isDouble,l=i.distX,u=i.distY,c=s.movePos(i),f=s.state.guides,d=s.props,m=d.onChangeGuides,p=d.displayDragPos,v=d.digit,g=d.lockGuides,_=d.guidesOffset,E=s._guidesZoom,T=parseFloat((c/E).toFixed(v||0)),D=s.scrollPos-(_||0);if(p&&(s.displayElement.style.cssText+="display: none;"),Eu(o.target,pi),s.props.onDragEnd(we(we({},i),{dragElement:o.target})),s._endDragScroll(i),o.fromRuler)s._isFirstMove&&s.props.onClickRuler(we(we({},i),{pos:0})),T>=D&&f.indexOf(T)<0&&s.setState({guides:cn(cn([],f,!0),[T],!1)},function(){m({guides:s.state.guides,distX:l,distY:u,index:f.length,isAdd:!0,isRemove:!1,isChange:!1})});else{var y=parseFloat(o.target.getAttribute("data-index")),S=!1,b=!1;f=cn([],f,!0);var h=f.indexOf(T);if(a||T<D||h>-1&&h!==y){if(g&&(g===!0||g.indexOf("remove")>-1))return;f.splice(y,1),S=!0}else{if(h>-1)return;if(g&&(g===!0||g.indexOf("change")>-1))return;f[y]=T,b=!0}s.setState({guides:f},function(){var O=s.state.guides;m({distX:l,distY:u,guides:O,isAdd:!1,index:y,isChange:b,isRemove:S})})}},s._onCheck=function(){s.resize()},s.state.guides=r.defaultGuides||[],s.scrollPos=r.defaultGuidesPos||0,s}var n=t.prototype;return n.render=function(){var r=this.props,s=r.className,i=r.type,o=r.zoom,a=r.guidesZoom,l=r.style,u=r.rulerStyle,c=r.displayDragPos,f=r.cspNonce,d=r.dragGuideStyle,m=r.guidePosStyle,p=m===void 0?{}:m,v=this.props,g=this.getTranslateName(),_={};return zo.forEach(function(E){E==="style"||E==="warpSelf"||E==="useResizeObserver"||(_[E]=v[E])}),this._zoom=o,this._guidesZoom=a||o,Be(Bc,{ref:this.managerRef,cspNonce:f,className:"".concat(rt("manager",i)," ").concat(s),style:l},Be("div",{className:rt("guide-origin"),ref:mt(this,"originElement")}),Be(qu,we({ref:mt(this,"ruler"),style:u},_)),Be("div",{className:Mc,ref:mt(this,"guidesElement"),style:{transform:"".concat(g,"(").concat(-this.scrollPos*this._guidesZoom,"px)")}},c&&Be("div",{className:Lc,ref:mt(this,"displayElement"),style:p||{}}),Be("div",{className:wc,ref:mt(this,"adderElement"),style:d}),this.renderGuides()))},n.drawRuler=function(r){this.ruler.draw(r)},n.renderGuides=function(){var r=this,s=this.props,i=s,o=i.type,a=i.showGuides,l=i.guideStyle,u=i.displayGuidePos,c=i.guidePosStyle,f=c===void 0?{}:c,d=i.guidesOffset,m=this._guidesZoom,p=this.getTranslateName(),v=this.state.guides,g=s.guidePosFormat||s.dragPosFormat||function(_){return _};if(this.guideElements=[],a)return v.map(function(_,E){var T=_+(d||0);return Be("div",{className:rt("guide",o),ref:Jl(r,"guideElements",E),key:E,"data-index":E,"data-pos":_,style:we(we({},l),{transform:"".concat(p,"(").concat(T*m,"px) translateZ(0px)")})},u&&Be("div",{className:rt("guide-pos"),style:f||{}},g(_)))})},n.componentDidMount=function(){var r=this;this.gesto=new tc(this.managerRef.current,{container:document.body}).on("dragStart",function(s){var i=r.props,o=i.type,a=i.lockGuides,l=r._guidesZoom;if(a===!0){s.stop();return}var u=s.inputEvent,c=u.target,f=s.datas,d=r.ruler.canvasElement,m=r.guidesElement,p=o==="horizontal",v=r.originElement.getBoundingClientRect(),g=Tc(r.managerRef.current),_=fi(g,[s.clientX-v.left,s.clientY-v.top]);_[0]-=m.offsetLeft,_[1]-=m.offsetTop,_[p?1:0]+=r.scrollPos*l,f.offsetPos=_,f.matrix=g;var E=a&&a.indexOf("add")>-1,T=a&&a.indexOf("remove")>-1,D=a&&a.indexOf("change")>-1;if(c===d){if(E){s.stop();return}f.fromRuler=!0,f.target=r.adderElement}else if(gu(c,Ac)){if(T&&D){s.stop();return}f.target=c}else return s.stop(),!1;r.onDragStart(s)}).on("drag",this._onDrag).on("dragEnd",this.onDragEnd),this.props.useResizeObserver?(this._observer=new ResizeObserver(this._onCheck),this._observer.observe(this.guidesElement,{box:"border-box"}),this._observer.observe(this.getRulerElement(),{box:"border-box"})):this._onCheck()},n.componentWillUnmount=function(){var r;this.gesto.unset(),(r=this._observer)===null||r===void 0||r.disconnect()},n.componentDidUpdate=function(r){var s=this.props.defaultGuides;r.defaultGuides!==s&&this.setState({guides:s||[]})},n.loadGuides=function(r){this.setState({guides:r})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(r,s){s===void 0&&(s=this._guidesZoom),this._setZoom({guidesZoom:s});var i=this.getTranslateName(),o=this.guidesElement;this.scrollPos=r,o.style.transform="".concat(i,"(").concat(-r*s,"px)");var a=this.state.guides,l=this.props.guidesOffset||0;this.guideElements.forEach(function(u,c){if(u){var f=a[c]+(l||0);u.style.transform="".concat(i,"(").concat(f*s,"px) translateZ(0px)"),u.style.display=-r+f<0?"none":"block"}})},n.zoomTo=function(r,s){s===void 0&&(s=r),this.scroll(this.getRulerScrollPos(),r),this.scrollGuides(this.getGuideScrollPos(),s)},n.getElement=function(){return this.managerRef.current},n.getRulerElement=function(){return this.ruler.canvasElement},n.getGuideScrollPos=function(){return this.scrollPos},n.getRulerScrollPos=function(){return this.ruler.getScrollPos()},n.scroll=function(r,s){s===void 0&&(s=this._zoom),this._setZoom({zoom:s}),this.ruler.scroll(r,s)},n.resize=function(r){r===void 0&&(r=this._zoom),this._setZoom({zoom:r}),this.ruler.resize(r)},n.movePos=function(r){var s=r.datas,i=r.distX,o=r.distY,a=this.props,l=a.type,u=a.snaps,c=a.snapThreshold,f=a.displayDragPos,d=a.digit,m=a.guidesOffset||0,p=this._guidesZoom,v=a.dragPosFormat||function(A){return A},g=l==="horizontal",_=fi(s.matrix,[i,o]),E=s.offsetPos,T=_[0]+E[0],D=_[1]+E[1],y=m*p,S=Math.round(g?D:T)-m,b=parseFloat((S/p).toFixed(d||0)),h=u.slice().sort(function(A,C){return Math.abs(b-A)-Math.abs(b-C)});if(h.length&&Math.abs(h[0]*p-S)<c&&(b=h[0],S=b*p),!s.fromRuler||!this._isFirstMove){if(f){var O=l==="horizontal"?[T,S+y]:[S+y,D];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) "+"translate(".concat(O.map(function(A){return"".concat(A,"px")}).join(", "),")"),this.displayElement.innerHTML="".concat(v(b))}var k=s.target;k.setAttribute("data-pos",b),k.style.transform="".concat(this.getTranslateName(),"(").concat(S+m*p,"px)")}return S},n.getTranslateName=function(){return this.props.type==="horizontal"?"translateY":"translateX"},n._startDragScroll=function(r){var s=this,i=this.props.scrollOptions;if(i){var o=r.datas,a=new Dc;o.dragScroll=a,a.on("scroll",function(l){var u,c,f=l.container,d=l.direction;(c=(u=s.props).onRequestScroll)===null||c===void 0||c.call(u,{container:f,direction:d})}).on("move",function(l){var u=l.offsetX,c=l.offsetY,f=l.inputEvent;s.gesto.scrollBy(u,c,f.inputEvent,!0)}),a.dragStart(r,{container:i.container})}},n._dragScroll=function(r){var s=this.props.scrollOptions;if(s){var i=r.datas.dragScroll;i.drag(r,s)}},n._endDragScroll=function(r){var s;(s=r.datas.dragScroll)===null||s===void 0||s.dragEnd(),r.datas.dragScroll=null},n._setZoom=function(r){var s=r.zoom,i=r.guidesZoom;this.props.zoom;var o=!!this.props.guidesZoom;o?i&&(this._guidesZoom=i):(i&&(this._zoom=i,this._guidesZoom=i),s&&(this._guidesZoom=s)),s&&(this._zoom=s)},t.defaultProps={className:"",type:"horizontal",zoom:1,guidesZoom:0,style:{},snapThreshold:5,snaps:[],digit:0,onClickRuler:function(){},onChangeGuides:function(){},onRequestScroll:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(r){return r},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},guidePosStyle:{},defaultGuidesPos:0},t}(Fo),zr=function(e,t){return zr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},zr(e,t)};function Rs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Bn=function(){return Bn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bn.apply(this,arguments)};function $c(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}var jo=xc,Wo=kc,Qo=Gc,Uc=function(e){Rs(t,e);function t(r){var s=e.call(this,r)||this;return s.state={},s.state=s.props,s}var n=t.prototype;return n.render=function(){return Be(Fc,Bn({ref:mt(this,"guides")},this.state))},t}(Ts);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hr=function(){return Hr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hr.apply(this,arguments)};function Vc(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}var Yc=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(Ze(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(Ze(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var i=this._events[n];if(i){var o=Kn(i,function(a){return a.listener===r});o>-1&&i.splice(o,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(i){s._addEvent(n,i,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var i=this._events[n];if(!n||!i)return!0;var o=!1;return r.eventType=n,r.stop=function(){o=!0},r.currentTarget=this,Vc(i).forEach(function(a){a.listener(r),a.once&&s.off(n,a.listener)}),!o},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var i=this._events;i[n]=i[n]||[];var o=i[n];o.push(Hr({listener:r},s))},e}(),zc=function(e){Rs(t,e);function t(r,s){s===void 0&&(s={});var i=e.call(this)||this;i.containerProvider=null,i.selfElement=null,i._warp=!1;var o={};Qo.forEach(function(l){o[fu("on ".concat(l))]=function(u){return i.trigger(l,u)}});var a;return s.warpSelf?(delete s.warpSelf,i._warp=!0,a=r):(a=document.createElement("div"),r.appendChild(a)),i.containerProvider=ui(Be(Uc,Bn({ref:mt(i,"innerGuides")},o,s)),a),i}var n=t.prototype;return n.setState=function(r,s){this.innerGuides.setState(r,s)},n.forceUpdate=function(r){this.innerGuides.forceUpdate(r)},n.destroy=function(){var r,s=this.selfElement;ui(null,s,this.containerProvider),this._warp||(r=s==null?void 0:s.parentElement)===null||r===void 0||r.removeChild(s),this.selfElement=null,this.innerGuides=null},n.getInnerGuides=function(){return this.innerGuides.guides},t=$c([ri(Wo,function(r,s){r[s]||(r[s]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=this.getInnerGuides();if(!(!a||!a[s]))return a[s].apply(a,i)})}),ri(jo,function(r,s){Object.defineProperty(r,s,{get:function(){return this.getInnerGuides().props[s]},set:function(i){var o;this.innerGuides.setState((o={},o[s]=i,o))},enumerable:!0,configurable:!0})})],t),t}(Yc),Hc=function(e){Rs(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(zc);const qc=Hc;var qr=function(){return qr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qr.apply(this,arguments)};function Xr(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var vn=Xr([],jo,!0);vn.splice(vn.indexOf("style"),1);var Zo={},bs={};vn.forEach(function(e){bs[e]=function(t){this.$_guides[e]=t}});bs.vueStyle=function(e){this.$_guides.style=e};Wo.forEach(function(e){Zo[e]=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=this.$_guides)[e].apply(t,n)}});var Os={name:"guides",methods:Zo,watch:bs,props:Xr(Xr([],vn,!0),["vueStyle"],!1),mounted:function(){var e=this,t={},n=this.$props;vn.forEach(function(o){var a=n[o];Do(a)||(t[o]=n[o])});var r=this.$refs,s=r.container;t.style=n.vueStyle,t.warpSelf=!0,this.$_guides=new qc(s,t);var i=this.$_guides;Qo.forEach(function(o){i.on(o,function(a){e.$emit(o,qr({},a))})})},beforeUnmount:function(){this.$_guides.destroy()}};const Xc={ref:"container"};function jc(e,t,n,r,s,i){return w(),ee("div",Xc,null,512)}Os.render=jc;Os.__file="src/Guides.vue";const mi=Os,Wc={class:"tool-guides"},Qc=q({__name:"ToolGuides",setup(e){return document.body.classList.add("tool-guides--enabled"),(t,n)=>(w(),ee("div",Wc,[I(j(mi),{type:"horizontal"}),I(j(mi),{type:"vertical"})]))}});/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Zc=e=>e instanceof HTMLElement,Kc=(e,t=[],n=[])=>{const r={...e},s=[],i=[],o=()=>({...r}),a=()=>{const p=[...s];return s.length=0,p},l=()=>{const p=[...i];i.length=0,p.forEach(({type:v,data:g})=>{u(v,g)})},u=(p,v,g)=>{if(g&&!document.hidden){i.push({type:p,data:v});return}m[p]&&m[p](v),s.push({type:p,data:v})},c=(p,...v)=>d[p]?d[p](...v):null,f={getState:o,processActionQueue:a,processDispatchQueue:l,dispatch:u,query:c};let d={};t.forEach(p=>{d={...p(r),...d}});let m={};return n.forEach(p=>{m={...p(u,c,r),...m}}),f},Jc=(e,t,n)=>{if(typeof n=="function"){e[t]=n;return}Object.defineProperty(e,t,{...n})},le=(e,t)=>{for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])},gt=e=>{const t={};return le(e,n=>{Jc(t,n,e[n])}),t},me=(e,t,n=null)=>{if(n===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},ed="http://www.w3.org/2000/svg",td=["svg","path"],vi=e=>td.includes(e),Fn=(e,t,n={})=>{typeof t=="object"&&(n=t,t=null);const r=vi(e)?document.createElementNS(ed,e):document.createElement(e);return t&&(vi(e)?me(r,"class",t):r.className=t),le(n,(s,i)=>{me(r,s,i)}),r},nd=e=>(t,n)=>{typeof n<"u"&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},rd=(e,t)=>(n,r)=>(typeof r<"u"?t.splice(r,0,n):t.push(n),n),sd=(e,t)=>n=>(t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n),id=typeof window<"u"&&typeof window.document<"u",Ko=()=>id,od=Ko()?Fn("svg"):{},ad="children"in od?e=>e.children.length:e=>e.childNodes.length,Jo=(e,t,n,r)=>{const s=n[0]||e.left,i=n[1]||e.top,o=s+e.width,a=i+e.height*(r[1]||1),l={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:s,top:i,right:o,bottom:a}};return t.filter(u=>!u.isRectIgnored()).map(u=>u.rect).forEach(u=>{_i(l.inner,{...u.inner}),_i(l.outer,{...u.outer})}),gi(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,gi(l.outer),l},_i=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},gi=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},bt=e=>typeof e=="number",ld=(e,t,n,r=.001)=>Math.abs(e-t)<r&&Math.abs(n)<r,ud=({stiffness:e=.5,damping:t=.75,mass:n=10}={})=>{let r=null,s=null,i=0,o=!1;const u=gt({interpolate:(c,f)=>{if(o)return;if(!(bt(r)&&bt(s))){o=!0,i=0;return}const d=-(s-r)*e;i+=d/n,s+=i,i*=t,ld(s,r,i)||f?(s=r,i=0,o=!0,u.onupdate(s),u.oncomplete(s)):u.onupdate(s)},target:{set:c=>{if(bt(c)&&!bt(s)&&(s=c),r===null&&(r=c,s=c),r=c,s===r||typeof r>"u"){o=!0,i=0,u.onupdate(s),u.oncomplete(s);return}o=!1},get:()=>r},resting:{get:()=>o},onupdate:c=>{},oncomplete:c=>{}});return u},cd=e=>e<.5?2*e*e:-1+(4-2*e)*e,dd=({duration:e=500,easing:t=cd,delay:n=0}={})=>{let r=null,s,i,o=!0,a=!1,l=null;const c=gt({interpolate:(f,d)=>{o||l===null||(r===null&&(r=f),!(f-r<n)&&(s=f-r-n,s>=e||d?(s=1,i=a?0:1,c.onupdate(i*l),c.oncomplete(i*l),o=!0):(i=s/e,c.onupdate((s>=0?t(a?1-i:i):0)*l))))},target:{get:()=>a?0:l,set:f=>{if(l===null){l=f,c.onupdate(f),c.oncomplete(f);return}f<l?(l=1,a=!0):(a=!1,l=f),o=!1,r=null}},resting:{get:()=>o},onupdate:f=>{},oncomplete:f=>{}});return c},hi={spring:ud,tween:dd},fd=(e,t,n)=>{const r=e[t]&&typeof e[t][n]=="object"?e[t][n]:e[t]||e,s=typeof r=="string"?r:r.type,i=typeof r=="object"?{...r}:{};return hi[s]?hi[s](i):null},Cs=(e,t,n,r=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(s=>{e.forEach(i=>{let o=i,a=()=>n[i],l=u=>n[i]=u;typeof i=="object"&&(o=i.key,a=i.getter||a,l=i.setter||l),!(s[o]&&!r)&&(s[o]={get:a,set:l})})})},pd=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r})=>{const s={...t},i=[];return le(e,(o,a)=>{const l=fd(a);if(!l)return;l.onupdate=c=>{t[o]=c},l.target=s[o],Cs([{key:o,setter:c=>{l.target!==c&&(l.target=c)},getter:()=>t[o]}],[n,r],t,!0),i.push(l)}),{write:o=>{let a=document.hidden,l=!0;return i.forEach(u=>{u.resting||(l=!1),u.interpolate(o,a)}),l},destroy:()=>{}}},md=e=>(t,n)=>{e.addEventListener(t,n)},vd=e=>(t,n)=>{e.removeEventListener(t,n)},_d=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,viewState:s,view:i})=>{const o=[],a=md(i.element),l=vd(i.element);return r.on=(u,c)=>{o.push({type:u,fn:c}),a(u,c)},r.off=(u,c)=>{o.splice(o.findIndex(f=>f.type===u&&f.fn===c),1),l(u,c)},{write:()=>!0,destroy:()=>{o.forEach(u=>{l(u.type,u.fn)})}}},gd=({mixinConfig:e,viewProps:t,viewExternalAPI:n})=>{Cs(e,n,t)},Re=e=>e!=null,hd={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Ed=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,view:s})=>{const i={...t},o={};Cs(e,[n,r],t);const a=()=>[t.translateX||0,t.translateY||0],l=()=>[t.scaleX||0,t.scaleY||0],u=()=>s.rect?Jo(s.rect,s.childViews,a(),l()):null;return n.rect={get:u},r.rect={get:u},e.forEach(c=>{t[c]=typeof i[c]>"u"?hd[c]:i[c]}),{write:()=>{if(Id(o,t))return Td(s.element,t),Object.assign(o,{...t}),!0},destroy:()=>{}}},Id=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in t)if(t[n]!==e[n])return!0;return!1},Td=(e,{opacity:t,perspective:n,translateX:r,translateY:s,scaleX:i,scaleY:o,rotateX:a,rotateY:l,rotateZ:u,originX:c,originY:f,width:d,height:m})=>{let p="",v="";(Re(c)||Re(f))&&(v+=`transform-origin: ${c||0}px ${f||0}px;`),Re(n)&&(p+=`perspective(${n}px) `),(Re(r)||Re(s))&&(p+=`translate3d(${r||0}px, ${s||0}px, 0) `),(Re(i)||Re(o))&&(p+=`scale3d(${Re(i)?i:1}, ${Re(o)?o:1}, 1) `),Re(u)&&(p+=`rotateZ(${u}rad) `),Re(a)&&(p+=`rotateX(${a}rad) `),Re(l)&&(p+=`rotateY(${l}rad) `),p.length&&(v+=`transform:${p};`),Re(t)&&(v+=`opacity:${t};`,t===0&&(v+="visibility:hidden;"),t<1&&(v+="pointer-events:none;")),Re(m)&&(v+=`height:${m}px;`),Re(d)&&(v+=`width:${d}px;`);const g=e.elementCurrentStyle||"";(v.length!==g.length||v!==g)&&(e.style.cssText=v,e.elementCurrentStyle=v)},yd={styles:Ed,listeners:_d,animations:pd,apis:gd},Ei=(e={},t={},n={})=>(t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),ve=({tag:e="div",name:t=null,attributes:n={},read:r=()=>{},write:s=()=>{},create:i=()=>{},destroy:o=()=>{},filterFrameActionsForChild:a=(m,p)=>p,didCreateView:l=()=>{},didWriteView:u=()=>{},ignoreRect:c=!1,ignoreRectUpdate:f=!1,mixins:d=[]}={})=>(m,p={})=>{const v=Fn(e,`filepond--${t}`,n),g=window.getComputedStyle(v,null),_=Ei();let E=null,T=!1;const D=[],y=[],S={},b={},h=[s],O=[r],k=[o],A=()=>v,C=()=>D.concat(),U=()=>S,M=x=>(W,$)=>W(x,$),z=()=>E||(E=Jo(_,D,[0,0],[1,1]),E),R=()=>g,L=()=>{E=null,D.forEach($=>$._read()),!(f&&_.width&&_.height)&&Ei(_,v,g);const W={root:te,props:p,rect:_};O.forEach($=>$(W))},G=(x,W,$)=>{let re=W.length===0;return h.forEach(ae=>{ae({props:p,root:te,actions:W,timestamp:x,shouldOptimize:$})===!1&&(re=!1)}),y.forEach(ae=>{ae.write(x)===!1&&(re=!1)}),D.filter(ae=>!!ae.element.parentNode).forEach(ae=>{ae._write(x,a(ae,W),$)||(re=!1)}),D.forEach((ae,Ne)=>{ae.element.parentNode||(te.appendChild(ae.element,Ne),ae._read(),ae._write(x,a(ae,W),$),re=!1)}),T=re,u({props:p,root:te,actions:W,timestamp:x}),re},B=()=>{y.forEach(x=>x.destroy()),k.forEach(x=>{x({root:te,props:p})}),D.forEach(x=>x._destroy())},V={element:{get:A},style:{get:R},childViews:{get:C}},Q={...V,rect:{get:z},ref:{get:U},is:x=>t===x,appendChild:nd(v),createChildView:M(m),linkView:x=>(D.push(x),x),unlinkView:x=>{D.splice(D.indexOf(x),1)},appendChildView:rd(v,D),removeChildView:sd(v,D),registerWriter:x=>h.push(x),registerReader:x=>O.push(x),registerDestroyer:x=>k.push(x),invalidateLayout:()=>v.layoutCalculated=!1,dispatch:m.dispatch,query:m.query},oe={element:{get:A},childViews:{get:C},rect:{get:z},resting:{get:()=>T},isRectIgnored:()=>c,_read:L,_write:G,_destroy:B},_e={...V,rect:{get:()=>_}};Object.keys(d).sort((x,W)=>x==="styles"?1:W==="styles"?-1:0).forEach(x=>{const W=yd[x]({mixinConfig:d[x],viewProps:p,viewState:b,viewInternalAPI:Q,viewExternalAPI:oe,view:gt(_e)});W&&y.push(W)});const te=gt(Q);i({root:te,props:p});const Ce=ad(v);return D.forEach((x,W)=>{te.appendChild(x.element,Ce+W)}),l(te),gt(oe)},Sd=(e,t,n=60)=>{const r="__framePainter";if(window[r]){window[r].readers.push(e),window[r].writers.push(t);return}window[r]={readers:[e],writers:[t]};const s=window[r],i=1e3/n;let o=null,a=null,l=null,u=null;const c=()=>{document.hidden?(l=()=>window.setTimeout(()=>f(performance.now()),i),u=()=>window.clearTimeout(a)):(l=()=>window.requestAnimationFrame(f),u=()=>window.cancelAnimationFrame(a))};document.addEventListener("visibilitychange",()=>{u&&u(),c(),f(performance.now())});const f=d=>{a=l(f),o||(o=d);const m=d-o;m<=i||(o=d-m%i,s.readers.forEach(p=>p()),s.writers.forEach(p=>p(d)))};return c(),f(performance.now()),{pause:()=>{u(a)}}},Oe=(e,t)=>({root:n,props:r,actions:s=[],timestamp:i,shouldOptimize:o})=>{s.filter(a=>e[a.type]).forEach(a=>e[a.type]({root:n,props:r,action:a.data,timestamp:i,shouldOptimize:o})),t&&t({root:n,props:r,actions:s,timestamp:i,shouldOptimize:o})},Ii=(e,t)=>t.parentNode.insertBefore(e,t),Ti=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),tr=e=>Array.isArray(e),it=e=>e==null,Rd=e=>e.trim(),nr=e=>""+e,bd=(e,t=",")=>it(e)?[]:tr(e)?e:nr(e).split(t).map(Rd).filter(n=>n.length),ea=e=>typeof e=="boolean",ta=e=>ea(e)?e:e==="true",be=e=>typeof e=="string",na=e=>bt(e)?e:be(e)?nr(e).replace(/[a-z]+/gi,""):0,Nn=e=>parseInt(na(e),10),yi=e=>parseFloat(na(e)),Qt=e=>bt(e)&&isFinite(e)&&Math.floor(e)===e,Si=(e,t=1e3)=>{if(Qt(e))return e;let n=nr(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Nn(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Nn(n)*t):Nn(n)},Ot=e=>typeof e=="function",Od=e=>{let t=self,n=e.split("."),r=null;for(;r=n.shift();)if(t=t[r],!t)return null;return t},Ri={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Cd=e=>{const t={};return t.url=be(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},le(Ri,n=>{t[n]=Dd(n,e[n],Ri[n],t.timeout,t.headers)}),t.process=e.process||be(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},Dd=(e,t,n,r,s)=>{if(t===null)return null;if(typeof t=="function")return t;const i={url:n==="GET"||n==="PATCH"?`?${e}=`:"",method:n,headers:s,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(be(t))return i.url=t,i;if(Object.assign(i,t),be(i.headers)){const o=i.headers.split(/:(.+)/);i.headers={header:o[0],value:o[1]}}return i.withCredentials=ta(i.withCredentials),i},Pd=e=>Cd(e),wd=e=>e===null,Ie=e=>typeof e=="object"&&e!==null,Md=e=>Ie(e)&&be(e.url)&&Ie(e.process)&&Ie(e.revert)&&Ie(e.restore)&&Ie(e.fetch),jr=e=>tr(e)?"array":wd(e)?"null":Qt(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":Md(e)?"api":typeof e,Ad=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),Ld={array:bd,boolean:ta,int:e=>jr(e)==="bytes"?Si(e):Nn(e),number:yi,float:yi,bytes:Si,string:e=>Ot(e)?e:nr(e),function:e=>Od(e),serverapi:Pd,object:e=>{try{return JSON.parse(Ad(e))}catch{return null}}},Nd=(e,t)=>Ld[t](e),ra=(e,t,n)=>{if(e===t)return e;let r=jr(e);if(r!==n){const s=Nd(e,n);if(r=jr(s),s===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;e=s}return e},xd=(e,t)=>{let n=e;return{enumerable:!0,get:()=>n,set:r=>{n=ra(r,e,t)}}},kd=e=>{const t={};return le(e,n=>{const r=e[n];t[n]=xd(r[0],r[1])}),gt(t)},Gd=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:kd(e)}),rr=(e,t="-")=>e.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(t),Bd=(e,t)=>{const n={};return le(t,r=>{n[r]={get:()=>e.getState().options[r],set:s=>{e.dispatch(`SET_${rr(r,"_").toUpperCase()}`,{value:s})}}}),n},Fd=e=>(t,n,r)=>{const s={};return le(e,i=>{const o=rr(i,"_").toUpperCase();s[`SET_${o}`]=a=>{try{r.options[i]=a.value}catch{}t(`DID_SET_${o}`,{value:r.options[i]})}}),s},$d=e=>t=>{const n={};return le(e,r=>{n[`GET_${rr(r,"_").toUpperCase()}`]=s=>t.options[r]}),n},Fe={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Ds=()=>Math.random().toString(36).substring(2,11),Ps=(e,t)=>e.splice(t,1),Ud=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},sr=()=>{const e=[],t=(r,s)=>{Ps(e,e.findIndex(i=>i.event===r&&(i.cb===s||!s)))},n=(r,s,i)=>{e.filter(o=>o.event===r).map(o=>o.cb).forEach(o=>Ud(()=>o(...s),i))};return{fireSync:(r,...s)=>{n(r,s,!0)},fire:(r,...s)=>{n(r,s,!1)},on:(r,s)=>{e.push({event:r,cb:s})},onOnce:(r,s)=>{e.push({event:r,cb:(...i)=>{t(r,s),s(...i)}})},off:t}},sa=(e,t,n)=>{Object.getOwnPropertyNames(e).filter(r=>!n.includes(r)).forEach(r=>Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r)))},Vd=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Pe=e=>{const t={};return sa(e,t,Vd),t},Yd=e=>{e.forEach((t,n)=>{t.released&&Ps(e,n)})},X={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},he={INPUT:1,LIMBO:2,LOCAL:3},ia=e=>/[^0-9]+/.exec(e),oa=()=>ia(1.1.toLocaleString())[0],zd=()=>{const e=oa(),t=1e3.toLocaleString();return t!=="1000"?ia(t)[0]:e==="."?",":"."},P={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},ws=[],Ve=(e,t,n)=>new Promise((r,s)=>{const i=ws.filter(a=>a.key===e).map(a=>a.cb);if(i.length===0){r(t);return}const o=i.shift();i.reduce((a,l)=>a.then(u=>l(u,n)),o(t,n)).then(a=>r(a)).catch(a=>s(a))}),Nt=(e,t,n)=>ws.filter(r=>r.key===e).map(r=>r.cb(t,n)),Hd=(e,t)=>ws.push({key:e,cb:t}),qd=e=>Object.assign(Vt,e),$n=()=>({...Vt}),Xd=e=>{le(e,(t,n)=>{Vt[t]&&(Vt[t][0]=ra(n,Vt[t][0],Vt[t][1]))})},Vt={id:[null,P.STRING],name:["filepond",P.STRING],disabled:[!1,P.BOOLEAN],className:[null,P.STRING],required:[!1,P.BOOLEAN],captureMethod:[null,P.STRING],allowSyncAcceptAttribute:[!0,P.BOOLEAN],allowDrop:[!0,P.BOOLEAN],allowBrowse:[!0,P.BOOLEAN],allowPaste:[!0,P.BOOLEAN],allowMultiple:[!1,P.BOOLEAN],allowReplace:[!0,P.BOOLEAN],allowRevert:[!0,P.BOOLEAN],allowRemove:[!0,P.BOOLEAN],allowProcess:[!0,P.BOOLEAN],allowReorder:[!1,P.BOOLEAN],allowDirectoriesOnly:[!1,P.BOOLEAN],storeAsFile:[!1,P.BOOLEAN],forceRevert:[!1,P.BOOLEAN],maxFiles:[null,P.INT],checkValidity:[!1,P.BOOLEAN],itemInsertLocationFreedom:[!0,P.BOOLEAN],itemInsertLocation:["before",P.STRING],itemInsertInterval:[75,P.INT],dropOnPage:[!1,P.BOOLEAN],dropOnElement:[!0,P.BOOLEAN],dropValidation:[!1,P.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],P.ARRAY],instantUpload:[!0,P.BOOLEAN],maxParallelUploads:[2,P.INT],allowMinimumUploadDuration:[!0,P.BOOLEAN],chunkUploads:[!1,P.BOOLEAN],chunkForce:[!1,P.BOOLEAN],chunkSize:[5e6,P.INT],chunkRetryDelays:[[500,1e3,3e3],P.ARRAY],server:[null,P.SERVER_API],fileSizeBase:[1e3,P.INT],labelFileSizeBytes:["bytes",P.STRING],labelFileSizeKilobytes:["KB",P.STRING],labelFileSizeMegabytes:["MB",P.STRING],labelFileSizeGigabytes:["GB",P.STRING],labelDecimalSeparator:[oa(),P.STRING],labelThousandsSeparator:[zd(),P.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',P.STRING],labelInvalidField:["Field contains invalid files",P.STRING],labelFileWaitingForSize:["Waiting for size",P.STRING],labelFileSizeNotAvailable:["Size not available",P.STRING],labelFileCountSingular:["file in list",P.STRING],labelFileCountPlural:["files in list",P.STRING],labelFileLoading:["Loading",P.STRING],labelFileAdded:["Added",P.STRING],labelFileLoadError:["Error during load",P.STRING],labelFileRemoved:["Removed",P.STRING],labelFileRemoveError:["Error during remove",P.STRING],labelFileProcessing:["Uploading",P.STRING],labelFileProcessingComplete:["Upload complete",P.STRING],labelFileProcessingAborted:["Upload cancelled",P.STRING],labelFileProcessingError:["Error during upload",P.STRING],labelFileProcessingRevertError:["Error during revert",P.STRING],labelTapToCancel:["tap to cancel",P.STRING],labelTapToRetry:["tap to retry",P.STRING],labelTapToUndo:["tap to undo",P.STRING],labelButtonRemoveItem:["Remove",P.STRING],labelButtonAbortItemLoad:["Abort",P.STRING],labelButtonRetryItemLoad:["Retry",P.STRING],labelButtonAbortItemProcessing:["Cancel",P.STRING],labelButtonUndoItemProcessing:["Undo",P.STRING],labelButtonRetryItemProcessing:["Retry",P.STRING],labelButtonProcessItem:["Upload",P.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',P.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',P.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',P.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',P.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',P.STRING],oninit:[null,P.FUNCTION],onwarning:[null,P.FUNCTION],onerror:[null,P.FUNCTION],onactivatefile:[null,P.FUNCTION],oninitfile:[null,P.FUNCTION],onaddfilestart:[null,P.FUNCTION],onaddfileprogress:[null,P.FUNCTION],onaddfile:[null,P.FUNCTION],onprocessfilestart:[null,P.FUNCTION],onprocessfileprogress:[null,P.FUNCTION],onprocessfileabort:[null,P.FUNCTION],onprocessfilerevert:[null,P.FUNCTION],onprocessfile:[null,P.FUNCTION],onprocessfiles:[null,P.FUNCTION],onremovefile:[null,P.FUNCTION],onpreparefile:[null,P.FUNCTION],onupdatefiles:[null,P.FUNCTION],onreorderfiles:[null,P.FUNCTION],beforeDropFile:[null,P.FUNCTION],beforeAddFile:[null,P.FUNCTION],beforeRemoveFile:[null,P.FUNCTION],beforePrepareFile:[null,P.FUNCTION],stylePanelLayout:[null,P.STRING],stylePanelAspectRatio:[null,P.STRING],styleItemPanelAspectRatio:[null,P.STRING],styleButtonRemoveItemPosition:["left",P.STRING],styleButtonProcessItemPosition:["right",P.STRING],styleLoadIndicatorPosition:["right",P.STRING],styleProgressIndicatorPosition:["right",P.STRING],styleButtonRemoveItemAlign:[!1,P.BOOLEAN],files:[[],P.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],P.ARRAY]},Ct=(e,t)=>it(t)?e[0]||null:Qt(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(n=>n.id===t)||null),aa=e=>{if(it(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},Ye=e=>e.filter(t=>!t.archived),jd={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let Cn=null;const Wd=()=>{if(Cn===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,Cn=t.files.length===1}catch{Cn=!1}return Cn},Qd=[X.LOAD_ERROR,X.PROCESSING_ERROR,X.PROCESSING_REVERT_ERROR],Zd=[X.LOADING,X.PROCESSING,X.PROCESSING_QUEUED,X.INIT],Kd=[X.PROCESSING_COMPLETE],Jd=e=>Qd.includes(e.status),ef=e=>Zd.includes(e.status),tf=e=>Kd.includes(e.status),bi=e=>Ie(e.options.server)&&(Ie(e.options.server.process)||Ot(e.options.server.process)),nf=e=>({GET_STATUS:()=>{const t=Ye(e.items),{EMPTY:n,ERROR:r,BUSY:s,IDLE:i,READY:o}=jd;return t.length===0?n:t.some(Jd)?r:t.some(ef)?s:t.some(tf)?o:i},GET_ITEM:t=>Ct(e.items,t),GET_ACTIVE_ITEM:t=>Ct(Ye(e.items),t),GET_ACTIVE_ITEMS:()=>Ye(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const n=Ct(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:t=>{const n=Ct(e.items,t);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:aa(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>Ye(e.items).filter(n=>n.status===t),GET_TOTAL_ITEMS:()=>Ye(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&Wd()&&!bi(e),IS_ASYNC:()=>bi(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),rf=e=>{const t=Ye(e.items).length;if(!e.options.allowMultiple)return t===0;const n=e.options.maxFiles;return n===null||t<n},la=(e,t,n)=>Math.max(Math.min(n,e),t),sf=(e,t,n)=>e.splice(t,0,n),of=(e,t,n)=>it(t)?null:typeof n>"u"?(e.push(t),t):(n=la(n,0,e.length),sf(e,n,t),t),Wr=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),In=e=>e.split("/").pop().split("?").shift(),ir=e=>e.split(".").pop(),af=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},en=(e,t="")=>(t+e).slice(-t.length),ua=(e=new Date)=>`${e.getFullYear()}-${en(e.getMonth()+1,"00")}-${en(e.getDate(),"00")}_${en(e.getHours(),"00")}-${en(e.getMinutes(),"00")}-${en(e.getSeconds(),"00")}`,Xt=(e,t,n=null,r=null)=>{const s=typeof n=="string"?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return s.lastModifiedDate=new Date,e._relativePath&&(s._relativePath=e._relativePath),be(t)||(t=ua()),t&&r===null&&ir(t)?s.name=t:(r=r||af(s.type),s.name=t+(r?"."+r:"")),s},lf=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,ca=(e,t)=>{const n=lf();if(n){const r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},uf=(e,t)=>{const n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return ca(n,t)},da=e=>(/^data:(.+);/.exec(e)||[])[1]||null,cf=e=>e.split(",")[1].replace(/\s/g,""),df=e=>atob(cf(e)),ff=e=>{const t=da(e),n=df(e);return uf(n,t)},pf=(e,t,n)=>Xt(ff(e),t,null,n),mf=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return t.length?decodeURI(t[t.length-1]):null},vf=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},_f=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,Ms=e=>{const t={source:null,name:null,size:null},n=e.split(`
`);for(let r of n){const s=mf(r);if(s){t.name=s;continue}const i=vf(r);if(i){t.size=i;continue}const o=_f(r);if(o){t.source=o;continue}}return t},gf=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>t.progress,r=()=>{t.request&&t.request.abort&&t.request.abort()},s=()=>{const a=t.source;o.fire("init",a),a instanceof File?o.fire("load",a):a instanceof Blob?o.fire("load",Xt(a,a.name)):Wr(a)?o.fire("load",pf(a)):i(a)},i=a=>{if(!e){o.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(a,l=>{t.duration=Date.now()-t.timestamp,t.complete=!0,l instanceof Blob&&(l=Xt(l,l.name||In(a))),o.fire("load",l instanceof Blob?l:l?l.body:null)},l=>{o.fire("error",typeof l=="string"?{type:"error",code:0,body:l}:l)},(l,u,c)=>{if(c&&(t.size=c),t.duration=Date.now()-t.timestamp,!l){t.progress=null;return}t.progress=u/c,o.fire("progress",t.progress)},()=>{o.fire("abort")},l=>{const u=Ms(typeof l=="string"?l:l.headers);o.fire("meta",{size:t.size||u.size,filename:u.name,source:u.source})})},o={...sr(),setSource:a=>t.source=a,getProgress:n,abort:r,load:s};return o},Oi=e=>/GET|HEAD/.test(e),Dt=(e,t,n)=>{const r={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{s=!0,o.abort()}};let s=!1,i=!1;n={method:"POST",headers:{},withCredentials:!1,...n},t=encodeURI(t),Oi(n.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const o=new XMLHttpRequest,a=Oi(n.method)?o:o.upload;return a.onprogress=l=>{s||r.onprogress(l.lengthComputable,l.loaded,l.total)},o.onreadystatechange=()=>{o.readyState<2||o.readyState===4&&o.status===0||i||(i=!0,r.onheaders(o))},o.onload=()=>{o.status>=200&&o.status<300?r.onload(o):r.onerror(o)},o.onerror=()=>r.onerror(o),o.onabort=()=>{s=!0,r.onabort()},o.ontimeout=()=>r.ontimeout(o),o.open(n.method,t,!0),Qt(n.timeout)&&(o.timeout=n.timeout),Object.keys(n.headers).forEach(l=>{const u=unescape(encodeURIComponent(n.headers[l]));o.setRequestHeader(l,u)}),n.responseType&&(o.responseType=n.responseType),n.withCredentials&&(o.withCredentials=!0),o.send(e),r},ce=(e,t,n,r)=>({type:e,code:t,body:n,headers:r}),Pt=e=>t=>{e(ce("error",0,"Timeout",t.getAllResponseHeaders()))},Ci=e=>/\?/.test(e),dn=(...e)=>{let t="";return e.forEach(n=>{t+=Ci(t)&&Ci(n)?n.replace(/\?/,"&"):n}),t},Sr=(e="",t)=>{if(typeof t=="function")return t;if(!t||!be(t.url))return null;const n=t.onload||(s=>s),r=t.onerror||(s=>null);return(s,i,o,a,l,u)=>{const c=Dt(s,dn(e,t.url),{...t,responseType:"blob"});return c.onload=f=>{const d=f.getAllResponseHeaders(),m=Ms(d).name||In(s);i(ce("load",f.status,t.method==="HEAD"?null:Xt(n(f.response),m),d))},c.onerror=f=>{o(ce("error",f.status,r(f.response)||f.statusText,f.getAllResponseHeaders()))},c.onheaders=f=>{u(ce("headers",f.status,null,f.getAllResponseHeaders()))},c.ontimeout=Pt(o),c.onprogress=a,c.onabort=l,c}},ke={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},hf=(e,t,n,r,s,i,o,a,l,u,c)=>{const f=[],{chunkTransferId:d,chunkServer:m,chunkSize:p,chunkRetryDelays:v}=c,g={serverId:d,aborted:!1},_=t.ondata||(M=>M),E=t.onload||((M,z)=>z==="HEAD"?M.getResponseHeader("Upload-Offset"):M.response),T=t.onerror||(M=>null),D=M=>{const z=new FormData;Ie(s)&&z.append(n,JSON.stringify(s));const R=typeof t.headers=="function"?t.headers(r,s):{...t.headers,"Upload-Length":r.size},L={...t,headers:R},G=Dt(_(z),dn(e,t.url),L);G.onload=B=>M(E(B,L.method)),G.onerror=B=>o(ce("error",B.status,T(B.response)||B.statusText,B.getAllResponseHeaders())),G.ontimeout=Pt(o)},y=M=>{const z=dn(e,m.url,g.serverId),L={headers:typeof t.headers=="function"?t.headers(g.serverId):{...t.headers},method:"HEAD"},G=Dt(null,z,L);G.onload=B=>M(E(B,L.method)),G.onerror=B=>o(ce("error",B.status,T(B.response)||B.statusText,B.getAllResponseHeaders())),G.ontimeout=Pt(o)},S=Math.floor(r.size/p);for(let M=0;M<=S;M++){const z=M*p,R=r.slice(z,z+p,"application/offset+octet-stream");f[M]={index:M,size:R.size,offset:z,data:R,file:r,progress:0,retries:[...v],status:ke.QUEUED,error:null,request:null,timeout:null}}const b=()=>i(g.serverId),h=M=>M.status===ke.QUEUED||M.status===ke.ERROR,O=M=>{if(g.aborted)return;if(M=M||f.find(h),!M){f.every(V=>V.status===ke.COMPLETE)&&b();return}M.status=ke.PROCESSING,M.progress=null;const z=m.ondata||(V=>V),R=m.onerror||(V=>null),L=dn(e,m.url,g.serverId),G=typeof m.headers=="function"?m.headers(M):{...m.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":M.offset,"Upload-Length":r.size,"Upload-Name":r.name},B=M.request=Dt(z(M.data),L,{...m,headers:G});B.onload=()=>{M.status=ke.COMPLETE,M.request=null,C()},B.onprogress=(V,Q,oe)=>{M.progress=V?Q:null,A()},B.onerror=V=>{M.status=ke.ERROR,M.request=null,M.error=R(V.response)||V.statusText,k(M)||o(ce("error",V.status,R(V.response)||V.statusText,V.getAllResponseHeaders()))},B.ontimeout=V=>{M.status=ke.ERROR,M.request=null,k(M)||Pt(o)(V)},B.onabort=()=>{M.status=ke.QUEUED,M.request=null,l()}},k=M=>M.retries.length===0?!1:(M.status=ke.WAITING,clearTimeout(M.timeout),M.timeout=setTimeout(()=>{O(M)},M.retries.shift()),!0),A=()=>{const M=f.reduce((R,L)=>R===null||L.progress===null?null:R+L.progress,0);if(M===null)return a(!1,0,0);const z=f.reduce((R,L)=>R+L.size,0);a(!0,M,z)},C=()=>{f.filter(z=>z.status===ke.PROCESSING).length>=1||O()},U=()=>{f.forEach(M=>{clearTimeout(M.timeout),M.request&&M.request.abort()})};return g.serverId?y(M=>{g.aborted||(f.filter(z=>z.offset<M).forEach(z=>{z.status=ke.COMPLETE,z.progress=z.size}),C())}):D(M=>{g.aborted||(u(M),g.serverId=M,C())}),{abort:()=>{g.aborted=!0,U()}}},Ef=(e,t,n,r)=>(s,i,o,a,l,u,c)=>{if(!s)return;const f=r.chunkUploads,d=f&&s.size>r.chunkSize,m=f&&(d||r.chunkForce);if(s instanceof Blob&&m)return hf(e,t,n,s,i,o,a,l,u,c,r);const p=t.ondata||(y=>y),v=t.onload||(y=>y),g=t.onerror||(y=>null),_=typeof t.headers=="function"?t.headers(s,i)||{}:{...t.headers},E={...t,headers:_};var T=new FormData;Ie(i)&&T.append(n,JSON.stringify(i)),(s instanceof Blob?[{name:null,file:s}]:s).forEach(y=>{T.append(n,y.file,y.name===null?y.file.name:`${y.name}${y.file.name}`)});const D=Dt(p(T),dn(e,t.url),E);return D.onload=y=>{o(ce("load",y.status,v(y.response),y.getAllResponseHeaders()))},D.onerror=y=>{a(ce("error",y.status,g(y.response)||y.statusText,y.getAllResponseHeaders()))},D.ontimeout=Pt(a),D.onprogress=l,D.onabort=u,D},If=(e="",t,n,r)=>typeof t=="function"?(...s)=>t(n,...s,r):!t||!be(t.url)?null:Ef(e,t,n,r),tn=(e="",t)=>{if(typeof t=="function")return t;if(!t||!be(t.url))return(s,i)=>i();const n=t.onload||(s=>s),r=t.onerror||(s=>null);return(s,i,o)=>{const a=Dt(s,e+t.url,t);return a.onload=l=>{i(ce("load",l.status,n(l.response),l.getAllResponseHeaders()))},a.onerror=l=>{o(ce("error",l.status,r(l.response)||l.statusText,l.getAllResponseHeaders()))},a.ontimeout=Pt(o),a}},fa=(e=0,t=1)=>e+Math.random()*(t-e),Tf=(e,t=1e3,n=0,r=25,s=250)=>{let i=null;const o=Date.now(),a=()=>{let l=Date.now()-o,u=fa(r,s);l+u>t&&(u=l+u-t);let c=l/t;if(c>=1||document.hidden){e(1);return}e(c),i=setTimeout(a,u)};return t>0&&a(),{clear:()=>{clearTimeout(i)}}},yf=(e,t)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:r}=t,s=(c,f)=>{const d=()=>{n.duration===0||n.progress===null||u.fire("progress",u.getProgress())},m=()=>{n.complete=!0,u.fire("load-perceived",n.response.body)};u.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=Tf(p=>{n.perceivedProgress=p,n.perceivedDuration=Date.now()-n.timestamp,d(),n.response&&n.perceivedProgress===1&&!n.complete&&m()},r?fa(750,1500):0),n.request=e(c,f,p=>{n.response=Ie(p)?p:{type:"load",code:200,body:`${p}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,u.fire("load",n.response.body),(!r||r&&n.perceivedProgress===1)&&m()},p=>{n.perceivedPerformanceUpdater.clear(),u.fire("error",Ie(p)?p:{type:"error",code:0,body:`${p}`})},(p,v,g)=>{n.duration=Date.now()-n.timestamp,n.progress=p?v/g:null,d()},()=>{n.perceivedPerformanceUpdater.clear(),u.fire("abort",n.response?n.response.body:null)},p=>{u.fire("transfer",p)})},i=()=>{n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},o=()=>{i(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},a=r?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,l=r?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,u={...sr(),process:s,abort:i,getProgress:a,getDuration:l,reset:o};return u},pa=e=>e.substring(0,e.lastIndexOf("."))||e,Sf=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||Wr(e)?t[0]=e.name||ua():Wr(e)?(t[1]=e.length,t[2]=da(e)):be(e)&&(t[0]=In(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},jt=e=>!!(e instanceof File||e instanceof Blob&&e.name),ma=e=>{if(!Ie(e))return e;const t=tr(e)?[]:{};for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];t[n]=r&&Ie(r)?ma(r):r}return t},Rf=(e=null,t=null,n=null)=>{const r=Ds(),s={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?X.PROCESSING_COMPLETE:X.INIT,activeLoader:null,activeProcessor:null};let i=null;const o={},a=h=>s.status=h,l=(h,...O)=>{s.released||s.frozen||S.fire(h,...O)},u=()=>ir(s.file.name),c=()=>s.file.type,f=()=>s.file.size,d=()=>s.file,m=(h,O,k)=>{if(s.source=h,S.fireSync("init"),s.file){S.fireSync("load-skip");return}s.file=Sf(h),O.on("init",()=>{l("load-init")}),O.on("meta",A=>{s.file.size=A.size,s.file.filename=A.filename,A.source&&(e=he.LIMBO,s.serverFileReference=A.source,s.status=X.PROCESSING_COMPLETE),l("load-meta")}),O.on("progress",A=>{a(X.LOADING),l("load-progress",A)}),O.on("error",A=>{a(X.LOAD_ERROR),l("load-request-error",A)}),O.on("abort",()=>{a(X.INIT),l("load-abort")}),O.on("load",A=>{s.activeLoader=null;const C=M=>{s.file=jt(M)?M:s.file,e===he.LIMBO&&s.serverFileReference?a(X.PROCESSING_COMPLETE):a(X.IDLE),l("load")},U=M=>{s.file=A,l("load-meta"),a(X.LOAD_ERROR),l("load-file-error",M)};if(s.serverFileReference){C(A);return}k(A,C,U)}),O.setSource(h),s.activeLoader=O,O.load()},p=()=>{s.activeLoader&&s.activeLoader.load()},v=()=>{if(s.activeLoader){s.activeLoader.abort();return}a(X.INIT),l("load-abort")},g=(h,O)=>{if(s.processingAborted){s.processingAborted=!1;return}if(a(X.PROCESSING),i=null,!(s.file instanceof Blob)){S.on("load",()=>{g(h,O)});return}h.on("load",C=>{s.transferId=null,s.serverFileReference=C}),h.on("transfer",C=>{s.transferId=C}),h.on("load-perceived",C=>{s.activeProcessor=null,s.transferId=null,s.serverFileReference=C,a(X.PROCESSING_COMPLETE),l("process-complete",C)}),h.on("start",()=>{l("process-start")}),h.on("error",C=>{s.activeProcessor=null,a(X.PROCESSING_ERROR),l("process-error",C)}),h.on("abort",C=>{s.activeProcessor=null,s.serverFileReference=C,a(X.IDLE),l("process-abort"),i&&i()}),h.on("progress",C=>{l("process-progress",C)});const k=C=>{s.archived||h.process(C,{...o})},A=console.error;O(s.file,k,A),s.activeProcessor=h},_=()=>{s.processingAborted=!1,a(X.PROCESSING_QUEUED)},E=()=>new Promise(h=>{if(!s.activeProcessor){s.processingAborted=!0,a(X.IDLE),l("process-abort"),h();return}i=()=>{h()},s.activeProcessor.abort()}),T=(h,O)=>new Promise((k,A)=>{const C=s.serverFileReference!==null?s.serverFileReference:s.transferId;if(C===null){k();return}h(C,()=>{s.serverFileReference=null,s.transferId=null,k()},U=>{if(!O){k();return}a(X.PROCESSING_REVERT_ERROR),l("process-revert-error"),A(U)}),a(X.IDLE),l("process-revert")}),D=(h,O,k)=>{const A=h.split("."),C=A[0],U=A.pop();let M=o;A.forEach(z=>M=M[z]),JSON.stringify(M[U])!==JSON.stringify(O)&&(M[U]=O,l("metadata-update",{key:C,value:o[C],silent:k}))},S={id:{get:()=>r},origin:{get:()=>e,set:h=>e=h},serverId:{get:()=>s.serverFileReference},transferId:{get:()=>s.transferId},status:{get:()=>s.status},filename:{get:()=>s.file.name},filenameWithoutExtension:{get:()=>pa(s.file.name)},fileExtension:{get:u},fileType:{get:c},fileSize:{get:f},file:{get:d},relativePath:{get:()=>s.file._relativePath},source:{get:()=>s.source},getMetadata:h=>ma(h?o[h]:o),setMetadata:(h,O,k)=>{if(Ie(h)){const A=h;return Object.keys(A).forEach(C=>{D(C,A[C],O)}),h}return D(h,O,k),O},extend:(h,O)=>b[h]=O,abortLoad:v,retryLoad:p,requestProcessing:_,abortProcessing:E,load:m,process:g,revert:T,...sr(),freeze:()=>s.frozen=!0,release:()=>s.released=!0,released:{get:()=>s.released},archive:()=>s.archived=!0,archived:{get:()=>s.archived}},b=gt(S);return b},bf=(e,t)=>it(t)?0:be(t)?e.findIndex(n=>n.id===t):-1,Di=(e,t)=>{const n=bf(e,t);if(!(n<0))return e[n]||null},Pi=(e,t,n,r,s,i)=>{const o=Dt(null,e,{method:"GET",responseType:"blob"});return o.onload=a=>{const l=a.getAllResponseHeaders(),u=Ms(l).name||In(e);t(ce("load",a.status,Xt(a.response,u),l))},o.onerror=a=>{n(ce("error",a.status,a.statusText,a.getAllResponseHeaders()))},o.onheaders=a=>{i(ce("headers",a.status,null,a.getAllResponseHeaders()))},o.ontimeout=Pt(n),o.onprogress=r,o.onabort=s,o},wi=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),Of=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&wi(location.href)!==wi(e),Dn=e=>(...t)=>Ot(e)?e(...t):e,Cf=e=>!jt(e.file),Rr=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:Ye(t.items)})},0)},Mi=(e,...t)=>new Promise(n=>{if(!e)return n(!0);const r=e(...t);if(r==null)return n(!0);if(typeof r=="boolean")return n(r);typeof r.then=="function"&&r.then(n)}),br=(e,t)=>{e.items.sort((n,r)=>t(Pe(n),Pe(r)))},Ge=(e,t)=>({query:n,success:r=()=>{},failure:s=()=>{},...i}={})=>{const o=Ct(e.items,n);if(!o){s({error:ce("error",0,"Item not found"),file:null});return}t(o,r,s,i||{})},Df=(e,t,n)=>({ABORT_ALL:()=>{Ye(n.items).forEach(r=>{r.freeze(),r.abortLoad(),r.abortProcessing()})},DID_SET_FILES:({value:r=[]})=>{const s=r.map(o=>({source:o.source?o.source:o,options:o.options}));let i=Ye(n.items);i.forEach(o=>{s.find(a=>a.source===o.source||a.source===o.file)||e("REMOVE_ITEM",{query:o,remove:!1})}),i=Ye(n.items),s.forEach((o,a)=>{i.find(l=>l.source===o.source||l.file===o.source)||e("ADD_ITEM",{...o,interactionMethod:Fe.NONE,index:a})})},DID_UPDATE_ITEM_METADATA:({id:r,action:s,change:i})=>{i.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const o=Di(n.items,r);if(!t("IS_ASYNC")){Ve("SHOULD_PREPARE_OUTPUT",!1,{item:o,query:t,action:s,change:i}).then(c=>{const f=t("GET_BEFORE_PREPARE_FILE");f&&(c=f(o,c)),c&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:o,success:d=>{e("DID_PREPARE_OUTPUT",{id:r,file:d})}},!0)});return}o.origin===he.LOCAL&&e("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.source});const a=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:r})},32)},l=c=>{o.revert(tn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(c?a:()=>{}).catch(()=>{})},u=c=>{o.abortProcessing().then(c?a:()=>{})};if(o.status===X.PROCESSING_COMPLETE)return l(n.options.instantUpload);if(o.status===X.PROCESSING)return u(n.options.instantUpload);n.options.instantUpload&&a()},0))},MOVE_ITEM:({query:r,index:s})=>{const i=Ct(n.items,r);if(!i)return;const o=n.items.indexOf(i);s=la(s,0,n.items.length-1),o!==s&&n.items.splice(s,0,n.items.splice(o,1)[0])},SORT:({compare:r})=>{br(n,r),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:r,index:s,interactionMethod:i,success:o=()=>{},failure:a=()=>{}})=>{let l=s;if(s===-1||typeof s>"u"){const m=t("GET_ITEM_INSERT_LOCATION"),p=t("GET_TOTAL_ITEMS");l=m==="before"?0:p}const u=t("GET_IGNORED_FILES"),c=m=>jt(m)?!u.includes(m.name.toLowerCase()):!it(m),d=r.filter(c).map(m=>new Promise((p,v)=>{e("ADD_ITEM",{interactionMethod:i,source:m.source||m,success:p,failure:v,index:l++,options:m.options||{}})}));Promise.all(d).then(o).catch(a)},ADD_ITEM:({source:r,index:s=-1,interactionMethod:i,success:o=()=>{},failure:a=()=>{},options:l={}})=>{if(it(r)){a({error:ce("error",0,"No source"),file:null});return}if(jt(r)&&n.options.ignoredFiles.includes(r.name.toLowerCase()))return;if(!rf(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const E=ce("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:r,error:E}),a({error:E,file:null});return}const _=Ye(n.items)[0];if(_.status===X.PROCESSING_COMPLETE||_.status===X.PROCESSING_REVERT_ERROR){const E=t("GET_FORCE_REVERT");if(_.revert(tn(n.options.server.url,n.options.server.revert),E).then(()=>{E&&e("ADD_ITEM",{source:r,index:s,interactionMethod:i,success:o,failure:a,options:l})}).catch(()=>{}),E)return}e("REMOVE_ITEM",{query:_.id})}const u=l.type==="local"?he.LOCAL:l.type==="limbo"?he.LIMBO:he.INPUT,c=Rf(u,u===he.INPUT?null:r,l.file);Object.keys(l.metadata||{}).forEach(_=>{c.setMetadata(_,l.metadata[_])}),Nt("DID_CREATE_ITEM",c,{query:t,dispatch:e});const f=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(s=f==="before"?-1:n.items.length),of(n.items,c,s),Ot(f)&&r&&br(n,f);const d=c.id;c.on("init",()=>{e("DID_INIT_ITEM",{id:d})}),c.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:d})}),c.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:d})}),c.on("load-progress",_=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:d,progress:_})}),c.on("load-request-error",_=>{const E=Dn(n.options.labelFileLoadError)(_);if(_.code>=400&&_.code<500){e("DID_THROW_ITEM_INVALID",{id:d,error:_,status:{main:E,sub:`${_.code} (${_.body})`}}),a({error:_,file:Pe(c)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:d,error:_,status:{main:E,sub:n.options.labelTapToRetry}})}),c.on("load-file-error",_=>{e("DID_THROW_ITEM_INVALID",{id:d,error:_.status,status:_.status}),a({error:_.status,file:Pe(c)})}),c.on("load-abort",()=>{e("REMOVE_ITEM",{query:d})}),c.on("load-skip",()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:c,data:{source:r,success:o}})}),c.on("load",()=>{const _=E=>{if(!E){e("REMOVE_ITEM",{query:d});return}c.on("metadata-update",T=>{e("DID_UPDATE_ITEM_METADATA",{id:d,change:T})}),Ve("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:t}).then(T=>{const D=t("GET_BEFORE_PREPARE_FILE");D&&(T=D(c,T));const y=()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:c,data:{source:r,success:o}}),Rr(e,n)};if(T){e("REQUEST_PREPARE_OUTPUT",{query:d,item:c,success:S=>{e("DID_PREPARE_OUTPUT",{id:d,file:S}),y()}},!0);return}y()})};Ve("DID_LOAD_ITEM",c,{query:t,dispatch:e}).then(()=>{Mi(t("GET_BEFORE_ADD_FILE"),Pe(c)).then(_)}).catch(E=>{if(!E||!E.error||!E.status)return _(!1);e("DID_THROW_ITEM_INVALID",{id:d,error:E.error,status:E.status})})}),c.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:d})}),c.on("process-progress",_=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:d,progress:_})}),c.on("process-error",_=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:d,error:_,status:{main:Dn(n.options.labelFileProcessingError)(_),sub:n.options.labelTapToRetry}})}),c.on("process-revert-error",_=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:d,error:_,status:{main:Dn(n.options.labelFileProcessingRevertError)(_),sub:n.options.labelTapToRetry}})}),c.on("process-complete",_=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:d,error:null,serverFileReference:_}),e("DID_DEFINE_VALUE",{id:d,value:_})}),c.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:d})}),c.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:d}),e("DID_DEFINE_VALUE",{id:d,value:null})}),e("DID_ADD_ITEM",{id:d,index:s,interactionMethod:i}),Rr(e,n);const{url:m,load:p,restore:v,fetch:g}=n.options.server||{};c.load(r,gf(u===he.INPUT?be(r)&&Of(r)&&g?Sr(m,g):Pi:u===he.LIMBO?Sr(m,v):Sr(m,p)),(_,E,T)=>{Ve("LOAD_FILE",_,{query:t}).then(E).catch(T)})},REQUEST_PREPARE_OUTPUT:({item:r,success:s,failure:i=()=>{}})=>{const o={error:ce("error",0,"Item not found"),file:null};if(r.archived)return i(o);Ve("PREPARE_OUTPUT",r.file,{query:t,item:r}).then(a=>{Ve("COMPLETE_PREPARE_OUTPUT",a,{query:t,item:r}).then(l=>{if(r.archived)return i(o);s(l)})})},COMPLETE_LOAD_ITEM:({item:r,data:s})=>{const{success:i,source:o}=s,a=t("GET_ITEM_INSERT_LOCATION");if(Ot(a)&&o&&br(n,a),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===he.INPUT?null:o}),i(Pe(r)),r.origin===he.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===he.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:o}),e("DID_DEFINE_VALUE",{id:r.id,value:r.serverId||o});return}t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id})},RETRY_ITEM_LOAD:Ge(n,r=>{r.retryLoad()}),REQUEST_ITEM_PREPARE:Ge(n,(r,s,i)=>{e("REQUEST_PREPARE_OUTPUT",{query:r.id,item:r,success:o=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:o}),s({file:r,output:o})},failure:i},!0)}),REQUEST_ITEM_PROCESSING:Ge(n,(r,s,i)=>{if(!(r.status===X.IDLE||r.status===X.PROCESSING_ERROR)){const a=()=>e("REQUEST_ITEM_PROCESSING",{query:r,success:s,failure:i}),l=()=>document.hidden?a():setTimeout(a,32);r.status===X.PROCESSING_COMPLETE||r.status===X.PROCESSING_REVERT_ERROR?r.revert(tn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(l).catch(()=>{}):r.status===X.PROCESSING&&r.abortProcessing().then(l);return}r.status!==X.PROCESSING_QUEUED&&(r.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),e("PROCESS_ITEM",{query:r,success:s,failure:i},!0))}),PROCESS_ITEM:Ge(n,(r,s,i)=>{const o=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",X.PROCESSING).length===o){n.processingQueue.push({id:r.id,success:s,failure:i});return}if(r.status===X.PROCESSING)return;const l=()=>{const c=n.processingQueue.shift();if(!c)return;const{id:f,success:d,failure:m}=c,p=Ct(n.items,f);if(!p||p.archived){l();return}e("PROCESS_ITEM",{query:f,success:d,failure:m},!0)};r.onOnce("process-complete",()=>{s(Pe(r)),l();const c=n.options.server;if(n.options.instantUpload&&r.origin===he.LOCAL&&Ot(c.remove)){const m=()=>{};r.origin=he.LIMBO,n.options.server.remove(r.source,m,m)}t("GET_ITEMS_BY_STATUS",X.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),r.onOnce("process-error",c=>{i({error:c,file:Pe(r)}),l()});const u=n.options;r.process(yf(If(u.server.url,u.server.process,u.name,{chunkTransferId:r.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(c,f,d)=>{Ve("PREPARE_OUTPUT",c,{query:t,item:r}).then(m=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:m}),f(m)}).catch(d)})}),RETRY_ITEM_PROCESSING:Ge(n,r=>{e("REQUEST_ITEM_PROCESSING",{query:r})}),REQUEST_REMOVE_ITEM:Ge(n,r=>{Mi(t("GET_BEFORE_REMOVE_FILE"),Pe(r)).then(s=>{s&&e("REMOVE_ITEM",{query:r})})}),RELEASE_ITEM:Ge(n,r=>{r.release()}),REMOVE_ITEM:Ge(n,(r,s,i,o)=>{const a=()=>{const u=r.id;Di(n.items,u).archive(),e("DID_REMOVE_ITEM",{error:null,id:u,item:r}),Rr(e,n),s(Pe(r))},l=n.options.server;r.origin===he.LOCAL&&l&&Ot(l.remove)&&o.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:r.id}),l.remove(r.source,()=>a(),u=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:ce("error",0,u,null),status:{main:Dn(n.options.labelFileRemoveError)(u),sub:n.options.labelTapToRetry}})})):((o.revert&&r.origin!==he.LOCAL&&r.serverId!==null||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(tn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),a())}),ABORT_ITEM_LOAD:Ge(n,r=>{r.abortLoad()}),ABORT_ITEM_PROCESSING:Ge(n,r=>{if(r.serverId){e("REVERT_ITEM_PROCESSING",{id:r.id});return}r.abortProcessing().then(()=>{n.options.instantUpload&&e("REMOVE_ITEM",{query:r.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Ge(n,r=>{if(!n.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:r});return}const s=a=>{a&&e("REVERT_ITEM_PROCESSING",{query:r})},i=t("GET_BEFORE_REMOVE_FILE");if(!i)return s(!0);const o=i(Pe(r));if(o==null)return s(!0);if(typeof o=="boolean")return s(o);typeof o.then=="function"&&o.then(s)}),REVERT_ITEM_PROCESSING:Ge(n,r=>{r.revert(tn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||Cf(r))&&e("REMOVE_ITEM",{query:r.id})}).catch(()=>{})}),SET_OPTIONS:({options:r})=>{const s=Object.keys(r),i=Pf.filter(a=>s.includes(a));[...i,...Object.keys(r).filter(a=>!i.includes(a))].forEach(a=>{e(`SET_${rr(a,"_").toUpperCase()}`,{value:r[a]})})}}),Pf=["server"],As=e=>e,ot=e=>document.createElement(e),de=(e,t)=>{let n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},Ai=(e,t,n,r)=>{const s=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}},wf=(e,t,n,r,s,i)=>{const o=Ai(e,t,n,s),a=Ai(e,t,n,r);return["M",o.x,o.y,"A",n,n,0,i,0,a.x,a.y].join(" ")},Mf=(e,t,n,r,s)=>{let i=1;return s>r&&s-r<=.5&&(i=0),r>s&&r-s>=.5&&(i=0),wf(e,t,n,Math.min(.9999,r)*360,Math.min(.9999,s)*360,i)},Af=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const n=Fn("svg");e.ref.path=Fn("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(e.ref.path),e.ref.svg=n,e.appendChild(n)},Lf=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const n=parseInt(me(e.ref.path,"stroke-width"),10),r=e.rect.element.width*.5;let s=0,i=0;t.spin?(s=0,i=.5):(s=0,i=t.progress);const o=Mf(r,r,r-n,s,i);me(e.ref.path,"d",o),me(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},Li=ve({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:Af,write:Lf,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Nf=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},xf=({root:e,props:t})=>{const{isDisabled:n}=t,r=e.query("GET_DISABLED")||t.opacity===0;r&&!n?(t.isDisabled=!0,me(e.element,"disabled","disabled")):!r&&n&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},va=ve({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:Nf,write:xf}),_a=(e,t=".",n=1e3,r={})=>{const{labelBytes:s="bytes",labelKilobytes:i="KB",labelMegabytes:o="MB",labelGigabytes:a="GB"}=r;e=Math.round(Math.abs(e));const l=n,u=n*n,c=n*n*n;return e<l?`${e} ${s}`:e<u?`${Math.floor(e/l)} ${i}`:e<c?`${Ni(e/u,1,t)} ${o}`:`${Ni(e/c,2,t)} ${a}`},Ni=(e,t,n)=>e.toFixed(t).split(".").filter(r=>r!=="0").join(n),kf=({root:e,props:t})=>{const n=ot("span");n.className="filepond--file-info-main",me(n,"aria-hidden","true"),e.appendChild(n),e.ref.fileName=n;const r=ot("span");r.className="filepond--file-info-sub",e.appendChild(r),e.ref.fileSize=r,de(r,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),de(n,As(e.query("GET_ITEM_NAME",t.id)))},Qr=({root:e,props:t})=>{de(e.ref.fileSize,_a(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),de(e.ref.fileName,As(e.query("GET_ITEM_NAME",t.id)))},xi=({root:e,props:t})=>{if(Qt(e.query("GET_ITEM_SIZE",t.id))){Qr({root:e,props:t});return}de(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Gf=ve({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Oe({DID_LOAD_ITEM:Qr,DID_UPDATE_ITEM_META:Qr,DID_THROW_ITEM_LOAD_ERROR:xi,DID_THROW_ITEM_INVALID:xi}),didCreateView:e=>{Nt("CREATE_VIEW",{...e,view:e})},create:kf,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),ga=e=>Math.round(e*100),Bf=({root:e})=>{const t=ot("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const n=ot("span");n.className="filepond--file-status-sub",e.appendChild(n),e.ref.sub=n,ha({root:e,action:{progress:null}})},ha=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${ga(t.progress)}%`;de(e.ref.main,n),de(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Ff=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${ga(t.progress)}%`;de(e.ref.main,n),de(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},$f=({root:e})=>{de(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),de(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Uf=({root:e})=>{de(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),de(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},Vf=({root:e})=>{de(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),de(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},ki=({root:e})=>{de(e.ref.main,""),de(e.ref.sub,"")},nn=({root:e,action:t})=>{de(e.ref.main,t.status.main),de(e.ref.sub,t.status.sub)},Yf=ve({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Oe({DID_LOAD_ITEM:ki,DID_REVERT_ITEM_PROCESSING:ki,DID_REQUEST_ITEM_PROCESSING:$f,DID_ABORT_ITEM_PROCESSING:Uf,DID_COMPLETE_ITEM_PROCESSING:Vf,DID_UPDATE_ITEM_PROCESS_PROGRESS:Ff,DID_UPDATE_ITEM_LOAD_PROGRESS:ha,DID_THROW_ITEM_LOAD_ERROR:nn,DID_THROW_ITEM_INVALID:nn,DID_THROW_ITEM_PROCESSING_ERROR:nn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:nn,DID_THROW_ITEM_REMOVE_ERROR:nn}),didCreateView:e=>{Nt("CREATE_VIEW",{...e,view:e})},create:Bf,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Zr={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Kr=[];le(Zr,e=>{Kr.push(e)});const Me=e=>{if(Jr(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},zf=e=>e.ref.buttonAbortItemLoad.rect.element.width,Pn=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),Hf=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),qf=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),Xf=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),Jr=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),jf={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:qf},processProgressIndicator:{opacity:0,align:Xf},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Gi={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Me},status:{translateX:Me}},Or={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Yt={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Me},status:{translateX:Me,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Me},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Jr},info:{translateX:Me},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Jr},buttonRemoveItem:{opacity:1},info:{translateX:Me},status:{opacity:1,translateX:Me}},DID_LOAD_ITEM:Gi,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Me},status:{translateX:Me}},DID_START_ITEM_PROCESSING:Or,DID_REQUEST_ITEM_PROCESSING:Or,DID_UPDATE_ITEM_PROCESS_PROGRESS:Or,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Me}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Me},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Gi},Wf=ve({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Qf=({root:e,props:t})=>{const n=Object.keys(Zr).reduce((p,v)=>(p[v]={...Zr[v]},p),{}),{id:r}=t,s=e.query("GET_ALLOW_REVERT"),i=e.query("GET_ALLOW_REMOVE"),o=e.query("GET_ALLOW_PROCESS"),a=e.query("GET_INSTANT_UPLOAD"),l=e.query("IS_ASYNC"),u=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let c;l?o&&!s?c=p=>!/RevertItemProcessing/.test(p):!o&&s?c=p=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(p):!o&&!s&&(c=p=>!/Process/.test(p)):c=p=>!/Process/.test(p);const f=c?Kr.filter(c):Kr.concat();if(a&&s&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!s){const p=Yt.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=Hf,p.info.translateY=Pn,p.status.translateY=Pn,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!o&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(p=>{Yt[p].status.translateY=Pn}),Yt.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=zf),u&&s){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const p=Yt.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=Me,p.status.translateY=Pn,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}i||(n.RemoveItem.disabled=!0),le(n,(p,v)=>{const g=e.createChildView(va,{label:e.query(v.label),icon:e.query(v.icon),opacity:0});f.includes(p)&&e.appendChildView(g),v.disabled&&(g.element.setAttribute("disabled","disabled"),g.element.setAttribute("hidden","hidden")),g.element.dataset.align=e.query(`GET_STYLE_${v.align}`),g.element.classList.add(v.className),g.on("click",_=>{_.stopPropagation(),!v.disabled&&e.dispatch(v.action,{query:r})}),e.ref[`button${p}`]=g}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(Wf)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(Gf,{id:r})),e.ref.status=e.appendChildView(e.createChildView(Yf,{id:r}));const d=e.appendChildView(e.createChildView(Li,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));d.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=d;const m=e.appendChildView(e.createChildView(Li,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=m,e.ref.activeStyles=[]},Zf=({root:e,actions:t,props:n})=>{Kf({root:e,actions:t,props:n});let r=t.concat().filter(s=>/^DID_/.test(s.type)).reverse().find(s=>Yt[s.type]);if(r){e.ref.activeStyles=[];const s=Yt[r.type];le(jf,(i,o)=>{const a=e.ref[i];le(o,(l,u)=>{const c=s[i]&&typeof s[i][l]<"u"?s[i][l]:u;e.ref.activeStyles.push({control:a,key:l,value:c})})})}e.ref.activeStyles.forEach(({control:s,key:i,value:o})=>{s[i]=typeof o=="function"?o(e):o})},Kf=Oe({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),Jf=ve({create:Qf,write:Zf,didCreateView:e=>{Nt("CREATE_VIEW",{...e,view:e})},name:"file"}),ep=({root:e,props:t})=>{e.ref.fileName=ot("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(Jf,{id:t.id})),e.ref.data=!1},tp=({root:e,props:t})=>{de(e.ref.fileName,As(e.query("GET_ITEM_NAME",t.id)))},np=ve({create:ep,ignoreRect:!0,write:Oe({DID_LOAD_ITEM:tp}),didCreateView:e=>{Nt("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),Bi={type:"spring",damping:.6,mass:7},rp=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Bi},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Bi},styles:["translateY"]}}].forEach(n=>{sp(e,n,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},sp=(e,t,n)=>{const r=ve({name:`panel-${t.name} filepond--${n}`,mixins:t.mixins,ignoreRectUpdate:!0}),s=e.createChildView(r,t.props);e.ref[t.name]=e.appendChildView(s)},ip=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=ea(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const n=e.ref.top.rect.element,r=e.ref.bottom.rect.element,s=Math.max(n.height+r.height,t.height);e.ref.center.translateY=n.height,e.ref.center.scaleY=(s-n.height-r.height)/100,e.ref.bottom.translateY=s-r.height},Ea=ve({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:ip,create:rp,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),op=e=>{const t=e.map(r=>r.id);let n;return{setIndex:r=>{n=r},getIndex:()=>n,getItemIndex:r=>t.indexOf(r.id)}},Fi={type:"spring",stiffness:.75,damping:.45,mass:10},$i="spring",Ui={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},ap=({root:e,props:t})=>{if(e.ref.handleClick=r=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(np,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(Ea,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const n=r=>{if(!r.isPrimary)return;let s=!1;const i={x:r.pageX,y:r.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:r.offsetX,y:r.offsetY};const o=op(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:o});const a=u=>{if(!u.isPrimary)return;u.stopPropagation(),u.preventDefault(),t.dragOffset={x:u.pageX-i.x,y:u.pageY-i.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!s&&(s=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:o})},l=u=>{u.isPrimary&&(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",l),t.dragOffset={x:u.pageX-i.x,y:u.pageY-i.y},e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:o}),s&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",l)};e.element.addEventListener("pointerdown",n)},lp=Oe({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),up=Oe({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:n,shouldOptimize:r})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let s=t.concat().filter(o=>/^DID_/.test(o.type)).reverse().find(o=>Ui[o.type]);s&&s.type!==n.currentState&&(n.currentState=s.type,e.element.dataset.filepondItemState=Ui[n.currentState]||"");const i=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");i?r||(e.height=e.rect.element.width*i):(lp({root:e,actions:t,props:n}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),r&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),cp=ve({create:ap,write:up,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:$i,scaleY:$i,translateX:Fi,translateY:Fi,opacity:{type:"tween",duration:150}}}});var Ls=(e,t)=>Math.max(1,Math.floor((e+1)/t));const Ns=(e,t,n)=>{if(!n)return;const r=e.rect.element.width,s=t.length;let i=null;if(s===0||n.top<t[0].rect.element.top)return-1;const a=t[0].rect.element,l=a.marginLeft+a.marginRight,u=a.width+l,c=Ls(r,u);if(c===1){for(let m=0;m<s;m++){const p=t[m],v=p.rect.outer.top+p.rect.element.height*.5;if(n.top<v)return m}return s}const f=a.marginTop+a.marginBottom,d=a.height+f;for(let m=0;m<s;m++){const p=m%c,v=Math.floor(m/c),g=p*u,_=v*d,E=_-a.marginTop,T=g+u,D=_+d+a.marginBottom;if(n.top<D&&n.top>E){if(n.left<T)return m;m!==s-1?i=m:i=null}}return i!==null?i:s},wn={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},dp=({root:e})=>{me(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},fp=({root:e,action:t})=>{const{id:n,index:r,interactionMethod:s}=t;e.ref.addIndex=r;const i=Date.now();let o=i,a=1;if(s!==Fe.NONE){a=0;const l=e.query("GET_ITEM_INSERT_INTERVAL"),u=i-e.ref.lastItemSpanwDate;o=u<l?i+(l-u):i}e.ref.lastItemSpanwDate=o,e.appendChildView(e.createChildView(cp,{spawnDate:o,id:n,opacity:a,interactionMethod:s}),r)},Vi=(e,t,n,r=0,s=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(e.opacity===0&&pp(e,t,n,r,s),e.scaleX=1,e.scaleY=1,e.opacity=1))},pp=(e,t,n,r,s)=>{e.interactionMethod===Fe.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===Fe.DROP?(e.translateX=null,e.translateX=t-r*20,e.translateY=null,e.translateY=n-s*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===Fe.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===Fe.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},mp=({root:e,action:t})=>{const{id:n}=t,r=e.childViews.find(s=>s.id===n);r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},Cr=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,vp=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,_p=({root:e,action:t})=>{const{id:n,dragState:r}=t,s=e.query("GET_ITEM",{id:n}),i=e.childViews.find(g=>g.id===n),o=e.childViews.length,a=r.getItemIndex(s);if(!i)return;const l={x:i.dragOrigin.x+i.dragOffset.x+i.dragCenter.x,y:i.dragOrigin.y+i.dragOffset.y+i.dragCenter.y},u=Cr(i),c=vp(i);let f=Math.floor(e.rect.outer.width/c);f>o&&(f=o);const d=Math.floor(o/f+1);wn.setHeight=u*d,wn.setWidth=c*f;var m={y:Math.floor(l.y/u),x:Math.floor(l.x/c),getGridIndex:function(){return l.y>wn.getHeight||l.y<0||l.x>wn.getWidth||l.x<0?a:this.y*f+this.x},getColIndex:function(){const _=e.query("GET_ACTIVE_ITEMS"),E=e.childViews.filter(A=>A.rect.element.height),T=_.map(A=>E.find(C=>C.id===A.id)),D=T.findIndex(A=>A===i),y=Cr(i),S=T.length;let b=S,h=0,O=0,k=0;for(let A=0;A<S;A++)if(h=Cr(T[A]),k=O,O=k+h,l.y<O){if(D>A){if(l.y<k+y){b=A;break}continue}b=A;break}return b}};const p=f>1?m.getGridIndex():m.getColIndex();e.dispatch("MOVE_ITEM",{query:i,index:p});const v=r.getIndex();if(v===void 0||v!==p){if(r.setIndex(p),v===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:a,target:p})}},gp=Oe({DID_ADD_ITEM:fp,DID_REMOVE_ITEM:mp,DID_DRAG_ITEM:_p}),hp=({root:e,props:t,actions:n,shouldOptimize:r})=>{gp({root:e,props:t,actions:n});const{dragCoordinates:s}=t,i=e.rect.element.width,o=e.childViews.filter(T=>T.rect.element.height),a=e.query("GET_ACTIVE_ITEMS").map(T=>o.find(D=>D.id===T.id)).filter(T=>T),l=s?Ns(e,a,s):null,u=e.ref.addIndex||null;e.ref.addIndex=null;let c=0,f=0,d=0;if(a.length===0)return;const m=a[0].rect.element,p=m.marginTop+m.marginBottom,v=m.marginLeft+m.marginRight,g=m.width+v,_=m.height+p,E=Ls(i,g);if(E===1){let T=0,D=0;a.forEach((y,S)=>{if(l){let O=S-l;O===-2?D=-p*.25:O===-1?D=-p*.75:O===0?D=p*.75:O===1?D=p*.25:D=0}r&&(y.translateX=null,y.translateY=null),y.markedForRemoval||Vi(y,0,T+D);let h=(y.rect.element.height+p)*(y.markedForRemoval?y.opacity:1);T+=h})}else{let T=0,D=0;a.forEach((y,S)=>{S===l&&(c=1),S===u&&(d+=1),y.markedForRemoval&&y.opacity<.5&&(f-=1);const b=S+d+c+f,h=b%E,O=Math.floor(b/E),k=h*g,A=O*_,C=Math.sign(k-T),U=Math.sign(A-D);T=k,D=A,!y.markedForRemoval&&(r&&(y.translateX=null,y.translateY=null),Vi(y,k,A,C,U))})}},Ep=(e,t)=>t.filter(n=>n.data&&n.data.id?e.id===n.data.id:!0),Ip=ve({create:dp,write:hp,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:Ep,mixins:{apis:["dragCoordinates"]}}),Tp=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Ip)),t.dragCoordinates=null,t.overflowing=!1},yp=({root:e,props:t,action:n})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:n.position.scopeLeft-e.ref.list.rect.element.left,top:n.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Sp=({props:e})=>{e.dragCoordinates=null},Rp=Oe({DID_DRAG:yp,DID_END_DRAG:Sp}),bp=({root:e,props:t,actions:n})=>{if(Rp({root:e,props:t,actions:n}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const r=Math.round(t.overflow);r!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=r)}},Op=ve({create:Tp,write:bp,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),ze=(e,t,n,r="")=>{n?me(e,t,r):e.removeAttribute(t)},Cp=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=ot("form"),n=e.parentNode,r=e.nextSibling;t.appendChild(e),t.reset(),r?n.insertBefore(e,r):n.appendChild(e)}}},Dp=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,me(e.element,"name",e.query("GET_NAME")),me(e.element,"aria-controls",`filepond--assistant-${t.id}`),me(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),Ia({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),Ta({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),ya({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),es({root:e}),Sa({root:e,action:{value:e.query("GET_REQUIRED")}}),Ra({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=n=>{if(!e.element.value)return;const r=Array.from(e.element.files).map(s=>(s._relativePath=s.webkitRelativePath,s));setTimeout(()=>{t.onload(r),Cp(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},Ia=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&ze(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},Ta=({root:e,action:t})=>{ze(e.element,"multiple",t.value)},ya=({root:e,action:t})=>{ze(e.element,"webkitdirectory",t.value)},es=({root:e})=>{const t=e.query("GET_DISABLED"),n=e.query("GET_ALLOW_BROWSE"),r=t||!n;ze(e.element,"disabled",r)},Sa=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&ze(e.element,"required",!0):ze(e.element,"required",!1)},Ra=({root:e,action:t})=>{ze(e.element,"capture",!!t.value,t.value===!0?"":t.value)},Yi=({root:e})=>{const{element:t}=e;e.query("GET_TOTAL_ITEMS")>0?(ze(t,"required",!1),ze(t,"name",!1)):(ze(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&ze(t,"required",!0))},Pp=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},wp=ve({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Dp,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:Oe({DID_LOAD_ITEM:Yi,DID_REMOVE_ITEM:Yi,DID_THROW_ITEM_INVALID:Pp,DID_SET_DISABLED:es,DID_SET_ALLOW_BROWSE:es,DID_SET_ALLOW_DIRECTORIES_ONLY:ya,DID_SET_ALLOW_MULTIPLE:Ta,DID_SET_ACCEPTED_FILE_TYPES:Ia,DID_SET_CAPTURE_METHOD:Ra,DID_SET_REQUIRED:Sa})}),zi={ENTER:13,SPACE:32},Mp=({root:e,props:t})=>{const n=ot("label");me(n,"for",`filepond--browser-${t.id}`),me(n,"id",`filepond--drop-label-${t.id}`),me(n,"aria-hidden","true"),e.ref.handleKeyDown=r=>{(r.keyCode===zi.ENTER||r.keyCode===zi.SPACE)&&(r.preventDefault(),e.ref.label.click())},e.ref.handleClick=r=>{r.target===n||n.contains(r.target)||e.ref.label.click()},n.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),ba(n,t.caption),e.appendChild(n),e.ref.label=n},ba=(e,t)=>{e.innerHTML=t;const n=e.querySelector(".filepond--label-action");return n&&me(n,"tabindex","0"),t},Ap=ve({name:"drop-label",ignoreRect:!0,create:Mp,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:Oe({DID_SET_LABEL_IDLE:({root:e,action:t})=>{ba(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Lp=ve({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Np=({root:e})=>{const t=e.rect.element.width*.5,n=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(Lp,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:n}))},xp=({root:e,action:t})=>{if(!e.ref.blob){Np({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},kp=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},Gp=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},Bp=({root:e,props:t,actions:n})=>{Fp({root:e,props:t,actions:n});const{blob:r}=e.ref;n.length===0&&r&&r.opacity===0&&(e.removeChildView(r),e.ref.blob=null)},Fp=Oe({DID_DRAG:xp,DID_DROP:Gp,DID_END_DRAG:kp}),$p=ve({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Bp}),Oa=(e,t)=>{try{const n=new DataTransfer;t.forEach(r=>{r instanceof File?n.items.add(r):n.items.add(new File([r],r.name,{type:r.type}))}),e.files=n.files}catch{return!1}return!0},Up=({root:e})=>e.ref.fields={},or=(e,t)=>e.ref.fields[t],xs=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},Hi=({root:e})=>xs(e),Vp=({root:e,action:t})=>{const s=!(e.query("GET_ITEM",t.id).origin===he.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),i=ot("input");i.type=s?"file":"hidden",i.name=e.query("GET_NAME"),i.disabled=e.query("GET_DISABLED"),e.ref.fields[t.id]=i,xs(e)},Yp=({root:e,action:t})=>{const n=or(e,t.id);if(!n||(t.serverFileReference!==null&&(n.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const r=e.query("GET_ITEM",t.id);Oa(n,[r.file])},zp=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const n=or(e,t.id);n&&Oa(n,[t.file])},0)},Hp=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},qp=({root:e,action:t})=>{const n=or(e,t.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete e.ref.fields[t.id])},Xp=({root:e,action:t})=>{const n=or(e,t.id);n&&(t.value===null?n.removeAttribute("value"):n.value=t.value,xs(e))},jp=Oe({DID_SET_DISABLED:Hp,DID_ADD_ITEM:Vp,DID_LOAD_ITEM:Yp,DID_REMOVE_ITEM:qp,DID_DEFINE_VALUE:Xp,DID_PREPARE_OUTPUT:zp,DID_REORDER_ITEMS:Hi,DID_SORT_ITEMS:Hi}),Wp=ve({tag:"fieldset",name:"data",create:Up,write:jp,ignoreRect:!0}),Qp=e=>"getRootNode"in e?e.getRootNode():document,Zp=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Kp=["css","csv","html","txt"],Jp={zip:"zip|compressed",epub:"application/epub+zip"},Ca=(e="")=>(e=e.toLowerCase(),Zp.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):Kp.includes(e)?"text/"+e:Jp[e]||""),ks=e=>new Promise((t,n)=>{const r=am(e);if(r.length&&!em(e))return t(r);tm(e).then(t)}),em=e=>e.files?e.files.length>0:!1,tm=e=>new Promise((t,n)=>{const r=(e.items?Array.from(e.items):[]).filter(s=>nm(s)).map(s=>rm(s));if(!r.length){t(e.files?Array.from(e.files):[]);return}Promise.all(r).then(s=>{const i=[];s.forEach(o=>{i.push.apply(i,o)}),t(i.filter(o=>o).map(o=>(o._relativePath||(o._relativePath=o.webkitRelativePath),o)))}).catch(console.error)}),nm=e=>{if(Da(e)){const t=Gs(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},rm=e=>new Promise((t,n)=>{if(om(e)){sm(Gs(e)).then(t).catch(n);return}t([e.getAsFile()])}),sm=e=>new Promise((t,n)=>{const r=[];let s=0,i=0;const o=()=>{i===0&&s===0&&t(r)},a=l=>{s++;const u=l.createReader(),c=()=>{u.readEntries(f=>{if(f.length===0){s--,o();return}f.forEach(d=>{d.isDirectory?a(d):(i++,d.file(m=>{const p=im(m);d.fullPath&&(p._relativePath=d.fullPath),r.push(p),i--,o()}))}),c()},n)};c()};a(e)}),im=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,n=e.name,r=Ca(ir(e.name));return r.length&&(e=e.slice(0,e.size,r),e.name=n,e.lastModifiedDate=t),e},om=e=>Da(e)&&(Gs(e)||{}).isDirectory,Da=e=>"webkitGetAsEntry"in e,Gs=e=>e.webkitGetAsEntry(),am=e=>{let t=[];try{if(t=um(e),t.length)return t;t=lm(e)}catch{}return t},lm=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},um=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},Un=[],wt=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),cm=(e,t,n)=>{const r=dm(t),s={element:e,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return s.destroy=r.addListener(s),s},dm=e=>{const t=Un.find(r=>r.element===e);if(t)return t;const n=fm(e);return Un.push(n),n},fm=e=>{const t=[],n={dragenter:mm,dragover:vm,dragleave:gm,drop:_m},r={};le(n,(i,o)=>{r[i]=o(e,t),e.addEventListener(i,r[i],!1)});const s={element:e,addListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1),t.length===0&&(Un.splice(Un.indexOf(s),1),le(n,o=>{e.removeEventListener(o,r[o],!1)}))})};return s},pm=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),Bs=(e,t)=>{const n=Qp(t),r=pm(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)};let Pa=null;const Mn=(e,t)=>{try{e.dropEffect=t}catch{}},mm=(e,t)=>n=>{n.preventDefault(),Pa=n.target,t.forEach(r=>{const{element:s,onenter:i}=r;Bs(n,s)&&(r.state="enter",i(wt(n)))})},vm=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;ks(r).then(s=>{let i=!1;t.some(o=>{const{filterElement:a,element:l,onenter:u,onexit:c,ondrag:f,allowdrop:d}=o;Mn(r,"copy");const m=d(s);if(!m){Mn(r,"none");return}if(Bs(n,l)){if(i=!0,o.state===null){o.state="enter",u(wt(n));return}if(o.state="over",a&&!m){Mn(r,"none");return}f(wt(n))}else a&&!i&&Mn(r,"none"),o.state&&(o.state=null,c(wt(n)))})})},_m=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;ks(r).then(s=>{t.forEach(i=>{const{filterElement:o,element:a,ondrop:l,onexit:u,allowdrop:c}=i;if(i.state=null,!(o&&!Bs(n,a))){if(!c(s))return u(wt(n));l(wt(n),s)}})})},gm=(e,t)=>n=>{Pa===n.target&&t.forEach(r=>{const{onexit:s}=r;r.state=null,s(wt(n))})},hm=(e,t,n)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:r,requiresDropOnElement:s,filterItems:i=c=>c}=n,o=cm(e,r?document.documentElement:e,s);let a="",l="";o.allowdrop=c=>t(i(c)),o.ondrop=(c,f)=>{const d=i(f);if(!t(d)){u.ondragend(c);return}l="drag-drop",u.onload(d,c)},o.ondrag=c=>{u.ondrag(c)},o.onenter=c=>{l="drag-over",u.ondragstart(c)},o.onexit=c=>{l="drag-exit",u.ondragend(c)};const u={updateHopperState:()=>{a!==l&&(e.dataset.hopperState=l,a=l)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{o.destroy()}};return u};let ts=!1;const zt=[],wa=e=>{const t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){let n=!1,r=t;for(;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}ks(e.clipboardData).then(n=>{n.length&&zt.forEach(r=>r(n))})},Em=e=>{zt.includes(e)||(zt.push(e),!ts&&(ts=!0,document.addEventListener("paste",wa)))},Im=e=>{Ps(zt,zt.indexOf(e)),zt.length===0&&(document.removeEventListener("paste",wa),ts=!1)},Tm=()=>{const e=n=>{t.onload(n)},t={destroy:()=>{Im(e)},onload:()=>{}};return Em(e),t},ym=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,me(e.element,"role","status"),me(e.element,"aria-live","polite"),me(e.element,"aria-relevant","additions")};let qi=null,Xi=null;const Dr=[],ar=(e,t)=>{e.element.textContent=t},Sm=e=>{e.element.textContent=""},Ma=(e,t,n)=>{const r=e.query("GET_TOTAL_ITEMS");ar(e,`${n} ${t}, ${r} ${r===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Xi),Xi=setTimeout(()=>{Sm(e)},1500)},Aa=e=>e.element.parentNode.contains(document.activeElement),Rm=({root:e,action:t})=>{if(!Aa(e))return;e.element.textContent="";const n=e.query("GET_ITEM",t.id);Dr.push(n.filename),clearTimeout(qi),qi=setTimeout(()=>{Ma(e,Dr.join(", "),e.query("GET_LABEL_FILE_ADDED")),Dr.length=0},750)},bm=({root:e,action:t})=>{if(!Aa(e))return;const n=t.item;Ma(e,n.filename,e.query("GET_LABEL_FILE_REMOVED"))},Om=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,s=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");ar(e,`${r} ${s}`)},ji=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,s=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");ar(e,`${r} ${s}`)},An=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename;ar(e,`${t.status.main} ${r} ${t.status.sub}`)},Cm=ve({create:ym,ignoreRect:!0,ignoreRectUpdate:!0,write:Oe({DID_LOAD_ITEM:Rm,DID_REMOVE_ITEM:bm,DID_COMPLETE_ITEM_PROCESSING:Om,DID_ABORT_ITEM_PROCESSING:ji,DID_REVERT_ITEM_PROCESSING:ji,DID_THROW_ITEM_REMOVE_ERROR:An,DID_THROW_ITEM_LOAD_ERROR:An,DID_THROW_ITEM_INVALID:An,DID_THROW_ITEM_PROCESSING_ERROR:An}),tag:"span",name:"assistant"}),La=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),n=>n.charAt(1).toUpperCase()),Na=(e,t=16,n=!0)=>{let r=Date.now(),s=null;return(...i)=>{clearTimeout(s);const o=Date.now()-r,a=()=>{r=Date.now(),e(...i)};o<t?n||(s=setTimeout(a,t-o)):a()}},Dm=1e6,Vn=e=>e.preventDefault(),Pm=({root:e,props:t})=>{const n=e.query("GET_ID");n&&(e.element.id=n);const r=e.query("GET_CLASS_NAME");r&&r.split(" ").filter(l=>l.length).forEach(l=>{e.element.classList.add(l)}),e.ref.label=e.appendChildView(e.createChildView(Ap,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(Op,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(Ea,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Cm,{...t})),e.ref.data=e.appendChildView(e.createChildView(Wp,{...t})),e.ref.measure=ot("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(l=>!it(l.value)).map(({name:l,value:u})=>{e.element.dataset[l]=u}),e.ref.widthPrevious=null,e.ref.widthUpdated=Na(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const s=window.matchMedia("(pointer: fine) and (hover: hover)").matches,i="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&i&&!s&&(e.element.addEventListener("touchmove",Vn,{passive:!1}),e.element.addEventListener("gesturestart",Vn));const o=e.query("GET_CREDITS");if(o.length===2){const l=document.createElement("a");l.className="filepond--credits",l.setAttribute("aria-hidden","true"),l.href=o[0],l.tabindex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=o[1],e.element.appendChild(l),e.ref.credits=l}},wm=({root:e,props:t,actions:n})=>{if(xm({root:e,props:t,actions:n}),n.filter(S=>/^DID_SET_STYLE_/.test(S.type)).filter(S=>!it(S.data.value)).map(({type:S,data:b})=>{const h=La(S.substring(8).toLowerCase(),"_");e.element.dataset[h]=b.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let r=e.ref.bounds;r||(r=e.ref.bounds=Lm(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:s,label:i,list:o,panel:a}=e.ref;s&&s.updateHopperState();const l=e.query("GET_PANEL_ASPECT_RATIO"),u=e.query("GET_ALLOW_MULTIPLE"),c=e.query("GET_TOTAL_ITEMS"),f=u?e.query("GET_MAX_FILES")||Dm:1,d=c===f,m=n.find(S=>S.type==="DID_ADD_ITEM");if(d&&m){const S=m.data.interactionMethod;i.opacity=0,u?i.translateY=-40:S===Fe.API?i.translateX=40:S===Fe.BROWSE?i.translateY=40:i.translateY=30}else d||(i.opacity=1,i.translateX=0,i.translateY=0);const p=Mm(e),v=Am(e),g=i.rect.element.height,_=!u||d?0:g,E=d?o.rect.element.marginTop:0,T=c===0?0:o.rect.element.marginBottom,D=_+E+v.visual+T,y=_+E+v.bounds+T;if(o.translateY=Math.max(0,_-o.rect.element.marginTop)-p.top,l){const S=e.rect.element.width,b=S*l;l!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=l,e.ref.updateHistory=[]);const h=e.ref.updateHistory;h.push(S);const O=2;if(h.length>O*2){const A=h.length,C=A-10;let U=0;for(let M=A;M>=C;M--)if(h[M]===h[M-2]&&U++,U>=O)return}a.scalable=!1,a.height=b;const k=b-_-(T-p.bottom)-(d?E:0);v.visual>k?o.overflow=k:o.overflow=null,e.height=b}else if(r.fixedHeight){a.scalable=!1;const S=r.fixedHeight-_-(T-p.bottom)-(d?E:0);v.visual>S?o.overflow=S:o.overflow=null}else if(r.cappedHeight){const S=D>=r.cappedHeight,b=Math.min(r.cappedHeight,D);a.scalable=!0,a.height=S?b:b-p.top-p.bottom;const h=b-_-(T-p.bottom)-(d?E:0);D>r.cappedHeight&&v.visual>h?o.overflow=h:o.overflow=null,e.height=Math.min(r.cappedHeight,y-p.top-p.bottom)}else{const S=c>0?p.top+p.bottom:0;a.scalable=!0,a.height=Math.max(g,D-S),e.height=Math.max(g,y-S)}e.ref.credits&&a.heightCurrent&&(e.ref.credits.style.transform=`translateY(${a.heightCurrent}px)`)},Mm=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Am=e=>{let t=0,n=0;const r=e.ref.list,s=r.childViews[0],i=s.childViews.filter(E=>E.rect.element.height),o=e.query("GET_ACTIVE_ITEMS").map(E=>i.find(T=>T.id===E.id)).filter(E=>E);if(o.length===0)return{visual:t,bounds:n};const a=s.rect.element.width,l=Ns(s,o,r.dragCoordinates),u=o[0].rect.element,c=u.marginTop+u.marginBottom,f=u.marginLeft+u.marginRight,d=u.width+f,m=u.height+c,p=typeof l<"u"&&l>=0?1:0,v=o.find(E=>E.markedForRemoval&&E.opacity<.45)?-1:0,g=o.length+p+v,_=Ls(a,d);return _===1?o.forEach(E=>{const T=E.rect.element.height+c;n+=T,t+=T*E.opacity}):(n=Math.ceil(g/_)*m,t=n),{visual:t,bounds:n}},Lm=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},Fs=(e,t)=>{const n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),s=e.query("GET_TOTAL_ITEMS");let i=e.query("GET_MAX_FILES");const o=t.length;return!r&&o>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:ce("warning",0,"Max files")}),!0):(i=r?i:1,!r&&n?!1:Qt(i)&&s+o>i?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:ce("warning",0,"Max files")}),!0):!1)},Nm=(e,t,n)=>{const r=e.childViews[0];return Ns(r,t,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Wi=e=>{const t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),r=t&&!n;if(r&&!e.ref.hopper){const s=hm(e.element,i=>{const o=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?i.every(l=>Nt("ALLOW_HOPPER_ITEM",l,{query:e.query}).every(u=>u===!0)&&o(l)):!0},{filterItems:i=>{const o=e.query("GET_IGNORED_FILES");return i.filter(a=>jt(a)?!o.includes(a.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});s.onload=(i,o)=>{const l=e.ref.list.childViews[0].childViews.filter(c=>c.rect.element.height),u=e.query("GET_ACTIVE_ITEMS").map(c=>l.find(f=>f.id===c.id)).filter(c=>c);Ve("ADD_ITEMS",i,{dispatch:e.dispatch}).then(c=>{if(Fs(e,c))return!1;e.dispatch("ADD_ITEMS",{items:c,index:Nm(e.ref.list,u,o),interactionMethod:Fe.DROP})}),e.dispatch("DID_DROP",{position:o}),e.dispatch("DID_END_DRAG",{position:o})},s.ondragstart=i=>{e.dispatch("DID_START_DRAG",{position:i})},s.ondrag=Na(i=>{e.dispatch("DID_DRAG",{position:i})}),s.ondragend=i=>{e.dispatch("DID_END_DRAG",{position:i})},e.ref.hopper=s,e.ref.drip=e.appendChildView(e.createChildView($p))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Qi=(e,t)=>{const n=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),s=n&&!r;s&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(wp,{...t,onload:i=>{Ve("ADD_ITEMS",i,{dispatch:e.dispatch}).then(o=>{if(Fs(e,o))return!1;e.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:Fe.BROWSE})})}}),0):!s&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Zi=e=>{const t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),r=t&&!n;r&&!e.ref.paster?(e.ref.paster=Tm(),e.ref.paster.onload=s=>{Ve("ADD_ITEMS",s,{dispatch:e.dispatch}).then(i=>{if(Fs(e,i))return!1;e.dispatch("ADD_ITEMS",{items:i,index:-1,interactionMethod:Fe.PASTE})})}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},xm=Oe({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{Qi(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{Wi(e)},DID_SET_ALLOW_PASTE:({root:e})=>{Zi(e)},DID_SET_DISABLED:({root:e,props:t})=>{Wi(e),Zi(e),Qi(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),km=ve({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:Pm,write:wm,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Vn),e.element.removeEventListener("gesturestart",Vn)},mixins:{styles:["height"]}}),Gm=(e={})=>{let t=null;const n=$n(),r=Kc(Gd(n),[nf,$d(n)],[Df,Fd(n)]);r.dispatch("SET_OPTIONS",{options:e});const s=()=>{document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",s);let i=null,o=!1,a=!1,l=null,u=null;const c=()=>{o||(o=!0),clearTimeout(i),i=setTimeout(()=>{o=!1,l=null,u=null,a&&(a=!1,r.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",c);const f=km(r,{id:Ds()});let d=!1,m=!1;const p={_read:()=>{o&&(u=window.innerWidth,l||(l=u),!a&&u!==l&&(r.dispatch("DID_START_RESIZE"),a=!0)),m&&d&&(d=f.element.offsetParent===null),!d&&(f._read(),m=f.rect.element.hidden)},_write:R=>{const L=r.processActionQueue().filter(G=>!/^SET_/.test(G.type));d&&!L.length||(E(L),d=f._write(R,L,a),Yd(r.query("GET_ITEMS")),d&&r.processDispatchQueue())}},v=R=>L=>{const G={type:R};if(!L)return G;if(L.hasOwnProperty("error")&&(G.error=L.error?{...L.error}:null),L.status&&(G.status={...L.status}),L.file&&(G.output=L.file),L.source)G.file=L.source;else if(L.item||L.id){const B=L.item?L.item:r.query("GET_ITEM",L.id);G.file=B?Pe(B):null}return L.items&&(G.items=L.items.map(Pe)),/progress/.test(R)&&(G.progress=L.progress),L.hasOwnProperty("origin")&&L.hasOwnProperty("target")&&(G.origin=L.origin,G.target=L.target),G},g={DID_DESTROY:v("destroy"),DID_INIT:v("init"),DID_THROW_MAX_FILES:v("warning"),DID_INIT_ITEM:v("initfile"),DID_START_ITEM_LOAD:v("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:v("addfileprogress"),DID_LOAD_ITEM:v("addfile"),DID_THROW_ITEM_INVALID:[v("error"),v("addfile")],DID_THROW_ITEM_LOAD_ERROR:[v("error"),v("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[v("error"),v("removefile")],DID_PREPARE_OUTPUT:v("preparefile"),DID_START_ITEM_PROCESSING:v("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:v("processfileprogress"),DID_ABORT_ITEM_PROCESSING:v("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:v("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:v("processfiles"),DID_REVERT_ITEM_PROCESSING:v("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[v("error"),v("processfile")],DID_REMOVE_ITEM:v("removefile"),DID_UPDATE_ITEMS:v("updatefiles"),DID_ACTIVATE_ITEM:v("activatefile"),DID_REORDER_ITEMS:v("reorderfiles")},_=R=>{const L={pond:z,...R};delete L.type,f.element.dispatchEvent(new CustomEvent(`FilePond:${R.type}`,{detail:L,bubbles:!0,cancelable:!0,composed:!0}));const G=[];R.hasOwnProperty("error")&&G.push(R.error),R.hasOwnProperty("file")&&G.push(R.file);const B=["type","error","file"];Object.keys(R).filter(Q=>!B.includes(Q)).forEach(Q=>G.push(R[Q])),z.fire(R.type,...G);const V=r.query(`GET_ON${R.type.toUpperCase()}`);V&&V(...G)},E=R=>{R.length&&R.filter(L=>g[L.type]).forEach(L=>{const G=g[L.type];(Array.isArray(G)?G:[G]).forEach(B=>{L.type==="DID_INIT_ITEM"?_(B(L.data)):setTimeout(()=>{_(B(L.data))},0)})})},T=R=>r.dispatch("SET_OPTIONS",{options:R}),D=R=>r.query("GET_ACTIVE_ITEM",R),y=R=>new Promise((L,G)=>{r.dispatch("REQUEST_ITEM_PREPARE",{query:R,success:B=>{L(B)},failure:B=>{G(B)}})}),S=(R,L={})=>new Promise((G,B)=>{O([{source:R,options:L}],{index:L.index}).then(V=>G(V&&V[0])).catch(B)}),b=R=>R.file&&R.id,h=(R,L)=>(typeof R=="object"&&!b(R)&&!L&&(L=R,R=void 0),r.dispatch("REMOVE_ITEM",{...L,query:R}),r.query("GET_ACTIVE_ITEM",R)===null),O=(...R)=>new Promise((L,G)=>{const B=[],V={};if(tr(R[0]))B.push.apply(B,R[0]),Object.assign(V,R[1]||{});else{const Q=R[R.length-1];typeof Q=="object"&&!(Q instanceof Blob)&&Object.assign(V,R.pop()),B.push(...R)}r.dispatch("ADD_ITEMS",{items:B,index:V.index,interactionMethod:Fe.API,success:L,failure:G})}),k=()=>r.query("GET_ACTIVE_ITEMS"),A=R=>new Promise((L,G)=>{r.dispatch("REQUEST_ITEM_PROCESSING",{query:R,success:B=>{L(B)},failure:B=>{G(B)}})}),C=(...R)=>{const L=Array.isArray(R[0])?R[0]:R,G=L.length?L:k();return Promise.all(G.map(y))},U=(...R)=>{const L=Array.isArray(R[0])?R[0]:R;if(!L.length){const G=k().filter(B=>!(B.status===X.IDLE&&B.origin===he.LOCAL)&&B.status!==X.PROCESSING&&B.status!==X.PROCESSING_COMPLETE&&B.status!==X.PROCESSING_REVERT_ERROR);return Promise.all(G.map(A))}return Promise.all(L.map(A))},M=(...R)=>{const L=Array.isArray(R[0])?R[0]:R;let G;typeof L[L.length-1]=="object"?G=L.pop():Array.isArray(R[0])&&(G=R[1]);const B=k();return L.length?L.map(Q=>bt(Q)?B[Q]?B[Q].id:null:Q).filter(Q=>Q).map(Q=>h(Q,G)):Promise.all(B.map(Q=>h(Q,G)))},z={...sr(),...p,...Bd(r,n),setOptions:T,addFile:S,addFiles:O,getFile:D,processFile:A,prepareFile:y,removeFile:h,moveFile:(R,L)=>r.dispatch("MOVE_ITEM",{query:R,index:L}),getFiles:k,processFiles:U,removeFiles:M,prepareFiles:C,sort:R=>r.dispatch("SORT",{compare:R}),browse:()=>{var R=f.element.querySelector("input[type=file]");R&&R.click()},destroy:()=>{z.fire("destroy",f.element),r.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",s),r.dispatch("DID_DESTROY")},insertBefore:R=>Ii(f.element,R),insertAfter:R=>Ti(f.element,R),appendTo:R=>R.appendChild(f.element),replaceElement:R=>{Ii(f.element,R),R.parentNode.removeChild(R),t=R},restoreElement:()=>{t&&(Ti(t,f.element),f.element.parentNode.removeChild(f.element),t=null)},isAttachedTo:R=>f.element===R||t===R,element:{get:()=>f.element},status:{get:()=>r.query("GET_STATUS")}};return r.dispatch("DID_INIT"),gt(z)},xa=(e={})=>{const t={};return le($n(),(r,s)=>{t[r]=s[0]}),Gm({...t,...e})},Bm=e=>e.charAt(0).toLowerCase()+e.slice(1),Fm=e=>La(e.replace(/^data-/,"")),ka=(e,t)=>{le(t,(n,r)=>{le(e,(s,i)=>{const o=new RegExp(n);if(!o.test(s)||(delete e[s],r===!1))return;if(be(r)){e[r]=i;return}const l=r.group;Ie(r)&&!e[l]&&(e[l]={}),e[l][Bm(s.replace(o,""))]=i}),r.mapping&&ka(e[r.group],r.mapping)})},$m=(e,t={})=>{const n=[];le(e.attributes,s=>{n.push(e.attributes[s])});const r=n.filter(s=>s.name).reduce((s,i)=>{const o=me(e,i.name);return s[Fm(i.name)]=o===i.name?!0:o,s},{});return ka(r,t),r},Um=(e,t={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Nt("SET_ATTRIBUTE_TO_OPTION_MAP",n);const r={...t},s=$m(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,n);Object.keys(s).forEach(o=>{Ie(s[o])?(Ie(r[o])||(r[o]={}),Object.assign(r[o],s[o])):r[o]=s[o]}),r.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(o=>({source:o.value,options:{type:o.dataset.type}})));const i=xa(r);return e.files&&Array.from(e.files).forEach(o=>{i.addFile(o)}),i.replaceElement(e),i},Vm=(...e)=>Zc(e[0])?Um(...e):xa(...e),Ym=["fire","_read","_write"],Ki=e=>{const t={};return sa(e,t,Ym),t},zm=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(n,r)=>t[r]),Hm=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return{transfer:(s,i)=>{},post:(s,i,o)=>{const a=Ds();r.onmessage=l=>{l.data.id===a&&i(l.data.message)},r.postMessage({id:a,message:s},o)},terminate:()=>{r.terminate(),URL.revokeObjectURL(n)}}},qm=e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>{t(r)},r.onerror=s=>{n(s)},r.src=e}),Ga=(e,t)=>{const n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},Xm=e=>Ga(e,e.name),Ji=[],jm=e=>{if(Ji.includes(e))return;Ji.push(e);const t=e({addFilter:Hd,utils:{Type:P,forin:le,isString:be,isFile:jt,toNaturalFileSize:_a,replaceInString:zm,getExtensionFromFilename:ir,getFilenameWithoutExtension:pa,guesstimateMimeType:Ca,getFileFromBlob:Xt,getFilenameFromURL:In,createRoute:Oe,createWorker:Hm,createView:ve,createItemAPI:Pe,loadImage:qm,copyFile:Xm,renameFile:Ga,createBlob:ca,applyFilterChain:Ve,text:de,getNumericAspectRatioFromString:aa},views:{fileActionButton:va}});qd(t.options)},Wm=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",Qm=()=>"Promise"in window,Zm=()=>"slice"in Blob.prototype,Km=()=>"URL"in window&&"createObjectURL"in window.URL,Jm=()=>"visibilityState"in document,ev=()=>"performance"in window,tv=()=>"supports"in(window.CSS||{}),nv=()=>/MSIE|Trident/.test(window.navigator.userAgent),ns=(()=>{const e=Ko()&&!Wm()&&Jm()&&Qm()&&Zm()&&Km()&&ev()&&(tv()||nv());return()=>e})(),ft={apps:[]},rv="filepond",xt=()=>{};let Yn={},xn=xt,Pr=xt,eo=xt,to=xt,rs=xt,no=xt,ro=xt;if(ns()){Sd(()=>{ft.apps.forEach(n=>n._read())},n=>{ft.apps.forEach(r=>r._write(n))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:ns,create:xn,destroy:Pr,parse:eo,find:to,registerPlugin:rs,setOptions:ro}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>le($n(),(n,r)=>{Yn[n]=r[1]});Yn={},t(),xn=(...n)=>{const r=Vm(...n);return r.on("destroy",Pr),ft.apps.push(r),Ki(r)},Pr=n=>{const r=ft.apps.findIndex(s=>s.isAttachedTo(n));return r>=0?(ft.apps.splice(r,1)[0].restoreElement(),!0):!1},eo=n=>Array.from(n.querySelectorAll(`.${rv}`)).filter(i=>!ft.apps.find(o=>o.isAttachedTo(i))).map(i=>xn(i)),to=n=>{const r=ft.apps.find(s=>s.isAttachedTo(n));return r?Ki(r):null},rs=(...n)=>{n.forEach(jm),t()},no=()=>{const n={};return le($n(),(r,s)=>{n[r]=s[0]}),n},ro=n=>(Ie(n)&&(ft.apps.forEach(r=>{r.setOptions(n)}),Xd(n)),no())}/*!
 * vue-filepond v7.0.4
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2023 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const sv=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],iv=ns(),ov=e=>({string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object})[e],Ln={},wr=[],Mr=[];let av={};const lv=(...e)=>{rs(...e),wr.length=0;for(const t in Yn){if(/^on/.test(t)){wr.push(t);continue}let n=[String,ov(Yn[t])];t=="labelFileProcessingError"&&n.push(Function),Ln[t]={type:n,default:void 0}}return{name:"FilePond",props:Ln,render(){const t=Object.entries({id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}).reduce((n,[r,s])=>(s!==void 0&&(n[r]=s),n),{});return vt("div",{class:{"filepond--wrapper":!0}},[vt("input",t)])},created(){this.watchers=Object.keys(Ln).map(t=>this.$watch(t,n=>{this._pond&&(this._pond[t]=n)}))},mounted(){if(!iv)return;this._element=this.$el.querySelector("input");const t=wr.reduce((r,s)=>(r[s]=(...i)=>{this.$emit("input",this._pond?this._pond.getFiles():[]),this.$emit(s.substr(2),...i)},r),{}),n={};Object.keys(Ln).forEach(r=>{this[r]!==void 0&&(n[r]=this[r])}),this._pond=xn(this._element,Object.assign({},av,t,n)),Object.keys(this._pond).filter(r=>!sv.includes(r)).forEach(r=>{this[r]=this._pond[r]}),Mr.push(this._pond)},beforeUnmount(){const{detached:t}=this.$options;if(!this.$el.offsetParent){t.call(this);return}const n=(s,i)=>{const a=((s[0]||{}).removedNodes||[])[0];!a||!a.contains(this.$el)||(i.disconnect(),t.call(this))};new MutationObserver(n).observe(document.documentElement,{childList:!0,subtree:!0})},detached(){if(this.watchers.forEach(n=>n()),!this._pond)return;this._pond.destroy();const t=Mr.indexOf(this._pond);t>=0&&Mr.splice(t,1),this._pond=null}}},uv='<svg class="mb-3" height="77" role="img" viewBox="0 0 97.6 77.3" width="96"><path d="M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z" fill="currentColor"></path><path d="M84.7 18.4 58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z" fill="currentColor"></path><path d="M78.2 41.6 61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z" fill="currentColor"></path></svg>Drag photos and videos here<br /><div class="v-btn bg-primary mt-5 px-3 py-2 filepond--label-action">Select from computer</div>',Ba=q({__name:"InstagramMediaDropzone",emits:["add"],setup(e,{emit:t}){const n=os(),r=lv(),s=H(()=>n.user),i=t,o=K([]);function a(l){i("add",l.source),s.value.media.addMedia({file:l.source},"posts","unshift"),s.value.save()}return(l,u)=>(w(),F(j(r),{name:"test",class:"ig-dropzone","drop-on-element":!1,"drop-on-page":!0,"allow-multiple":"","label-idle":uv,credits:"","accepted-file-types":"image/jpeg, image/jpg, image/png, image/mp4",files:j(o),onInitfile:a},{default:N(()=>[I(pt,{class:"d-none"})]),_:1},8,["files"]))}}),cv=q({__name:"InstagramMediaContextMenuRemove",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t;async function s(){await n.media.remove(),r("close")}return(i,o)=>(w(),F(Se,{onClick:s,class:"text-red"},{default:N(()=>[I(He,null,{default:N(()=>[ie("Remove")]),_:1})]),_:1}))}}),dv=q({__name:"InstagramMediaContextMenuConvertToIframe",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function r(){const s=window.prompt("URL of the iframe","https://");s&&(n.media.convertToIframe(s),n.media.user.save())}return(s,i)=>(w(),F(Se,{onClick:r},{default:N(()=>[I(He,null,{default:N(()=>[ie("Convert to iframe")]),_:1})]),_:1}))}}),fv=q({__name:"InstagramMediaContextMenuConvertToAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function r(){n.media.convertToAlbum(),n.media.user.save()}return(s,i)=>(w(),F(Se,{onClick:r},{default:N(()=>[I(He,null,{default:N(()=>[ie("Convert to album")]),_:1})]),_:1}))}}),pv=q({__name:"InstagramMediaContextMenuReplaceMedia",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{open:s,onChange:i}=gn({accept:"image/*",multiple:!1});return i(o=>{if(!o)return;const a=o[0];n.media.setMediaImage(a),n.media.refresh(),n.media.save(),r("close")}),(o,a)=>(w(),F(Se,{onClick:j(s)},{default:N(()=>[I(He,null,{default:N(()=>[ie("Replace media")]),_:1})]),_:1},8,["onClick"]))}}),mv=q({__name:"InstagramMediaContextMenuRemoveCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t;function s(){n.media.removeCover(),n.media.refresh(),n.media.save(),r("close")}return(i,o)=>(w(),F(Se,{onClick:s},{default:N(()=>[I(He,null,{default:N(()=>[ie("Remove cover")]),_:1})]),_:1}))}}),vv=q({__name:"InstagramMediaContextMenuReplaceCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{files:s,open:i,reset:o,onChange:a}=gn({accept:"image/*",multiple:!1});return a(l=>{if(!l)return;const u=l[0];n.media.setCover(u),n.media.refresh(),n.media.save(),r("close")}),(l,u)=>(w(),F(Se,{onClick:j(i)},{default:N(()=>[I(He,null,{default:N(()=>[ie("Replace cover")]),_:1})]),_:1},8,["onClick"]))}}),_v=q({__name:"InstagramMediaContextMenuAddCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{open:s,onChange:i}=gn({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return i(o=>{if(!o)return;const a=o[0];n.media.setCover(a),n.media.save(),r("close")}),(o,a)=>(w(),F(Se,{onClick:j(s)},{default:N(()=>[I(He,null,{default:N(()=>[ie("Add cover")]),_:1})]),_:1},8,["onClick"]))}}),gv=q({__name:"InstagramMediaContextMenuRemoveFromAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t;function s(){n.media.removeFromAlbum(),r("close")}return(i,o)=>(w(),F(Se,{onClick:s},{default:N(()=>[I(He,null,{default:N(()=>[ie("Remove from album")]),_:1})]),_:1}))}}),hv=q({__name:"InstagramMediaContextMenuAddToAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{files:s,open:i,reset:o,onChange:a}=gn({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return a(l=>{if(!l)return;const u=l[0];n.media.addToAlbum(u),r("close")}),(l,u)=>(w(),F(Se,{onClick:j(i)},{default:N(()=>[I(He,null,{default:N(()=>[ie("Add to album")]),_:1})]),_:1},8,["onClick"]))}}),Ev=q({__name:"InstagramMediaContextMenuGroup",props:{title:{}},setup(e){return(t,n)=>(w(),F(Se,{class:"px-0 mt-1"},{default:N(()=>[I(He,{class:"text-overline px-4",textContent:st(t.title)},null,8,["textContent"]),I(on,{density:"compact",class:"ma-0 pa-0"},{default:N(()=>[as(t.$slots,"default",{},void 0,!0)]),_:3})]),_:3}))}}),Iv=ne(Ev,[["__scopeId","data-v-2ab222ad"]]),Tv=q({__name:"InstagramMediaContextMenuCloneToReel",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function r(){n.media.cloneToReel(),n.media.user.save()}return(s,i)=>(w(),F(Se,{onClick:r},{default:N(()=>[I(He,null,{default:N(()=>[ie("Clone to reel")]),_:1})]),_:1}))}}),yv=q({__name:"InstagramMediaContextMenu",props:{media:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=t;function r(){n("update:modelValue",!1)}return(s,i)=>{const o=Tv,a=Iv,l=hv,u=gv,c=_v,f=vv,d=mv,m=pv,p=fv,v=dv,g=cv;return w(),F(Ol,{"content-class":"ig-media__context-menu",transition:"slide-y-transition",attach:"","close-on-content-click":!1,onClick:i[0]||(i[0]=lo(()=>{},["stop"]))},{default:N(()=>[I(on,{density:"compact",class:"ma-3 py-2"},{default:N(()=>[["video","iframe"].includes(s.media.type)&&!s.media.isReel?(w(),F(a,{key:0,title:"Reel"},{default:N(()=>[["video","iframe"].includes(s.media.type)&&!s.media.isReel?(w(),F(o,{key:0,media:s.media,onClose:r},null,8,["media"])):Z("",!0)]),_:1})):Z("",!0),["album"].includes(s.media.type)?(w(),F(a,{key:1,title:"Album"},{default:N(()=>[I(l,{media:s.media,onClose:r},null,8,["media"]),s.media.list.length>1?(w(),F(u,{key:0,media:s.media,onClose:r},null,8,["media"])):Z("",!0)]),_:1})):Z("",!0),["video","iframe"].includes(s.media.type)?(w(),F(a,{key:2,title:"Cover"},{default:N(()=>[s.media.cover?Z("",!0):(w(),F(c,{key:0,media:s.media,onClose:r},null,8,["media"])),s.media.cover?(w(),F(f,{key:1,media:s.media,onClose:r},null,8,["media"])):Z("",!0),s.media.cover?(w(),F(d,{key:2,media:s.media,onClose:r},null,8,["media"])):Z("",!0)]),_:1})):Z("",!0),["image","video"].includes(s.media.type)?(w(),F(a,{key:3,title:"Media"},{default:N(()=>[I(m,{media:s.media,onClose:r},null,8,["media"]),s.media.isReel?Z("",!0):(w(),F(p,{key:0,media:s.media,onClose:r},null,8,["media"])),s.media.type==="image"?(w(),F(v,{key:1,media:s.media,onClose:r},null,8,["media"])):Z("",!0)]),_:1})):Z("",!0),I(yo,{class:"my-2"}),I(g,{media:s.media,onClose:r},null,8,["media"])]),_:1})]),_:1})}}}),Sv={class:"ig-media__icon"},Rv=q({__name:"InstagramMediaContainer",props:{media:{},type:{},contextMenu:{type:Boolean}},setup(e){const t=K(!1);function n(r){r.preventDefault(),t.value=!t.value}return(r,s)=>{const i=yv;return w(),ee("div",{class:Wt(["ig-media",`ig-media--${r.type}`]),onContextmenu:n},[(w(),F(Ht,null,{default:N(()=>[as(r.$slots,"default",{},void 0,!0)]),_:3})),J("div",Sv,[r.type==="album"?(w(),F(ht,{key:0},{default:N(()=>[ie("mdi-folder-multiple-image")]),_:1})):Z("",!0),r.type==="video"?(w(),F(ht,{key:1},{default:N(()=>[ie("mdi-play")]),_:1})):Z("",!0)]),r.contextMenu?(w(),F(i,{key:0,modelValue:j(t),"onUpdate:modelValue":s[0]||(s[0]=o=>fn(t)?t.value=o:null),media:r.media},null,8,["modelValue","media"])):Z("",!0)],34)}}}),lr=ne(Rv,[["__scopeId","data-v-3edf0799"]]),$s=q({__name:"InstagramMediaImage",props:{media:{}},async setup(e){let t,n;const r=e,s=([t,n]=ls(()=>uo(r.media)),t=await t,n(),t);return(i,o)=>{const a=lr;return w(),F(a,{type:"image",media:i.media},{default:N(()=>[I(So,{cover:"",height:"100%",src:j(s)},null,8,["src"])]),_:1},8,["media"])}}}),bv=["src"],Ov=q({__name:"InstagramMediaIframe",props:{media:{},reel:{type:Boolean}},setup(e){const n=K(typeof e.media.cover!="object");return(r,s)=>{const i=$s,o=lr;return w(),F(o,{type:j(n)?"iframe":"video",media:r.media,class:Wt({"ig-media--reel":r.reel})},{default:N(()=>[j(n)?(w(),ee("iframe",{key:1,src:r.media.href},null,8,bv)):(w(),F(i,{key:0,media:r.media.cover,onClick:s[0]||(s[0]=a=>n.value=!0)},null,8,["media"]))]),_:1},8,["type","media","class"])}}}),Fa=ne(Ov,[["__scopeId","data-v-ca6aed98"]]),Us=Symbol.for("vuetify:v-slider");function Cv(e,t,n){const r=n==="vertical",s=t.getBoundingClientRect(),i="touches"in e?e.touches[0]:e;return r?i.clientY-(s.top+s.height/2):i.clientX-(s.left+s.width/2)}function Dv(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const Pv=at({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Xn(),...jn({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),wv=e=>{const t=H(()=>parseFloat(e.min)),n=H(()=>parseFloat(e.max)),r=H(()=>+e.step>0?parseFloat(e.step):0),s=H(()=>Math.max(Js(r.value),Js(t.value)));function i(o){if(o=parseFloat(o),r.value<=0)return o;const a=co(o,t.value,n.value),l=t.value%r.value,u=Math.round((a-l)/r.value)*r.value+l;return parseFloat(Math.min(u,n.value).toFixed(s.value))}return{min:t,max:n,step:r,decimals:s,roundValue:i}},Mv=e=>{let{props:t,steps:n,onSliderStart:r,onSliderMove:s,onSliderEnd:i,getActiveThumb:o}=e;const{isRtl:a}=Hn(),l=Ee(t,"reverse"),u=H(()=>t.direction==="vertical"),c=H(()=>u.value!==l.value),{min:f,max:d,step:m,decimals:p,roundValue:v}=n,g=H(()=>parseInt(t.thumbSize,10)),_=H(()=>parseInt(t.tickSize,10)),E=H(()=>parseInt(t.trackSize,10)),T=H(()=>(d.value-f.value)/m.value),D=Ee(t,"disabled"),y=H(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),S=H(()=>t.error||t.disabled?void 0:t.trackColor??t.color),b=H(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),h=_t(!1),O=_t(0),k=K(),A=K();function C(x){var se;const W=t.direction==="vertical",$=W?"top":"left",re=W?"height":"width",ae=W?"clientY":"clientX",{[$]:Ne,[re]:Ke}=(se=k.value)==null?void 0:se.$el.getBoundingClientRect(),kt=Dv(x,ae);let Y=Math.min(Math.max((kt-Ne-O.value)/Ke,0),1)||0;return(W?c.value:c.value!==a.value)&&(Y=1-Y),v(f.value+Y*(d.value-f.value))}const U=x=>{i({value:C(x)}),h.value=!1,O.value=0},M=x=>{A.value=o(x),A.value&&(A.value.focus(),h.value=!0,A.value.contains(x.target)?O.value=Cv(x,A.value,t.direction):(O.value=0,s({value:C(x)})),r({value:C(x)}))},z={passive:!0,capture:!0};function R(x){s({value:C(x)})}function L(x){x.stopPropagation(),x.preventDefault(),U(x),window.removeEventListener("mousemove",R,z),window.removeEventListener("mouseup",L)}function G(x){var W;U(x),window.removeEventListener("touchmove",R,z),(W=x.target)==null||W.removeEventListener("touchend",G)}function B(x){var W;M(x),window.addEventListener("touchmove",R,z),(W=x.target)==null||W.addEventListener("touchend",G,{passive:!1})}function V(x){x.preventDefault(),M(x),window.addEventListener("mousemove",R,z),window.addEventListener("mouseup",L,{passive:!1})}const Q=x=>{const W=(x-f.value)/(d.value-f.value)*100;return co(isNaN(W)?0:W,0,100)},oe=Ee(t,"showTicks"),_e=H(()=>oe.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(x=>({value:x,position:Q(x),label:x.toString()})):Object.keys(t.ticks).map(x=>({value:parseFloat(x),position:Q(parseFloat(x)),label:t.ticks[x]})):T.value!==1/0?sl(T.value+1).map(x=>{const W=f.value+x*m.value;return{value:W,position:Q(W)}}):[]:[]),te=H(()=>_e.value.some(x=>{let{label:W}=x;return!!W})),Ce={activeThumbRef:A,color:Ee(t,"color"),decimals:p,disabled:D,direction:Ee(t,"direction"),elevation:Ee(t,"elevation"),hasLabels:te,isReversed:l,indexFromEnd:c,min:f,max:d,mousePressed:h,numTicks:T,onSliderMousedown:V,onSliderTouchstart:B,parsedTicks:_e,parseMouseMove:C,position:Q,readonly:Ee(t,"readonly"),rounded:Ee(t,"rounded"),roundValue:v,showTicks:oe,startOffset:O,step:m,thumbSize:g,thumbColor:y,thumbLabel:Ee(t,"thumbLabel"),ticks:Ee(t,"ticks"),tickSize:_,trackColor:S,trackContainerRef:k,trackFillColor:b,trackSize:E,vertical:u};return je(Us,Ce),Ce},Av=at({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...At()},"VSliderThumb"),Lv=Et()({name:"VSliderThumb",directives:{Ripple:Cl},props:Av(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=nt(Us),{isRtl:i,rtlClasses:o}=Hn();if(!s)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:l,disabled:u,thumbSize:c,thumbLabel:f,direction:d,isReversed:m,vertical:p,readonly:v,elevation:g,mousePressed:_,decimals:E,indexFromEnd:T}=s,{textColorClasses:D,textColorStyles:y}=Dl(a),{pageup:S,pagedown:b,end:h,home:O,left:k,right:A,down:C,up:U}=al,M=[S,b,h,O,k,A,C,U],z=H(()=>l.value?[1,2,3]:[1,5,10]);function R(G,B){if(!M.includes(G.key))return;G.preventDefault();const V=l.value||.1,Q=(e.max-e.min)/V;if([k,A,C,U].includes(G.key)){const _e=(p.value?[i.value?k:A,m.value?C:U]:T.value!==i.value?[k,U]:[A,U]).includes(G.key)?1:-1,te=G.shiftKey?2:G.ctrlKey?1:0;B=B+_e*V*z.value[te]}else if(G.key===O)B=e.min;else if(G.key===h)B=e.max;else{const oe=G.key===b?1:-1;B=B-oe*V*(Q>100?Q/10:10)}return Math.max(e.min,Math.min(e.max,B))}function L(G){const B=R(G,e.modelValue);B!=null&&r("update:modelValue",B)}return It(()=>{const G=We(T.value?100-e.position:e.position,"%"),{elevationClasses:B}=Wn(H(()=>u.value?void 0:g.value));return I("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&_.value},e.class,o.value],style:[{"--v-slider-thumb-position":G,"--v-slider-thumb-size":We(c.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!v.value,"aria-orientation":d.value,onKeydown:v.value?void 0:L},[I("div",{class:["v-slider-thumb__surface",D.value,B.value],style:{...y.value}},null),ei(I("div",{class:["v-slider-thumb__ripple",D.value],style:y.value},null),[[il("ripple"),e.ripple,null,{circle:!0,center:!0}]]),I(Pl,{origin:"bottom center"},{default:()=>{var V;return[ei(I("div",{class:"v-slider-thumb__label-container"},[I("div",{class:["v-slider-thumb__label"]},[I("div",null,[((V=n["thumb-label"])==null?void 0:V.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?E.value:1)])])]),[[ol,f.value&&e.focused||f.value==="always"]])]}})])}),{}}}),Nv=at({start:{type:Number,required:!0},stop:{type:Number,required:!0},...At()},"VSliderTrack"),xv=Et()({name:"VSliderTrack",props:Nv(),emits:{},setup(e,t){let{slots:n}=t;const r=nt(Us);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:s,parsedTicks:i,rounded:o,showTicks:a,tickSize:l,trackColor:u,trackFillColor:c,trackSize:f,vertical:d,min:m,max:p,indexFromEnd:v}=r,{roundedClasses:g}=Qn(o),{backgroundColorClasses:_,backgroundColorStyles:E}=qt(c),{backgroundColorClasses:T,backgroundColorStyles:D}=qt(u),y=H(()=>`inset-${d.value?"block":"inline"}-${v.value?"end":"start"}`),S=H(()=>d.value?"height":"width"),b=H(()=>({[y.value]:"0%",[S.value]:"100%"})),h=H(()=>e.stop-e.start),O=H(()=>({[y.value]:We(e.start,"%"),[S.value]:We(h.value,"%")})),k=H(()=>a.value?(d.value?i.value.slice().reverse():i.value).map((C,U)=>{var z;const M=C.value!==m.value&&C.value!==p.value?We(C.position,"%"):void 0;return I("div",{key:C.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":C.position>=e.start&&C.position<=e.stop,"v-slider-track__tick--first":C.value===m.value,"v-slider-track__tick--last":C.value===p.value}],style:{[y.value]:M}},[(C.label||n["tick-label"])&&I("div",{class:"v-slider-track__tick-label"},[((z=n["tick-label"])==null?void 0:z.call(n,{tick:C,index:U}))??C.label])])}):[]);return It(()=>I("div",{class:["v-slider-track",g.value,e.class],style:[{"--v-slider-track-size":We(f.value),"--v-slider-tick-size":We(l.value)},e.style]},[I("div",{class:["v-slider-track__background",T.value,{"v-slider-track__background--opacity":!!s.value||!c.value}],style:{...b.value,...D.value}},null),I("div",{class:["v-slider-track__fill",_.value],style:{...O.value,...E.value}},null),a.value&&I("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[k.value])])),{}}}),kv=at({...wl(),...Pv(),...Ml(),modelValue:{type:[Number,String],default:0}},"VSlider"),Gv=Et()({name:"VSlider",props:kv(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=K(),{rtlClasses:i}=Hn(),o=wv(e),a=fo(e,"modelValue",void 0,S=>o.roundValue(S??o.min.value)),{min:l,max:u,mousePressed:c,roundValue:f,onSliderMousedown:d,onSliderTouchstart:m,trackContainerRef:p,position:v,hasLabels:g,readonly:_}=Mv({props:e,steps:o,onSliderStart:()=>{r("start",a.value)},onSliderEnd:S=>{let{value:b}=S;const h=f(b);a.value=h,r("end",h)},onSliderMove:S=>{let{value:b}=S;return a.value=f(b)},getActiveThumb:()=>{var S;return(S=s.value)==null?void 0:S.$el}}),{isFocused:E,focus:T,blur:D}=Al(e),y=H(()=>v(a.value));return It(()=>{const S=ni.filterProps(e),b=!!(e.label||n.label||n.prepend);return I(ni,Ar({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||g.value,"v-slider--focused":E.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},i.value,e.class],style:e.style},S,{focused:E.value}),{...n,prepend:b?h=>{var O,k;return I(Le,null,[((O=n.label)==null?void 0:O.call(n,h))??(e.label?I(Ll,{id:h.id.value,class:"v-slider__label",text:e.label},null):void 0),(k=n.prepend)==null?void 0:k.call(n,h)])}:void 0,default:h=>{let{id:O,messagesId:k}=h;return I("div",{class:"v-slider__container",onMousedown:_.value?void 0:d,onTouchstartPassive:_.value?void 0:m},[I("input",{id:O.value,name:e.name||O.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:a.value},null),I(xv,{ref:p,start:0,stop:y.value},{"tick-label":n["tick-label"]}),I(Lv,{ref:s,"aria-describedby":k.value,focused:E.value,min:l.value,max:u.value,modelValue:a.value,"onUpdate:modelValue":A=>a.value=A,position:y.value,elevation:e.elevation,onFocus:T,onBlur:D,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Bv=q({__name:"InstagramMediaVideoCoverSelector",props:{media:{},maxLength:{}},emits:["updateCoverTime"],setup(e,{emit:t}){const n=t,r=e,s=K(typeof r.media.coverTime=="number"?r.media.coverTime:0);function i(){n("updateCoverTime",s.value)}return(o,a)=>r.maxLength>0?(w(),F(Gv,{key:0,modelValue:j(s),"onUpdate:modelValue":a[0]||(a[0]=l=>fn(s)?s.value=l:null),color:"white",max:o.maxLength,class:"ig-media--video-slider",onEnd:i,"thumb-label":"always"},null,8,["modelValue","max"])):Z("",!0)}}),Fv=ne(Bv,[["__scopeId","data-v-d5e9341f"]]),$v=["src","autoplay"],Uv=q({__name:"InstagramMediaVideo",props:{media:{},coverSelector:{type:Boolean},playable:{type:Boolean},reel:{type:Boolean}},async setup(e){let t,n;const r=e,s=K(!1),i=([t,n]=ls(()=>uo(r.media)),t=await t,n(),t),o=K(null),a=K(0);function l(u){o.value&&(o.value.currentTime=u,r.media.setCoverTime(u),r.media.save())}return _n(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof r.media.cover=="object"||r.media.cover||(o.value.currentTime=r.media.coverTime,a.value=o.value.duration)},!1)}),Ae(()=>s.value,u=>{if(!o.value||!r.playable)return!1;u?o.value.play():o.value.pause()}),(u,c)=>{const f=Fv,d=$s,m=lr;return w(),F(m,{type:"video",media:u.media,class:Wt({"ig-media--reel":u.reel})},{default:N(()=>[!u.media.cover||u.media.coverTime?(w(),ee(Le,{key:0},[J("video",{ref_key:"videoRef",ref:o,src:j(i),autoplay:j(s),onClick:c[0]||(c[0]=p=>s.value=!j(s))},null,8,$v),u.coverSelector?(w(),F(f,{key:0,media:u.media,"max-length":j(a),onUpdateCoverTime:l},null,8,["media","max-length"])):Z("",!0)],64)):typeof u.media.cover=="object"?(w(),F(d,{key:1,media:u.media.cover,onClick:c[1]||(c[1]=p=>s.value=!0)},null,8,["media"])):Z("",!0)]),_:1},8,["media","class"])}}}),$a=ne(Uv,[["__scopeId","data-v-da9bc1bf"]]),Vv=q({__name:"InstagramMediaReel",props:{media:{},contextMenu:{type:Boolean}},setup(e){return(t,n)=>{const r=$a,s=Fa;return w(),ee(Le,null,[(w(),F(Ht,null,{default:N(()=>[t.media.type==="video"?(w(),F(r,{key:0,media:t.media,"context-menu":t.contextMenu,"cover-selector":"",reel:""},null,8,["media","context-menu"])):Z("",!0)]),_:1})),t.media.type==="iframe"?(w(),F(s,{key:0,media:t.media,reel:""},null,8,["media"])):Z("",!0)],64)}}}),Yv=q({__name:"InstagramMediaAlbumCurrentIndex",props:{index:{},max:{}},setup(e){return(t,n)=>(w(),F(Nl,{class:"ig-media__badge-index",color:"transparent",content:`${t.index} / ${t.max}`},null,8,["content"]))}}),zv=ne(Yv,[["__scopeId","data-v-87d5ead7"]]);/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const ye={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},so={itemsToShow:{default:ye.itemsToShow,type:Number},itemsToScroll:{default:ye.itemsToScroll,type:Number},wrapAround:{default:ye.wrapAround,type:Boolean},throttle:{default:ye.throttle,type:Number},snapAlign:{default:ye.snapAlign,validator(e){return["start","end","center","center-even","center-odd"].includes(e)}},transition:{default:ye.transition,type:Number},breakpoints:{default:ye.breakpoints,type:Object},autoplay:{default:ye.autoplay,type:Number},pauseAutoplayOnHover:{default:ye.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:ye.mouseDrag,type:Boolean},touchDrag:{default:ye.touchDrag,type:Boolean},dir:{default:ye.dir,validator(e){return["rtl","ltr"].includes(e)}},i18n:{default:ye.i18n,type:Object},settings:{default(){return{}},type:Object}};function Hv({config:e,slidesCount:t}){const{snapAlign:n,wrapAround:r,itemsToShow:s=1}=e;if(r)return Math.max(t-1,0);let i;switch(n){case"start":i=t-s;break;case"end":i=t-1;break;case"center":case"center-odd":i=t-Math.ceil((s-.5)/2);break;case"center-even":i=t-Math.ceil(s/2);break;default:i=0;break}return Math.max(i,0)}function qv({config:e,slidesCount:t}){const{wrapAround:n,snapAlign:r,itemsToShow:s=1}=e;let i=0;if(n||s>t)return i;switch(r){case"start":i=0;break;case"end":i=s-1;break;case"center":case"center-odd":i=Math.floor((s-1)/2);break;case"center-even":i=Math.floor((s-2)/2);break;default:i=0;break}return i}function ss({val:e,max:t,min:n}){return t<n?e:Math.min(Math.max(e,n),t)}function Xv({config:e,currentSlide:t,slidesCount:n}){const{snapAlign:r,wrapAround:s,itemsToShow:i=1}=e;let o=t;switch(r){case"center":case"center-odd":o-=(i-1)/2;break;case"center-even":o-=(i-2)/2;break;case"end":o-=i-1;break}return s?o:ss({val:o,max:n-i,min:0})}function Ua(e){return e?e.reduce((t,n)=>{var r;return n.type===Le?[...t,...Ua(n.children)]:((r=n.type)===null||r===void 0?void 0:r.name)==="CarouselSlide"?[...t,n]:t},[]):[]}function is({val:e,max:t,min:n=0}){return e>t?is({val:e-(t+1),max:t,min:n}):e<n?is({val:e+(t+1),max:t,min:n}):e}function jv(e,t){let n;return t?function(...r){const s=this;n||(e.apply(s,r),n=!0,setTimeout(()=>n=!1,t))}:e}function Wv(e,t){let n;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>{e(...r),n=null},t)}}function Qv(e="",t={}){return Object.entries(t).reduce((n,[r,s])=>n.replace(`{${r}}`,String(s)),e)}var Zv=q({name:"ARIA",setup(){const e=nt("config",sn(Object.assign({},ye))),t=nt("currentSlide",K(0)),n=nt("slidesCount",K(0));return()=>vt("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},Qv(e.i18n.itemXofY,{currentSlide:t.value+1,slidesCount:n.value}))}}),Kv=q({name:"Carousel",props:so,setup(e,{slots:t,emit:n,expose:r}){var s;const i=K(null),o=K([]),a=K(0),l=K(0),u=sn(Object.assign({},ye));let c=Object.assign({},ye),f;const d=K((s=e.modelValue)!==null&&s!==void 0?s:0),m=K(0),p=K(0),v=K(0),g=K(0);let _,E;je("config",u),je("slidesCount",l),je("currentSlide",d),je("maxSlide",v),je("minSlide",g),je("slideWidth",a);function T(){f=Object.assign({},e.breakpoints),c=Object.assign(Object.assign(Object.assign({},c),e),{i18n:Object.assign(Object.assign({},c.i18n),e.i18n),breakpoints:void 0}),y(c)}function D(){if(!f||!Object.keys(f).length)return;const Y=Object.keys(f).map(ue=>Number(ue)).sort((ue,$e)=>+$e-+ue);let se=Object.assign({},c);Y.some(ue=>{const $e=window.matchMedia(`(min-width: ${ue}px)`).matches;return $e&&(se=Object.assign(Object.assign({},se),f[ue])),$e}),y(se)}function y(Y){Object.entries(Y).forEach(([se,ue])=>u[se]=ue)}const S=Wv(()=>{D(),b()},16);function b(){if(!i.value)return;const Y=i.value.getBoundingClientRect();a.value=Y.width/u.itemsToShow}function h(){l.value<=0||(p.value=Math.ceil((l.value-1)/2),v.value=Hv({config:u,slidesCount:l.value}),g.value=qv({config:u,slidesCount:l.value}),u.wrapAround||(d.value=ss({val:d.value,max:v.value,min:g.value})))}_n(()=>{po(()=>b()),setTimeout(()=>b(),1e3),D(),V(),window.addEventListener("resize",S,{passive:!0}),n("init")}),ll(()=>{E&&clearTimeout(E),_&&clearInterval(_),window.removeEventListener("resize",S,{passive:!0})});let O=!1;const k={x:0,y:0},A={x:0,y:0},C=sn({x:0,y:0}),U=K(!1),M=K(!1),z=()=>{U.value=!0},R=()=>{U.value=!1};function L(Y){["INPUT","TEXTAREA","SELECT"].includes(Y.target.tagName)||(O=Y.type==="touchstart",O||Y.preventDefault(),!(!O&&Y.button!==0||oe.value)&&(k.x=O?Y.touches[0].clientX:Y.clientX,k.y=O?Y.touches[0].clientY:Y.clientY,document.addEventListener(O?"touchmove":"mousemove",G,!0),document.addEventListener(O?"touchend":"mouseup",B,!0)))}const G=jv(Y=>{M.value=!0,A.x=O?Y.touches[0].clientX:Y.clientX,A.y=O?Y.touches[0].clientY:Y.clientY;const se=A.x-k.x,ue=A.y-k.y;C.y=ue,C.x=se},u.throttle);function B(){const Y=u.dir==="rtl"?-1:1,se=Math.sign(C.x)*.4,ue=Math.round(C.x/a.value+se)*Y;if(ue&&!O){const $e=fe=>{fe.stopPropagation(),window.removeEventListener("click",$e,!0)};window.addEventListener("click",$e,!0)}_e(d.value-ue),C.x=0,C.y=0,M.value=!1,document.removeEventListener(O?"touchmove":"mousemove",G,!0),document.removeEventListener(O?"touchend":"mouseup",B,!0)}function V(){!u.autoplay||u.autoplay<=0||(_=setInterval(()=>{u.pauseAutoplayOnHover&&U.value||te()},u.autoplay))}function Q(){_&&(clearInterval(_),_=null),V()}const oe=K(!1);function _e(Y){const se=u.wrapAround?Y:ss({val:Y,max:v.value,min:g.value});d.value===se||oe.value||(n("slide-start",{slidingToIndex:Y,currentSlideIndex:d.value,prevSlideIndex:m.value,slidesCount:l.value}),oe.value=!0,m.value=d.value,d.value=se,E=setTimeout(()=>{if(u.wrapAround){const ue=is({val:se,max:v.value,min:0});ue!==d.value&&(d.value=ue,n("loop",{currentSlideIndex:d.value,slidingToIndex:Y}))}n("update:modelValue",d.value),n("slide-end",{currentSlideIndex:d.value,prevSlideIndex:m.value,slidesCount:l.value}),oe.value=!1,Q()},u.transition))}function te(){_e(d.value+u.itemsToScroll)}function Ce(){_e(d.value-u.itemsToScroll)}const x={slideTo:_e,next:te,prev:Ce};je("nav",x),je("isSliding",oe);const W=H(()=>Xv({config:u,currentSlide:d.value,slidesCount:l.value}));je("slidesToScroll",W);const $=H(()=>{const Y=u.dir==="rtl"?-1:1,se=W.value*a.value*Y;return{transform:`translateX(${C.x-se}px)`,transition:`${oe.value?u.transition:0}ms`,margin:u.wrapAround?`0 -${l.value*a.value}px`:"",width:"100%"}});function re(){T(),D(),h(),b(),Q()}Object.keys(so).forEach(Y=>{["modelValue"].includes(Y)||Ae(()=>e[Y],re)}),Ae(()=>e.modelValue,Y=>{Y!==d.value&&_e(Number(Y))}),Ae(l,h),n("before-init"),T();const ae={config:u,slidesCount:l,slideWidth:a,next:te,prev:Ce,slideTo:_e,currentSlide:d,maxSlide:v,minSlide:g,middleSlide:p};r({updateBreakpointsConfigs:D,updateSlidesData:h,updateSlideWidth:b,initDefaultConfigs:T,restartCarousel:re,slideTo:_e,next:te,prev:Ce,nav:x,data:ae});const Ne=t.default||t.slides,Ke=t.addons,kt=sn(ae);return()=>{const Y=Ua(Ne==null?void 0:Ne(kt)),se=(Ke==null?void 0:Ke(kt))||[];Y.forEach((lt,ut)=>lt.props.index=ut);let ue=Y;if(u.wrapAround){const lt=Y.map((Tt,yt)=>ti(Tt,{index:-Y.length+yt,isClone:!0,key:`clone-before-${yt}`})),ut=Y.map((Tt,yt)=>ti(Tt,{index:Y.length+yt,isClone:!0,key:`clone-after-${yt}`}));ue=[...lt,...Y,...ut]}o.value=Y,l.value=Math.max(Y.length,1);const $e=vt("ol",{class:"carousel__track",style:$.value,onMousedownCapture:u.mouseDrag?L:null,onTouchstartPassiveCapture:u.touchDrag?L:null},ue),fe=vt("div",{class:"carousel__viewport"},$e);return vt("section",{ref:i,class:{carousel:!0,"is-sliding":oe.value,"is-dragging":M.value,"is-hover":U.value,"carousel--rtl":u.dir==="rtl"},dir:u.dir,"aria-label":u.i18n.ariaGallery,tabindex:"0",onMouseenter:z,onMouseleave:R},[fe,se,vt(Zv)])}}}),io;(function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"})(io||(io={}));var Jv=q({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:t}){const n=nt("config",sn(Object.assign({},ye))),r=nt("currentSlide",K(0)),s=nt("slidesToScroll",K(0)),i=nt("isSliding",K(!1)),o=()=>e.index===r.value,a=()=>e.index===r.value-1,l=()=>e.index===r.value+1,u=()=>{const c=Math.floor(s.value),f=Math.ceil(s.value+n.itemsToShow-1);return e.index>=c&&e.index<=f};return()=>{var c;return vt("li",{style:{width:`${100/n.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":u(),"carousel__slide--active":o(),"carousel__slide--prev":a(),"carousel__slide--next":l(),"carousel__slide--sliding":i.value},"aria-hidden":!u()},(c=t.default)===null||c===void 0?void 0:c.call(t))}}});const e_=q({__name:"InstagramMediaAlbum",props:{media:{}},setup(e){const t=e;function n(){t.media.slideToNextListItem()}return(r,s)=>{const i=Va,o=zv,a=lr;return w(),F(a,{type:"album",media:r.media,onClick:n},{default:N(()=>[I(j(Kv),{modelValue:r.media.listIndex,"onUpdate:modelValue":s[0]||(s[0]=l=>r.media.listIndex=l)},{default:N(()=>[(w(!0),ee(Le,null,qn(r.media.list,(l,u)=>(w(),F(j(Jv),{key:u},{default:N(()=>[I(i,{"context-menu":!1,media:l},null,8,["media"])]),_:2},1024))),128))]),_:1},8,["modelValue"]),I(o,{index:r.media.currentIndex,max:r.media.itemsCount},null,8,["index","max"])]),_:1},8,["media"])}}}),t_=ne(e_,[["__scopeId","data-v-786b5a57"]]),Va=q({__name:"InstagramMediaPost",props:{media:{},contextMenu:{type:Boolean}},setup(e){return(t,n)=>{const r=$s,s=$a,i=t_,o=Fa;return w(),ee(Le,null,[(w(),F(Ht,null,{default:N(()=>[t.media.type==="image"?(w(),F(r,{key:0,"context-menu":t.contextMenu,media:t.media},null,8,["context-menu","media"])):Z("",!0)]),_:1})),(w(),F(Ht,null,{default:N(()=>[t.media.type==="video"?(w(),F(s,{key:0,"context-menu":t.contextMenu,media:t.media,"cover-selector":""},null,8,["context-menu","media"])):Z("",!0)]),_:1})),t.media.type==="album"?(w(),F(i,{key:0,"context-menu":t.contextMenu,media:t.media},null,8,["context-menu","media"])):Z("",!0),t.media.type==="iframe"?(w(),F(o,{key:1,"context-menu":t.contextMenu,media:t.media},null,8,["context-menu","media"])):Z("",!0)],64)}}}),n_=q({__name:"InstagramUserMediaGrid",props:{user:{},mode:{}},setup(e){const t=e,n=K(),r=K(!1);function s(){t.user.save()}function i(){r.value=!0}function o(){r.value=!1}return(a,l)=>{const u=Va,c=Vv,f=Ba;return w(),F(Ro,{class:"ig-profile-page__media-grid-container px-0"},{default:N(()=>[J("div",{class:Wt(["ig-profile-page__media-grid",{"ig-profile-page__media-grid--dragging":j(r)}]),ref_key:"gridListRef",ref:n},[t.user.media[t.mode].length>0?(w(),F(j(ul),{key:0,list:t.user.media[t.mode],"onUpdate:list":[l[0]||(l[0]=d=>t.user.media[t.mode]=d),s],axis:"xy",class:"v-row","use-drag-handle":"","press-delay":100,"press-threshold":100,onSortStart:i,onSortEnd:o},{default:N(()=>[(w(!0),ee(Le,null,qn(t.user.media[t.mode],(d,m)=>(w(),F(j(cl),{key:d.id,index:m,class:"ig-profile-page__media-grid__item v-col v-col-4"},{default:N(()=>[I(j(dl),{class:"ig-profile-page__media-grid__drag-handle"},{default:N(()=>[I(ht,{icon:"mdi-drag",color:"white"})]),_:1}),a.mode==="posts"?(w(),F(u,{key:0,media:d,"context-menu":""},null,8,["media"])):Z("",!0),a.mode==="reels"?(w(),F(c,{key:1,media:d,"context-menu":""},null,8,["media"])):Z("",!0)]),_:2},1032,["index"]))),128))]),_:1},8,["list"])):(w(),F(cs,{key:1,height:500},{default:N(()=>[I(f)]),_:1}))],2)]),_:1})}}}),r_={class:"ig-profile-page__tabs"},s_=["onClick"],i_=q({__name:"InstagramUserTabs",props:{media:{},active:{}},emits:["select"],setup(e,{emit:t}){const n=t,r=e,s=H(()=>{let i=[{name:"posts",label:"Posts",icon:"mdi-grid"}];return r.media.reels.length>0&&i.push({name:"reels",label:"Reels",icon:"mdi-play-box-multiple-outline"}),i});return(i,o)=>(w(),ee("div",r_,[(w(!0),ee(Le,null,qn(j(s),(a,l)=>(w(),ee("div",{key:l,class:Wt(["ig-profile-page__tabs__tab",{"ig-profile-page__tabs__tab--active":i.active===a.name}]),onClick:u=>n("select",a.name)},[I(ht,{size:"15"},{default:N(()=>[ie(st(a.icon),1)]),_:2},1024),ie(" "+st(a.label),1)],10,s_))),128))]))}}),o_=ne(i_,[["__scopeId","data-v-d8d7a937"]]),Vs=e=>(mo("data-v-06426ecb"),e=e(),vo(),e),a_=["textContent"],l_=Vs(()=>J("span",null,"posts",-1)),u_=["textContent"],c_=Vs(()=>J("span",null,"followers",-1)),d_=["textContent"],f_=Vs(()=>J("span",null,"following",-1)),p_=q({__name:"InstagramUserProfileStats",props:{user:{},mobile:{type:Boolean}},setup(e){return(t,n)=>(w(),ee("ul",{class:Wt(["ig-profile-page__header__stats",{"ig-profile-page__header__stats--mobile":t.mobile}])},[J("li",null,[J("b",{textContent:st(t.user.profile.posts_count)},null,8,a_),ie(),l_]),J("li",null,[J("b",{textContent:st(t.user.profile.followers_count)},null,8,u_),ie(),c_]),J("li",null,[J("b",{textContent:st(t.user.profile.follows_count)},null,8,d_),ie(),f_])],2))}}),Ya=ne(p_,[["__scopeId","data-v-06426ecb"]]),m_=["href"],v_=q({__name:"InstagramUserProfileWebsite",props:{user:{}},setup(e){return(t,n)=>t.user.profile.website?(w(),ee("a",{key:0,class:"ig-profile-page__header__website",href:t.user.profile.website.href,target:"_blank"},[I(ht,{icon:"mdi-link-variant",size:16}),ie(" "+st(t.user.profile.website.label),1)],8,m_)):Z("",!0)}}),__=ne(v_,[["__scopeId","data-v-b7140bd1"]]),g_=q({__name:"contenteditable",props:{tag:String,contenteditable:{type:[Boolean,String],default:!0},modelValue:String,noHtml:{type:Boolean,default:!0},noNl:{type:Boolean,default:!1}},emits:{returned:String,"update:modelValue":String},setup(e,{emit:t}){const n=e;function r(c,f,d){return c.split(f).join(d)}const s=K();function i(){return n.noHtml?s.value.innerText:s.value.innerHTML}function o(c){n.noHtml?s.value.innerText=c:s.value.innerHTML=c}function a(c){t("update:modelValue",i())}function l(c){c.preventDefault();let f=(c.originalEvent||c).clipboardData.getData("text/plain");n.noNl&&(f=r(f,`\r
`," "),f=r(f,`
`," "),f=r(f,"\r"," ")),window.document.execCommand("insertText",!1,f)}function u(c){c.key=="Enter"&&n.noNl&&(c.preventDefault(),t("returned",i()))}return _n(()=>{var c;o((c=n.modelValue)!=null?c:"")}),Ae(()=>n.modelValue,(c,f)=>{c!=i()&&o(c??"")}),Ae(()=>n.noHtml,(c,f)=>{var d;o((d=n.modelValue)!=null?d:"")}),Ae(()=>n.tag,(c,f)=>{var d;o((d=n.modelValue)!=null?d:"")},{flush:"post"}),(c,f)=>(w(),F(fl(e.tag),{contenteditable:e.contenteditable,onInput:a,onBlur:a,onPaste:l,onKeypress:u,ref_key:"element",ref:s},null,40,["contenteditable"]))}}),h_=q({__name:"InstagramUserProfileBiography",props:{biography:{}},emits:["update"],setup(e,{emit:t}){const n=e,r=t,s=K(n.biography??"");function i(){r("update",s.value)}return(o,a)=>(w(),F(j(g_),{tag:"p",class:"ig-profile-page__header__biography",contenteditable:"",spellcheck:"false",modelValue:j(s),"onUpdate:modelValue":a[0]||(a[0]=l=>fn(s)?s.value=l:null),"no-html":!0,onBlur:i,onKeydown:a[1]||(a[1]=lo(()=>{},["stop"]))},null,8,["modelValue"]))}}),E_=["textContent"],I_=q({__name:"InstagramUserProfileName",props:{user:{}},setup(e){return(t,n)=>t.user.profile.name?(w(),ee("p",{key:0,class:"ig-profile-page__header__name",textContent:st(t.user.profile.name)},null,8,E_)):Z("",!0)}}),T_=ne(I_,[["__scopeId","data-v-c506cfbf"]]),y_={class:"ig-profile-page__header__inner"},S_=q({__name:"InstagramUserProfileInner",props:{user:{}},setup(e){return(t,n)=>{const r=T_,s=h_,i=__;return w(),ee("div",y_,[I(r,{user:t.user},null,8,["user"]),I(s,{biography:t.user.profile.biography,onUpdate:n[0]||(n[0]=o=>t.user.profile.updateBiography(o))},null,8,["biography"]),I(i,{user:t.user},null,8,["user"])])}}}),za=ne(S_,[["__scopeId","data-v-ed409611"]]),R_=q({__name:"InstagramUserAvatar",props:{avatar:{},size:{default:"120px"}},async setup(e){let t,n;const r=e;let s,i=K(0);return r.avatar&&(s=URL.createObjectURL(([t,n]=ls(()=>r.avatar.file),t=await t,n(),t))),Ae(()=>r.avatar,async o=>{s=URL.createObjectURL(await r.avatar.file),i.value=+new Date},{deep:!0}),(o,a)=>(w(),F(xl,{size:o.size,class:"ig-profile-avatar"},{default:N(()=>[j(s)?(w(),F(So,{src:j(s),key:j(i)},null,8,["src"])):Z("",!0)]),_:1},8,["size"]))}}),Ys=ne(R_,[["__scopeId","data-v-6245ed17"]]),Ha=q({__name:"InstagramUserProfileAvatarEditor",props:{user:{},size:{default:"120px"}},setup(e){const t=e,{files:n,open:r,reset:s,onChange:i}=gn({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return i(async o=>{if(!o)return;const a=o[0];await t.user.profile.updateAvatar(a)}),(o,a)=>{const l=Ys;return w(),F(Ht,null,{default:N(()=>[I(l,{onDblclick:j(r),avatar:o.user.profile.avatar,size:o.size},null,8,["onDblclick","avatar","size"])]),_:1})}}}),b_={class:"ig-profile-page__header__username"},O_=["textContent"],C_=q({__name:"InstagramUserProfileUsername",props:{user:{}},setup(e){return(t,n)=>(w(),ee("div",b_,[J("span",{textContent:st(t.user.username)},null,8,O_),t.user.profile.verified?(w(),F(ht,{key:0,icon:"mdi-check-decagram"})):Z("",!0)]))}}),qa=ne(C_,[["__scopeId","data-v-00758832"]]),D_={class:"ig-profile-page__header"},P_={class:"ig-profile-page__header__top py-4"},w_={class:"my-8"},M_={class:"my-4 mt-n6"},A_=q({__name:"InstagramUserProfileMobile",props:{user:{}},setup(e){return(t,n)=>{const r=_o("router-link"),s=qa,i=Ha,o=za,a=Ya;return w(),ee("div",D_,[J("div",P_,[I(r,{to:{name:"index"}},{default:N(()=>[I(ht,{icon:"mdi-arrow-left",class:"mr-4",style:{"margin-top":"-2px"}})]),_:1}),I(s,{user:t.user,class:"mb-5"},null,8,["user"])]),I(yo,{class:"mx-n4"}),J("div",w_,[I(ds,null,{default:N(()=>[I(pn,{cols:"3",class:"ig-profile-page__header__avatar text-left"},{default:N(()=>[I(i,{size:"120px",user:t.user},null,8,["user"])]),_:1}),I(pn,{cols:"9"})]),_:1})]),J("div",M_,[I(o,{user:t.user},null,8,["user"])]),I(a,{mobile:"",user:t.user},null,8,["user"])])}}}),L_=ne(A_,[["__scopeId","data-v-bc8a590d"]]),N_={class:"ig-profile-page__header py-12"},x_=q({__name:"InstagramUserProfileDesktop",props:{user:{}},setup(e){return(t,n)=>{const r=Ha,s=qa,i=Ya,o=za;return w(),ee("div",N_,[I(ds,null,{default:N(()=>[I(pn,{cols:"4",class:"ig-profile-page__header__avatar text-center"},{default:N(()=>[I(r,{user:t.user},null,8,["user"])]),_:1}),I(pn,{cols:"8"},{default:N(()=>[I(s,{user:t.user,class:"mb-5"},null,8,["user"]),I(i,{user:t.user,class:"mb-5"},null,8,["user"]),I(o,{user:t.user},null,8,["user"])]),_:1})]),_:1})])}}}),k_=ne(x_,[["__scopeId","data-v-5af50a69"]]),G_=q({__name:"InstagramUserProfile",props:{user:{}},setup(e){return(t,n)=>{const r=k_,s=L_;return t.$vuetify.display.smAndUp?(w(),F(r,{key:0,user:t.user},null,8,["user"])):(w(),F(s,{key:1,user:t.user},null,8,["user"]))}}}),B_=at({color:String,...fs(),...At(),...kl(),...jn(),...Gl(),...Bl(),...Xn(),...Zn(),...us()},"VSheet"),F_=Et()({name:"VSheet",props:B_(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=go(e),{backgroundColorClasses:s,backgroundColorStyles:i}=qt(Ee(e,"color")),{borderClasses:o}=ps(e),{dimensionStyles:a}=Fl(e),{elevationClasses:l}=Wn(e),{locationStyles:u}=$l(e),{positionClasses:c}=Ul(e),{roundedClasses:f}=Qn(e);return It(()=>I(e.tag,{class:["v-sheet",r.value,s.value,o.value,l.value,c.value,f.value,e.class],style:[i.value,a.value,u.value,e.style]},n)),{}}}),$_=q({__name:"InstagramUser",props:{user:{}},setup(e){const t=K("posts");return(n,r)=>{const s=G_,i=o_,o=n_;return w(),F(F_,{color:"transparent",class:"ig-profile-page"},{default:N(()=>[I(Ro,{class:"py-0"},{default:N(()=>[I(s,{user:n.user},null,8,["user"]),I(i,{media:n.user.media,active:j(t),onSelect:r[0]||(r[0]=a=>t.value=a)},null,8,["media","active"]),I(o,{user:n.user,mode:j(t)},null,8,["user","mode"])]),_:1})]),_:1})}}}),U_={},V_=e=>(mo("data-v-b88a181d"),e=e(),vo(),e),Y_=V_(()=>J("p",{class:"mt-3"},[J("a",{href:"https://github.com/dxlliv/ig-planner",target:"_blank"},[J("strong",null,"ig-planner")]),ie(" is currently under development."),J("br"),ie(" Get support and ask for new features! ")],-1)),z_={class:"mt-5"};function H_(e,t){return w(),ee(Le,null,[Y_,J("div",z_,[I(pt,{border:"",href:"https://patreon.com/dxlliv",target:"_blank"},{default:N(()=>[ie("Become a Patron")]),_:1})])],64)}const q_=ne(U_,[["render",H_],["__scopeId","data-v-b88a181d"]]),X_=J("p",null,[ie(" Some changes have been made to this profile"),J("br"),ie(" and have now been stored in your browser. ")],-1),j_=q({__name:"InstagramUserExport",emits:["close"],setup(e,{emit:t}){const n=t;return(r,s)=>{const i=q_;return w(),F(Oo,{"content-class":"ig-user-export","max-width":700,onClose:s[0]||(s[0]=o=>n("close"))},{default:N(()=>[I(cs,{height:"70vh"},{default:N(()=>[I(bo,{textContent:"Profile export"}),I(ds,{class:"ma-0"},{default:N(()=>[I(pn,{"align-self":"center",class:"text-center"},{default:N(()=>[X_,I(i)]),_:1})]),_:1})]),_:1})]),_:1})}}}),W_=q({__name:"InstagramMediaCreate",emits:["close"],setup(e,{emit:t}){const n=t;function r(s){n("close")}return(s,i)=>{const o=Ba;return w(),F(Oo,{"content-class":"ig-media-create","max-width":700,onClose:i[0]||(i[0]=a=>n("close"))},{default:N(()=>[I(cs,{height:"70vh"},{default:N(()=>[I(bo,{textContent:"Create new post"}),I(o,{class:"mx-4",onAdd:r})]),_:1})]),_:1})}}}),Q_={},Z_={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},K_=J("path",{d:"M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),J_=J("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"6.545",x2:"17.455",y1:"12.001",y2:"12.001"},null,-1),eg=J("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"12.003",x2:"12.003",y1:"6.545",y2:"17.455"},null,-1),tg=[K_,J_,eg];function ng(e,t){return w(),ee("svg",Z_,tg)}const Xa=ne(Q_,[["render",ng]]),rg={},sg={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},ig=J("path",{d:"M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"},null,-1),og=[ig];function ag(e,t){return w(),ee("svg",sg,og)}const ja=ne(rg,[["render",ag]]),lg={},ug={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},cg=J("path",{d:"M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),dg=J("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"16.511",x2:"22",y1:"16.511",y2:"22"},null,-1),fg=[cg,dg];function pg(e,t){return w(),ee("svg",ug,fg)}const Wa=ne(lg,[["render",pg]]),mg={},vg={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},_g=J("polygon",{fill:"none",points:"13.941 13.953 7.581 16.424 10.06 10.056 16.42 7.585 13.941 13.953",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),gg=J("polygon",{"fill-rule":"evenodd",points:"10.06 10.056 13.949 13.945 7.581 16.424 10.06 10.056"},null,-1),hg=J("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),Eg=[_g,gg,hg];function Ig(e,t){return w(),ee("svg",vg,Eg)}const Qa=ne(mg,[["render",Ig]]),Tg={},yg={fill:"currentColor",height:"22",role:"img",viewBox:"0 0 24 24",width:"24"},Sg=J("path",{d:"M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2"},null,-1),Rg=[Sg];function bg(e,t){return w(),ee("svg",yg,Rg)}const Za=ne(Tg,[["render",bg]]),zn={docs:"https://dxlliv.github.io/ig-planner/docs/",support:"https://patreon.com/dxlliv"},Og=at({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...fs(),...At(),...Vl(),...jn(),...Xn(),...ho({name:"bottom-navigation"}),...Zn({tag:"header"}),...Yl({modelValue:!0,selectedClass:"v-btn--selected"}),...us()},"VBottomNavigation"),Cg=Et()({name:"VBottomNavigation",props:Og(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=pl(),{borderClasses:s}=ps(e),{backgroundColorClasses:i,backgroundColorStyles:o}=qt(Ee(e,"bgColor")),{densityClasses:a}=zl(e),{elevationClasses:l}=Wn(e),{roundedClasses:u}=Qn(e),{ssrBootStyles:c}=ms(),f=H(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),d=Ee(e,"active"),{layoutItemStyles:m}=Eo({id:e.name,order:H(()=>parseInt(e.order,10)),position:H(()=>"bottom"),layoutSize:H(()=>d.value?f.value:0),elementSize:f,active:d,absolute:Ee(e,"absolute")});return Hl(e,ql),Io({VBtn:{color:Ee(e,"color"),density:Ee(e,"density"),stacked:H(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),It(()=>I(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":d.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},r.value,i.value,s.value,a.value,l.value,u.value,e.class],style:[o.value,m.value,{height:We(f.value),transform:`translateY(${We(d.value?0:100,"%")})`},c.value,e.style]},{default:()=>[n.default&&I("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),Dg=q({__name:"InstagramNavigationDrawerHorizontal",props:{user:{},nav:{}},emits:["create","export"],setup(e,{emit:t}){const n=t;return(r,s)=>{const i=Za,o=Qa,a=Wa,l=ja,u=Xa,c=Ys;return w(),F(Cg,{class:"ig-navigation-drawer ig-navigation-drawer--horizontal",height:"50"},{default:N(()=>[I(pt,{to:{name:"index"}},{default:N(()=>[I(i)]),_:1}),I(pt,{href:j(zn).docs},{default:N(()=>[I(o)]),_:1},8,["href"]),I(pt,{href:j(zn).support,target:"_blank"},{default:N(()=>[I(a)]),_:1},8,["href"]),I(pt,{value:"favorites"},{default:N(()=>[I(l)]),_:1}),I(pt,{onClick:s[0]||(s[0]=f=>n("create"))},{default:N(()=>[I(u)]),_:1}),I(pt,{to:{name:"user",params:{username:"asd"}}},{default:N(()=>[r.user.ready?(w(),F(c,{key:0,avatar:r.user.profile.avatar,size:"26px"},null,8,["avatar"])):Z("",!0)]),_:1})]),_:1})}}}),Pg=ne(Dg,[["__scopeId","data-v-4b85ab34"]]),wg={};function Mg(e,t){const n=_o("router-link");return w(),F(n,{class:"ig-logo",to:{name:"index"}},{default:N(()=>[ie(" Planner ")]),_:1})}const Ag=ne(wg,[["render",Mg],["__scopeId","data-v-91866b3b"]]);function Lg(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const s=_t(!1),i=_t(0),o=H(()=>{const u=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[u]:We(i.value)}:{top:r.value.top}]});_n(()=>{Ae(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),To(()=>{window.removeEventListener("scroll",l)});let a=0;function l(){const u=a>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),f=parseFloat(r.value.top??0),d=window.scrollY-Math.max(0,i.value-f),m=c.height+Math.max(i.value,f)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-f?(s.value="top",i.value=f):u==="up"&&s.value==="bottom"||u==="down"&&s.value==="top"?(i.value=window.scrollY+c.top-p,s.value=!0):u==="down"&&m<=0?(i.value=0,s.value="bottom"):u==="up"&&d<=0&&(p?s.value!=="top"&&(i.value=-d+p+f,s.value="top"):(i.value=c.top+d,s.value="top")),a=window.scrollY}return{isStuck:s,stickyStyles:o}}const Ng=100,xg=20;function oo(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function ao(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=oo(t),s=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(s-r)*Math.abs(s),n===e.length-1&&(t*=.5)}return oo(t)*1e3}function kg(){const e={};function t(s){Array.from(s.changedTouches).forEach(i=>{(e[i.identifier]??(e[i.identifier]=new ml(xg))).push([s.timeStamp,i])})}function n(s){Array.from(s.changedTouches).forEach(i=>{delete e[i.identifier]})}function r(s){var u;const i=(u=e[s])==null?void 0:u.values().reverse();if(!i)throw new Error(`No samples for touch id ${s}`);const o=i[0],a=[],l=[];for(const c of i){if(o[0]-c[0]>Ng)break;a.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:ao(a),y:ao(l),get direction(){const{x:c,y:f}=this,[d,m]=[Math.abs(c),Math.abs(f)];return d>m&&c>=0?"right":d>m&&c<=0?"left":m>d&&f>=0?"down":m>d&&f<=0?"up":Gg()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function Gg(){throw new Error}function Bg(e){let{isActive:t,isTemporary:n,width:r,touchless:s,position:i}=e;_n(()=>{window.addEventListener("touchstart",_,{passive:!0}),window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",T,{passive:!0})}),To(()=>{window.removeEventListener("touchstart",_),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",T)});const o=H(()=>["left","right"].includes(i.value)),{addMovement:a,endTouch:l,getVelocity:u}=kg();let c=!1;const f=_t(!1),d=_t(0),m=_t(0);let p;function v(y,S){return(i.value==="left"?y:i.value==="right"?document.documentElement.clientWidth-y:i.value==="top"?y:i.value==="bottom"?document.documentElement.clientHeight-y:$t())-(S?r.value:0)}function g(y){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const b=i.value==="left"?(y-m.value)/r.value:i.value==="right"?(document.documentElement.clientWidth-y-m.value)/r.value:i.value==="top"?(y-m.value)/r.value:i.value==="bottom"?(document.documentElement.clientHeight-y-m.value)/r.value:$t();return S?Math.max(0,Math.min(1,b)):b}function _(y){if(s.value)return;const S=y.changedTouches[0].clientX,b=y.changedTouches[0].clientY,h=25,O=i.value==="left"?S<h:i.value==="right"?S>document.documentElement.clientWidth-h:i.value==="top"?b<h:i.value==="bottom"?b>document.documentElement.clientHeight-h:$t(),k=t.value&&(i.value==="left"?S<r.value:i.value==="right"?S>document.documentElement.clientWidth-r.value:i.value==="top"?b<r.value:i.value==="bottom"?b>document.documentElement.clientHeight-r.value:$t());(O||k||t.value&&n.value)&&(c=!0,p=[S,b],m.value=v(o.value?S:b,t.value),d.value=g(o.value?S:b),l(y),a(y))}function E(y){const S=y.changedTouches[0].clientX,b=y.changedTouches[0].clientY;if(c){if(!y.cancelable){c=!1;return}const O=Math.abs(S-p[0]),k=Math.abs(b-p[1]);(o.value?O>k&&O>3:k>O&&k>3)?(f.value=!0,c=!1):(o.value?k:O)>3&&(c=!1)}if(!f.value)return;y.preventDefault(),a(y);const h=g(o.value?S:b,!1);d.value=Math.max(0,Math.min(1,h)),h>1?m.value=v(o.value?S:b,!0):h<0&&(m.value=v(o.value?S:b,!1))}function T(y){if(c=!1,!f.value)return;a(y),f.value=!1;const S=u(y.changedTouches[0].identifier),b=Math.abs(S.x),h=Math.abs(S.y);(o.value?b>h&&b>400:h>b&&h>3)?t.value=S.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||$t()):t.value=d.value>.5}const D=H(()=>f.value?{transform:i.value==="left"?`translateX(calc(-100% + ${d.value*r.value}px))`:i.value==="right"?`translateX(calc(100% - ${d.value*r.value}px))`:i.value==="top"?`translateY(calc(-100% + ${d.value*r.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${d.value*r.value}px))`:$t(),transition:"none"}:void 0);return{isDragging:f,dragProgress:d,dragStyles:D}}function $t(){throw new Error}const Fg=["start","end","left","right","top","bottom"],$g=at({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Fg.includes(e)},sticky:Boolean,...fs(),...At(),...vl(),...jn(),...ho(),...Xn(),...Zn({tag:"nav"}),...us()},"VNavigationDrawer"),Ug=Et()({name:"VNavigationDrawer",props:$g(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{isRtl:i}=Hn(),{themeClasses:o}=go(e),{borderClasses:a}=ps(e),{backgroundColorClasses:l,backgroundColorStyles:u}=qt(Ee(e,"color")),{elevationClasses:c}=Wn(e),{displayClasses:f,mobile:d}=_l(e),{roundedClasses:m}=Qn(e),p=Xl(),v=fo(e,"modelValue",null,V=>!!V),{ssrBootStyles:g}=ms(),{scopeId:_}=jl(),E=K(),T=_t(!1),D=H(()=>e.rail&&e.expandOnHover&&T.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),y=H(()=>Wl(e.location,i.value)),S=H(()=>!e.permanent&&(d.value||e.temporary)),b=H(()=>e.sticky&&!S.value&&y.value!=="bottom");fr(()=>e.expandOnHover&&e.rail!=null,()=>{Ae(T,V=>r("update:rail",!V))}),fr(()=>!e.disableResizeWatcher,()=>{Ae(S,V=>!e.permanent&&po(()=>v.value=!V))}),fr(()=>!e.disableRouteWatcher&&!!p,()=>{Ae(p.currentRoute,()=>S.value&&(v.value=!1))}),Ae(()=>e.permanent,V=>{V&&(v.value=!0)}),gl(()=>{e.modelValue!=null||S.value||(v.value=e.permanent||!d.value)});const{isDragging:h,dragProgress:O,dragStyles:k}=Bg({isActive:v,isTemporary:S,width:D,touchless:Ee(e,"touchless"),position:y}),A=H(()=>{const V=S.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):D.value;return h.value?V*O.value:V}),{layoutItemStyles:C,layoutItemScrimStyles:U}=Eo({id:e.name,order:H(()=>parseInt(e.order,10)),position:y,layoutSize:A,elementSize:D,active:H(()=>v.value||h.value),disableTransitions:H(()=>h.value),absolute:H(()=>e.absolute||b.value&&typeof M.value!="string")}),{isStuck:M,stickyStyles:z}=Lg({rootEl:E,isSticky:b,layoutItemStyles:C}),R=qt(H(()=>typeof e.scrim=="string"?e.scrim:null)),L=H(()=>({...h.value?{opacity:O.value*.2,transition:"none"}:void 0,...U.value}));Io({VList:{bgColor:"transparent"}});function G(){T.value=!0}function B(){T.value=!1}return It(()=>{const V=s.image||e.image;return I(Le,null,[I(e.tag,Ar({ref:E,onMouseenter:G,onMouseleave:B,class:["v-navigation-drawer",`v-navigation-drawer--${y.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":T.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":S.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":b.value},o.value,l.value,a.value,f.value,c.value,m.value,e.class],style:[u.value,C.value,k.value,g.value,z.value,e.style]},_,n),{default:()=>{var Q,oe,_e,te;return[V&&I("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?(Q=s.image)==null?void 0:Q.call(s,{image:e.image}):I("img",{src:e.image,alt:""},null)]),s.prepend&&I("div",{class:"v-navigation-drawer__prepend"},[(oe=s.prepend)==null?void 0:oe.call(s)]),I("div",{class:"v-navigation-drawer__content"},[(_e=s.default)==null?void 0:_e.call(s)]),s.append&&I("div",{class:"v-navigation-drawer__append"},[(te=s.append)==null?void 0:te.call(s)])]}}),I(hl,{name:"fade-transition"},{default:()=>[S.value&&(h.value||v.value)&&!!e.scrim&&I("div",Ar({class:["v-navigation-drawer__scrim",R.backgroundColorClasses.value],style:[L.value,R.backgroundColorStyles.value],onClick:()=>v.value=!1},_),null)]})])}),{isStuck:M}}}),Vg=q({__name:"InstagramNavigationDrawerVertical",props:{user:{},nav:{}},emits:["create","export"],setup(e,{emit:t}){const n=t;return(r,s)=>{const i=Ag,o=Za,a=Qa,l=Wa,u=ja,c=Xa,f=Ys;return w(),F(Ug,{class:"ig-navigation-drawer",permanent:r.$vuetify.display.smAndUp,rail:r.$vuetify.display.mdAndDown,width:244,"rail-width":72},{default:N(()=>[I(on,{class:"pt-7 pb-3 hidden-md-and-down"},{default:N(()=>[I(Se,null,{default:N(()=>[I(i,{size:26})]),_:1})]),_:1}),I(on,{density:"compact",nav:"",class:"mt-2 mt-lg-0"},{default:N(()=>[I(Se,{title:"Home",to:{name:"index"}},{prepend:N(()=>[I(o)]),_:1}),(w(!0),ee(Le,null,qn(r.nav,d=>(w(),F(Se,Il(El(d.item)),{prepend:N(()=>[d.icon==="IconSupport"?(w(),F(a,{key:0})):Z("",!0),d.icon==="IconReadme"?(w(),F(l,{key:1})):Z("",!0),d.icon==="IconDonors"?(w(),F(u,{key:2})):Z("",!0)]),_:2},1040))),256)),I(Se,{title:"Create",onClick:s[0]||(s[0]=d=>n("create"))},{prepend:N(()=>[I(c)]),_:1}),r.user.ready?(w(),F(Se,{key:0,title:"Profile",to:{name:"user",params:{username:r.user.username}}},{prepend:N(()=>[(w(),F(Ht,null,{default:N(()=>[I(f,{avatar:r.user.profile.avatar,size:"26px"},null,8,["avatar"])]),_:1}))]),_:1},8,["to"])):Z("",!0)]),_:1}),I(on,{density:"compact",nav:"",class:"ig-navigation-drawer__list-bottom"},{default:N(()=>[r.user.hasLocalChanges?(w(),F(Se,{key:0,title:"Export","base-color":"primary",onClick:s[1]||(s[1]=d=>n("export"))},{prepend:N(()=>[I(ht,{icon:"mdi-pencil-ruler-outline"})]),_:1})):Z("",!0)]),_:1})]),_:1},8,["permanent","rail"])}}}),Yg=q({__name:"InstagramNavigationDrawer",setup(e){const t=os(),n=H(()=>t.user),r=[{item:{title:"Readme",href:zn.docs},icon:"IconReadme"},{item:{title:"Support",href:zn.support,target:"_blank"},icon:"IconSupport"}],s=K(!1),i=K(!1);return(o,a)=>{const l=Vg,u=Pg,c=W_,f=j_;return w(),ee(Le,null,[I(l,{class:"hidden-xs",user:j(n),nav:r,onCreate:a[0]||(a[0]=d=>s.value=!0),onExport:a[1]||(a[1]=d=>i.value=!0)},null,8,["user"]),I(u,{class:"hidden-sm-and-up",user:j(n),nav:r,onCreate:a[2]||(a[2]=d=>s.value=!0),onExport:a[3]||(a[3]=d=>i.value=!0)},null,8,["user"]),I(c,{modelValue:j(s),"onUpdate:modelValue":a[4]||(a[4]=d=>fn(s)?s.value=d:null),onClose:a[5]||(a[5]=d=>s.value=!1)},null,8,["modelValue"]),I(f,{modelValue:j(i),"onUpdate:modelValue":a[6]||(a[6]=d=>fn(i)?i.value=d:null)},null,8,["modelValue"])],64)}}}),zg=ne(Yg,[["__scopeId","data-v-ab300b0c"]]),Hg=at({...At(),...Tl()},"VLayout"),qg=Et()({name:"VLayout",props:Hg(),setup(e,t){let{slots:n}=t;const{layoutClasses:r,layoutStyles:s,getLayoutItem:i,items:o,layoutRef:a}=yl(e);return It(()=>{var l;return I("div",{ref:a,class:[r.value,e.class],style:[s.value,e.style]},[(l=n.default)==null?void 0:l.call(n)])}),{getLayoutItem:i,items:o}}}),Xg=at({scrollable:Boolean,...At(),...Zn({tag:"main"})},"VMain"),jg=Et()({name:"VMain",props:Xg(),setup(e,t){let{slots:n}=t;const{mainStyles:r}=Sl(),{ssrBootStyles:s}=ms();return It(()=>I(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,s.value,e.style]},{default:()=>{var i,o;return[e.scrollable?I("div",{class:"v-main__scroller"},[(i=n.default)==null?void 0:i.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}}),Wg={};function Qg(e,t){const n=zg,r=Ql;return w(),F(qg,null,{default:N(()=>[I(n),I(jg,null,{default:N(()=>[as(e.$slots,"default"),I(r)]),_:3})]),_:3})}const Zg=ne(Wg,[["render",Qg]]),eh=q({__name:"PageUser",setup(e){const t=Rl(),n=os(),r=bl(),s=t.params.username.toString(),i=H(()=>r.options),o=H(()=>n.user);return n.loadUserPage(s),(a,l)=>{const u=$_,c=Qc;return w(),ee(Le,null,[I(Zg,null,{default:N(()=>[j(o).ready?(w(),F(u,{key:0,user:j(o)},null,8,["user"])):Z("",!0)]),_:1}),j(i).guides?(w(),F(c,{key:0})):Z("",!0)],64)}}});export{eh as default};
