import{q as S,x as T,u as L,c as x,a as P,N as j,w as k}from"./swiper-vue.Dnu8qG6n.js";function b(n){return S()?(T(n),!0):!1}function F(){const n=new Set,r=o=>{n.delete(o)};return{on:o=>{n.add(o);const t=()=>r(o);return b(t),{off:t}},off:r,trigger:(...o)=>Promise.all(Array.from(n).map(t=>t(...o)))}}function D(n){return typeof n=="function"?n():L(n)}const A=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const C=Object.prototype.toString,W=n=>C.call(n)==="[object Object]",H=()=>{},M=(n,r)=>Object.prototype.hasOwnProperty.call(n,r);function O(n){var r;const e=D(n);return(r=e==null?void 0:e.$el)!=null?r:e}const U=A?window:void 0,q=A?window.document:void 0;function w(...n){let r,e,u,o;if(typeof n[0]=="string"||Array.isArray(n[0])?([e,u,o]=n,r=U):[r,e,u,o]=n,!r)return H;Array.isArray(e)||(e=[e]),Array.isArray(u)||(u=[u]);const t=[],c=()=>{t.forEach(d=>d()),t.length=0},s=(d,a,p,v)=>(d.addEventListener(a,p,v),()=>d.removeEventListener(a,p,v)),f=k(()=>[O(r),D(o)],([d,a])=>{if(c(),!d)return;const p=W(a)?{...a}:a;t.push(...e.flatMap(v=>u.map(l=>s(d,v,l,p))))},{immediate:!0,flush:"post"}),i=()=>{f(),c()};return b(i),i}const G=500,N=10;function Y(n,r,e){var u,o;const t=x(()=>O(n));let c,s;function f(){c&&(clearTimeout(c),c=void 0),s=void 0}function i(l){var m,y,g,h;(m=e==null?void 0:e.modifiers)!=null&&m.self&&l.target!==t.value||(f(),(y=e==null?void 0:e.modifiers)!=null&&y.prevent&&l.preventDefault(),(g=e==null?void 0:e.modifiers)!=null&&g.stop&&l.stopPropagation(),s={x:l.x,y:l.y},c=setTimeout(()=>r(l),(h=e==null?void 0:e.delay)!=null?h:G))}function d(l){var m,y,g,h;if((m=e==null?void 0:e.modifiers)!=null&&m.self&&l.target!==t.value||!s||(e==null?void 0:e.distanceThreshold)===!1)return;(y=e==null?void 0:e.modifiers)!=null&&y.prevent&&l.preventDefault(),(g=e==null?void 0:e.modifiers)!=null&&g.stop&&l.stopPropagation();const _=l.x-s.x,E=l.y-s.y;Math.sqrt(_*_+E*E)>=((h=e==null?void 0:e.distanceThreshold)!=null?h:N)&&f()}const a={capture:(u=e==null?void 0:e.modifiers)==null?void 0:u.capture,once:(o=e==null?void 0:e.modifiers)==null?void 0:o.once},p=[w(t,"pointerdown",i,a),w(t,"pointermove",d,a),w(t,["pointerup","pointerleave"],f,a)];return()=>p.forEach(l=>l())}const R={multiple:!0,accept:"*",reset:!1,directory:!1};function $(n={}){const{document:r=q}=n,e=P(null),{on:u,trigger:o}=F();let t;r&&(t=r.createElement("input"),t.type="file",t.onchange=f=>{const i=f.target;e.value=i.files,o(e.value)});const c=()=>{e.value=null,t&&(t.value="",o(null))},s=f=>{if(!t)return;const i={...R,...n,...f};t.multiple=i.multiple,t.accept=i.accept,t.webkitdirectory=i.directory,M(i,"capture")&&(t.capture=i.capture),i.reset&&c(),t.click()};return{files:j(e),open:s,reset:c,onChange:u}}export{Y as o,$ as u};
