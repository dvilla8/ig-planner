import k from"./CF4ZPdty.js";import C from"./Drt1nq5o.js";import{_ as $}from"./jOQu9Q66.js";import w from"./D-WoWwpw.js";import{e as B,r as a,n as T,N as b,au as F,o as m,f as n,w as c,$ as u,g as p,c as S,F as V,b as L,i as v,av as N,_ as P}from"./C69fWWsL.js";import{I as j}from"./D5qGu6A9.js";import"./BoodMkLC.js";import"./B6uVcePs.js";import"./HCwU7stj.js";import"./CDACIwod.js";import"./B_VHGi2t.js";import"./CteJkfdG.js";import"./B8zZIyOi.js";import"./BhVbpSQw.js";import"./D0bcbZmU.js";import"./0GDXSVas.js";import"./Cp2uLeVg.js";import"./Gs0Z6fIJ.js";import"./CedFBPg7.js";import"./BRasTVVs.js";import"./u3nOfKvO.js";import"./EnJsD8zn.js";import"./DAQArPmu.js";import"./DrT2XDc6.js";import"./CYh18czw.js";import"./BjJascwF.js";import"./DenjEkKv.js";import"./_ohJW2ps.js";import"./BvcJCg24.js";import"./pOzf2t-j.js";import"./e82qsoU0.js";import"./3OKakfPK.js";import"./DSGn2ecB.js";import"./nNamkw2Y.js";import"./CjQxlFYO.js";import"./B8_dBz12.js";import"./CoPnIqxC.js";import"./OrTCKd-t.js";import"./BrTN12kX.js";import"./CSAsQURA.js";import"./B8G7n_Bf.js";import"./D8Kn5vYT.js";import"./DP9bFnEq.js";import"./D3j0TLhE.js";import"./DFF23pY2.js";import"./DdN9tEV8.js";import"./BVCsfl_o.js";import"./KOiuiIha.js";import"./DOQ5wFQP.js";import"./BLNXptzz.js";import"./D8qZ0fkY.js";import"./Dvm0BVye.js";import"./CXalfO2R.js";const x=B({__name:"InstagramMediaVideo",props:{media:{},isFromDetail:{type:Boolean},coverSelector:{type:Boolean},playable:{type:Boolean}},setup(f){const t=f,r=a(!1),s=a(t.media.rawFilePath),o=a(null),l=a(0);async function _(e){e&&(t.media.from==="client"&&(t.media.fetch(),s.value=await N(t.media)),t.media.user.hasLocalChanges)}function y(e){o.value&&(o.value.currentTime=e,t.media.setCoverTime(e))}return T(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof t.media.cover=="object"||t.media.cover||(o.value.currentTime=t.media.coverTime,l.value=o.value.duration)},!1)}),b(()=>r.value,e=>{if(!o.value||!t.playable)return!1;e?o.value.play():o.value.pause()}),(e,i)=>{const g=k,I=C,M=$,h=w;return F((m(),n(h,{type:"video",media:e.media},{actions:c(()=>[u(e.$slots,"actions",{},void 0,!0)]),default:c(()=>[!e.media.cover||e.media.coverTime||p(r)?(m(),S(V,{key:0},[L(g,{ref_key:"videoRef",ref:o,src:p(s),onPlaying:i[0]||(i[0]=d=>r.value=d)},null,8,["src"]),e.coverSelector?(m(),n(I,{key:0,media:e.media,"max-length":p(l),onUpdateCoverTime:y},null,8,["media","max-length"])):v("",!0)],64)):typeof e.media.cover=="object"?(m(),n(M,{key:1,media:e.media.cover,onMouseover:i[1]||(i[1]=d=>r.value=!0)},null,8,["media"])):v("",!0),u(e.$slots,"link",{},void 0,!0)]),_:3},8,["media"])),[[j,_]])}}}),xe=P(x,[["__scopeId","data-v-5dc611e5"]]);export{xe as default};
