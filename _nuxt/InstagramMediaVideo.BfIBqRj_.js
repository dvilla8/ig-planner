import M from"./InstagramMediaVideoCoverSelector.0vevTCeU.js";import{_ as B}from"./InstagramMediaImage.vue.p1umsZu3.js";import I from"./InstagramMediaContainer.D9J_ZZuO.js";import{P as b,_ as T}from"./entry.nxeMeOXT.js";import{d as h,a as d,c as w,a8 as E,B as F,w as S,aj as V,a4 as r,a6 as m,aa as $,a5 as j,F as x,ag as L,u as s,a7 as l}from"./swiper-vue.Dnu8qG6n.js";import"./MediaActionEdit.C1Cr9lbj.js";import"./MediaImageEditor.CuWIVRiI.js";import"./InstagramMediaContextMenu.vue.4UZv57cn.js";import"./InstagramMediaContextMenuCloneToReel.vue.BRc_a0Ly.js";import"./InstagramMediaContextMenuGroup.CuR30xzW.js";import"./InstagramMediaContextMenuAddToAlbum.vue.DGMm1j-w.js";import"./index.BbN7YMFR.js";import"./InstagramMediaContextMenuRemoveFromAlbum.vue.BsDUbK4F.js";import"./InstagramMediaContextMenuAddCover.vue.FaEQc_PK.js";import"./InstagramMediaContextMenuReplaceCover.vue.n_8rkd8H.js";import"./InstagramMediaContextMenuRemoveCover.vue.Ch3GVlkN.js";import"./InstagramMediaContextMenuReplaceMedia.vue.ChLJ0Ypu.js";import"./InstagramMediaContextMenuConvertToAlbum.vue.DLrfNl3a.js";import"./InstagramMediaContextMenuConvertToIframe.vue.JHmzuTEO.js";import"./InstagramMediaContextMenuRemove.vue.BhLUnXQT.js";const N=["src","autoplay"],P=h({__name:"InstagramMediaVideo",props:{media:{},isFromDetail:{type:Boolean},coverSelector:{type:Boolean},playable:{type:Boolean}},async setup(u){let i,p;const o=u,t=d(!1);w(()=>o.media.collection==="reels");const v=([i,p]=E(()=>b(o.media)),i=await i,p(),i),a=d(null),c=d(0);function f(e){a.value&&(a.value.currentTime=e,o.media.setCoverTime(e),o.media.save())}return F(()=>{a.value&&a.value.addEventListener("loadedmetadata",()=>{!a.value||typeof o.media.cover=="object"||o.media.cover||(a.value.currentTime=o.media.coverTime,c.value=a.value.duration)},!1)}),S(()=>t.value,e=>{if(!a.value||!o.playable)return!1;e?a.value.play():a.value.pause()}),(e,n)=>{const _=M,y=B,g=V("InstagramMediaEditor"),C=I;return r(),m(C,{type:"video",media:e.media},{default:$(()=>[!e.media.cover||e.media.coverTime?(r(),j(x,{key:0},[L("video",{ref_key:"videoRef",ref:a,src:s(v),autoplay:s(t),onClick:n[0]||(n[0]=k=>t.value=!s(t))},null,8,N),e.coverSelector?(r(),m(_,{key:0,media:e.media,"max-length":s(c),onUpdateCoverTime:f},null,8,["media","max-length"])):l("",!0)],64)):typeof e.media.cover=="object"?(r(),m(y,{key:1,media:e.media.cover,onClick:n[1]||(n[1]=k=>t.value=!0)},null,8,["media"])):l("",!0),e.media.isEditing?(r(),m(g,{key:2,media:e.media},null,8,["media"])):l("",!0)]),_:1},8,["media"])}}}),re=T(P,[["__scopeId","data-v-95cbe65b"]]);export{re as default};
