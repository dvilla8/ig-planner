import{r as P,b9 as j,ba as H,aY as N,g as G,C as M,O as Y,aB as R,p as V,R as z,b6 as J}from"./01aRC5Ud.js";function k(t){return H()?(N(t),!0):!1}function F(){const t=new Set,n=a=>{t.delete(a)};return{on:a=>{t.add(a);const i=()=>n(a);return k(i),{off:i}},off:n,trigger:(...a)=>Promise.all(Array.from(t).map(i=>i(...a)))}}function T(t){return typeof t=="function"?t():G(t)}const x=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const K=Object.prototype.toString,Q=t=>K.call(t)==="[object Object]",C=()=>{},X=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),Z=ee();function ee(){var t,n;return x&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function te(t){let n;function e(){return n||(n=t()),n}return e.reset=async()=>{const l=n;n=void 0,l&&await l},e}function ne(t,n,e={}){const{immediate:l=!0}=e,a=P(!1);let i=null;function m(){i&&(clearTimeout(i),i=null)}function r(){a.value=!1,m()}function v(...g){m(),a.value=!0,i=setTimeout(()=>{a.value=!1,i=null,t(...g)},T(n))}return l&&(a.value=!0,x&&v()),k(r),{isPending:j(a),start:v,stop:r}}const q=x?window:void 0,oe=x?window.document:void 0,U=x?window.navigator:void 0;function A(t){var n;const e=T(t);return(n=e==null?void 0:e.$el)!=null?n:e}function S(...t){let n,e,l,a;if(typeof t[0]=="string"||Array.isArray(t[0])?([e,l,a]=t,n=q):[n,e,l,a]=t,!n)return C;Array.isArray(e)||(e=[e]),Array.isArray(l)||(l=[l]);const i=[],m=()=>{i.forEach(c=>c()),i.length=0},r=(c,d,y,h)=>(c.addEventListener(d,y,h),()=>c.removeEventListener(d,y,h)),v=Y(()=>[A(n),T(a)],([c,d])=>{if(m(),!c)return;const y=Q(d)?{...d}:d;i.push(...e.flatMap(h=>l.map(b=>r(c,h,b,y))))},{immediate:!0,flush:"post"}),g=()=>{v(),m()};return k(g),g}let I=!1;function se(t,n,e={}){const{window:l=q,ignore:a=[],capture:i=!0,detectIframe:m=!1}=e;if(!l)return C;Z&&!I&&(I=!0,Array.from(l.document.body.children).forEach(u=>u.addEventListener("click",C)),l.document.documentElement.addEventListener("click",C));let r=!0;const v=u=>T(a).some(f=>{if(typeof f=="string")return Array.from(l.document.querySelectorAll(f)).some(o=>o===u.target||u.composedPath().includes(o));{const o=A(f);return o&&(u.target===o||u.composedPath().includes(o))}});function g(u){const f=T(u);return f&&f.$.subTree.shapeFlag===16}function c(u,f){const o=T(u),s=o.$.subTree&&o.$.subTree.children;return s==null||!Array.isArray(s)?!1:s.some(p=>p.el===f.target||f.composedPath().includes(p.el))}const d=u=>{const f=A(t);if(u.target!=null&&!(!(f instanceof Element)&&g(t)&&c(t,u))&&!(!f||f===u.target||u.composedPath().includes(f))){if(u.detail===0&&(r=!v(u)),!r){r=!0;return}n(u)}};let y=!1;const h=[S(l,"click",u=>{y||(y=!0,setTimeout(()=>{y=!1},0),d(u))},{passive:!0,capture:i}),S(l,"pointerdown",u=>{const f=A(t);r=!v(u)&&!!(f&&!u.composedPath().includes(f))},{passive:!0}),m&&S(l,"blur",u=>{setTimeout(()=>{var f;const o=A(t);((f=l.document.activeElement)==null?void 0:f.tagName)==="IFRAME"&&!(o!=null&&o.contains(l.document.activeElement))&&n(u)},0)})].filter(Boolean);return()=>h.forEach(u=>u())}const re=500,ie=10;function ce(t,n,e){var l,a;const i=M(()=>A(t));let m,r,v,g=!1;function c(){m&&(clearTimeout(m),m=void 0),r=void 0,v=void 0,g=!1}function d(o){var s,p,w;const[_,E,O]=[v,r,g];if(c(),!(e!=null&&e.onMouseUp)||!E||!_||(s=e==null?void 0:e.modifiers)!=null&&s.self&&o.target!==i.value)return;(p=e==null?void 0:e.modifiers)!=null&&p.prevent&&o.preventDefault(),(w=e==null?void 0:e.modifiers)!=null&&w.stop&&o.stopPropagation();const L=o.x-E.x,D=o.y-E.y,B=Math.sqrt(L*L+D*D);e.onMouseUp(o.timeStamp-_,B,O)}function y(o){var s,p,w,_;(s=e==null?void 0:e.modifiers)!=null&&s.self&&o.target!==i.value||(c(),(p=e==null?void 0:e.modifiers)!=null&&p.prevent&&o.preventDefault(),(w=e==null?void 0:e.modifiers)!=null&&w.stop&&o.stopPropagation(),r={x:o.x,y:o.y},v=o.timeStamp,m=setTimeout(()=>{g=!0,n(o)},(_=e==null?void 0:e.delay)!=null?_:re))}function h(o){var s,p,w,_;if((s=e==null?void 0:e.modifiers)!=null&&s.self&&o.target!==i.value||!r||(e==null?void 0:e.distanceThreshold)===!1)return;(p=e==null?void 0:e.modifiers)!=null&&p.prevent&&o.preventDefault(),(w=e==null?void 0:e.modifiers)!=null&&w.stop&&o.stopPropagation();const E=o.x-r.x,O=o.y-r.y;Math.sqrt(E*E+O*O)>=((_=e==null?void 0:e.distanceThreshold)!=null?_:ie)&&c()}const b={capture:(l=e==null?void 0:e.modifiers)==null?void 0:l.capture,once:(a=e==null?void 0:e.modifiers)==null?void 0:a.once},u=[S(i,"pointerdown",y,b),S(i,"pointermove",h,b),S(i,["pointerup","pointerleave"],d,b)];return()=>u.forEach(o=>o())}function le(){const t=P(!1),n=z();return n&&V(()=>{t.value=!0},n),t}function $(t){const n=le();return M(()=>(n.value,!!t()))}function W(t,n={}){const{controls:e=!1,navigator:l=U}=n,a=$(()=>l&&"permissions"in l),i=R(),m=typeof t=="string"?{name:t}:t,r=R(),v=()=>{var c,d;r.value=(d=(c=i.value)==null?void 0:c.state)!=null?d:"prompt"};S(i,"change",v);const g=te(async()=>{if(a.value){if(!i.value)try{i.value=await l.permissions.query(m)}catch{i.value=void 0}finally{v()}if(e)return J(i.value)}});return g(),e?{state:r,isSupported:a,query:g}:r}function de(t={}){const{navigator:n=U,read:e=!1,source:l,copiedDuring:a=1500,legacy:i=!1}=t,m=$(()=>n&&"clipboard"in n),r=W("clipboard-read"),v=W("clipboard-write"),g=M(()=>m.value||i),c=P(""),d=P(!1),y=ne(()=>d.value=!1,a);function h(){m.value&&o(r.value)?n.clipboard.readText().then(s=>{c.value=s}):c.value=f()}g.value&&e&&S(["copy","cut"],h);async function b(s=T(l)){g.value&&s!=null&&(m.value&&o(v.value)?await n.clipboard.writeText(s):u(s),c.value=s,d.value=!0,y.start())}function u(s){const p=document.createElement("textarea");p.value=s??"",p.style.position="absolute",p.style.opacity="0",document.body.appendChild(p),p.select(),document.execCommand("copy"),p.remove()}function f(){var s,p,w;return(w=(p=(s=document==null?void 0:document.getSelection)==null?void 0:s.call(document))==null?void 0:p.toString())!=null?w:""}function o(s){return s==="granted"||s==="prompt"}return{isSupported:g,text:c,copied:d,copy:b}}const ue={multiple:!0,accept:"*",reset:!1,directory:!1};function fe(t={}){const{document:n=oe}=t,e=P(null),{on:l,trigger:a}=F(),{on:i,trigger:m}=F();let r;n&&(r=n.createElement("input"),r.type="file",r.onchange=c=>{const d=c.target;e.value=d.files,a(e.value)},r.oncancel=()=>{m()});const v=()=>{e.value=null,r&&r.value&&(r.value="",a(null))},g=c=>{if(!r)return;const d={...ue,...t,...c};r.multiple=d.multiple,r.accept=d.accept,r.webkitdirectory=d.directory,X(d,"capture")&&(r.capture=d.capture),d.reset&&v(),r.click()};return{files:j(e),open:g,reset:v,onCancel:i,onChange:l}}export{de as a,se as b,ce as o,fe as u};
