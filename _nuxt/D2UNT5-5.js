import{s as B,j as b,o as q,w as Y,N as U,m as K,J as Q,t as z,a as ee,U as te,l as M,z as X,P as ae,F as ne,n as oe}from"./D-drnA8r.js";import{G as le,aG as ue,am as N,s as re,t as ie,az as se,al as ce,C as ve,v as de,S as me,D as fe,au as he,$ as ge,an as ye,E as we,y as be}from"./Dd-faj7m.js";import{m as pe,u as Se}from"./BqPeQ3OS.js";import{a as $}from"./DofQ3S8r.js";import{m as ke,u as Ee}from"./DKJK53Zu.js";import{m as Me,u as Te}from"./TGtU8jwX.js";import{a as xe}from"./DKQXYXU0.js";import{u as Pe}from"./DZ_MvYd2.js";import{u as Ve}from"./-39vNLdD.js";import{m as Ce}from"./BTSmHasN.js";import{t as Be}from"./Cez0OCOh.js";import{V as Re}from"./DqdUkXJR.js";import{V as He}from"./CGDHALbh.js";function De(e){let{rootEl:i,isSticky:u,layoutItemStyles:E}=e;const t=B(!1),r=B(0),n=b(()=>{const g=typeof t.value=="boolean"?"top":t.value;return[u.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[g]:le(r.value)}:{top:E.value.top}]});q(()=>{Y(u,g=>{g?window.addEventListener("scroll",S,{passive:!0}):window.removeEventListener("scroll",S)},{immediate:!0})}),U(()=>{window.removeEventListener("scroll",S)});let f=0;function S(){const g=f>window.scrollY?"up":"down",c=i.value.getBoundingClientRect(),v=parseFloat(E.value.top??0),s=window.scrollY-Math.max(0,r.value-v),m=c.height+Math.max(r.value,v)-window.scrollY-window.innerHeight,h=parseFloat(getComputedStyle(i.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-v?(t.value="top",r.value=v):g==="up"&&t.value==="bottom"||g==="down"&&t.value==="top"?(r.value=window.scrollY+c.top-h,t.value=!0):g==="down"&&m<=0?(r.value=0,t.value="bottom"):g==="up"&&s<=0&&(h?t.value!=="top"&&(r.value=-s+h+v,t.value="top"):(r.value=c.top+s,t.value="top")),f=window.scrollY}return{isStuck:t,stickyStyles:n}}const Ie=100,Ye=20;function F(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function A(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let i=0;for(let u=e.length-1;u>0;u--){if(e[u].t===e[u-1].t)continue;const E=F(i),t=(e[u].d-e[u-1].d)/(e[u].t-e[u-1].t);i+=(t-E)*Math.abs(t),u===e.length-1&&(i*=.5)}return F(i)*1e3}function Ne(){const e={};function i(t){Array.from(t.changedTouches).forEach(r=>{(e[r.identifier]??(e[r.identifier]=new ue(Ye))).push([t.timeStamp,r])})}function u(t){Array.from(t.changedTouches).forEach(r=>{delete e[r.identifier]})}function E(t){var g;const r=(g=e[t])==null?void 0:g.values().reverse();if(!r)throw new Error(`No samples for touch id ${t}`);const n=r[0],f=[],S=[];for(const c of r){if(n[0]-c[0]>Ie)break;f.push({t:c[0],d:c[1].clientX}),S.push({t:c[0],d:c[1].clientY})}return{x:A(f),y:A(S),get direction(){const{x:c,y:v}=this,[s,m]=[Math.abs(c),Math.abs(v)];return s>m&&c>=0?"right":s>m&&c<=0?"left":m>s&&v>=0?"down":m>s&&v<=0?"up":Le()}}}return{addMovement:i,endTouch:u,getVelocity:E}}function Le(){throw new Error}function We(e){let{el:i,isActive:u,isTemporary:E,width:t,touchless:r,position:n}=e;q(()=>{window.addEventListener("touchstart",P,{passive:!0}),window.addEventListener("touchmove",T,{passive:!1}),window.addEventListener("touchend",V,{passive:!0})}),U(()=>{window.removeEventListener("touchstart",P),window.removeEventListener("touchmove",T),window.removeEventListener("touchend",V)});const f=b(()=>["left","right"].includes(n.value)),{addMovement:S,endTouch:g,getVelocity:c}=Ne();let v=!1;const s=B(!1),m=B(0),h=B(0);let p;function R(a,l){return(n.value==="left"?a:n.value==="right"?document.documentElement.clientWidth-a:n.value==="top"?a:n.value==="bottom"?document.documentElement.clientHeight-a:C())-(l?t.value:0)}function H(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const o=n.value==="left"?(a-h.value)/t.value:n.value==="right"?(document.documentElement.clientWidth-a-h.value)/t.value:n.value==="top"?(a-h.value)/t.value:n.value==="bottom"?(document.documentElement.clientHeight-a-h.value)/t.value:C();return l?Math.max(0,Math.min(1,o)):o}function P(a){if(r.value)return;const l=a.changedTouches[0].clientX,o=a.changedTouches[0].clientY,d=25,y=n.value==="left"?l<d:n.value==="right"?l>document.documentElement.clientWidth-d:n.value==="top"?o<d:n.value==="bottom"?o>document.documentElement.clientHeight-d:C(),w=u.value&&(n.value==="left"?l<t.value:n.value==="right"?l>document.documentElement.clientWidth-t.value:n.value==="top"?o<t.value:n.value==="bottom"?o>document.documentElement.clientHeight-t.value:C());(y||w||u.value&&E.value)&&(p=[l,o],h.value=R(f.value?l:o,u.value),m.value=H(f.value?l:o),v=h.value>-20&&h.value<80,g(a),S(a))}function T(a){const l=a.changedTouches[0].clientX,o=a.changedTouches[0].clientY;if(v){if(!a.cancelable){v=!1;return}const y=Math.abs(l-p[0]),w=Math.abs(o-p[1]);(f.value?y>w&&y>3:w>y&&w>3)?(s.value=!0,v=!1):(f.value?w:y)>3&&(v=!1)}if(!s.value)return;a.preventDefault(),S(a);const d=H(f.value?l:o,!1);m.value=Math.max(0,Math.min(1,d)),d>1?h.value=R(f.value?l:o,!0):d<0&&(h.value=R(f.value?l:o,!1))}function V(a){if(v=!1,!s.value)return;S(a),s.value=!1;const l=c(a.changedTouches[0].identifier),o=Math.abs(l.x),d=Math.abs(l.y);(f.value?o>d&&o>400:d>o&&d>3)?u.value=l.direction===({left:"right",right:"left",top:"down",bottom:"up"}[n.value]||C()):u.value=m.value>.5}const x=b(()=>s.value?{transform:n.value==="left"?`translateX(calc(-100% + ${m.value*t.value}px))`:n.value==="right"?`translateX(calc(100% - ${m.value*t.value}px))`:n.value==="top"?`translateY(calc(-100% + ${m.value*t.value}px))`:n.value==="bottom"?`translateY(calc(100% - ${m.value*t.value}px))`:C(),transition:"none"}:void 0);return N(s,()=>{var o,d;const a=((o=i.value)==null?void 0:o.style.transform)??null,l=((d=i.value)==null?void 0:d.style.transition)??null;K(()=>{var y,w,D,I;(w=i.value)==null||w.style.setProperty("transform",((y=x.value)==null?void 0:y.transform)||"none"),(I=i.value)==null||I.style.setProperty("transition",((D=x.value)==null?void 0:D.transition)||null)}),Q(()=>{var y,w;(y=i.value)==null||y.style.setProperty("transform",a),(w=i.value)==null||w.style.setProperty("transition",l)})}),{isDragging:s,dragProgress:m,dragStyles:x}}function C(){throw new Error}const _e=["start","end","left","right","top","bottom"],Oe=re({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>_e.includes(e)},sticky:Boolean,...pe(),...ie(),...se(),...ke(),...ce(),...Me(),...Ce({tag:"nav"}),...ve()},"VNavigationDrawer"),et=de()({name:"VNavigationDrawer",props:Oe(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,i){let{attrs:u,emit:E,slots:t}=i;const{isRtl:r}=me(),{themeClasses:n}=fe(e),{borderClasses:f}=Se(e),{backgroundColorClasses:S,backgroundColorStyles:g}=$(z(e,"color")),{elevationClasses:c}=Ee(e),{displayClasses:v,mobile:s}=he(e),{roundedClasses:m}=Te(e),h=xe(),p=ge(e,"modelValue",null,k=>!!k),{ssrBootStyles:R}=Ve(),{scopeId:H}=Pe(),P=ee(),T=B(!1),V=b(()=>e.rail&&e.expandOnHover&&T.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),x=b(()=>Be(e.location,r.value)),a=b(()=>!e.permanent&&(s.value||e.temporary)),l=b(()=>e.sticky&&!a.value&&x.value!=="bottom");N(()=>e.expandOnHover&&e.rail!=null,()=>{Y(T,k=>E("update:rail",!k))}),N(()=>!e.disableResizeWatcher,()=>{Y(a,k=>!e.permanent&&oe(()=>p.value=!k))}),N(()=>!e.disableRouteWatcher&&!!h,()=>{Y(h.currentRoute,()=>a.value&&(p.value=!1))}),Y(()=>e.permanent,k=>{k&&(p.value=!0)}),te(()=>{e.modelValue!=null||a.value||(p.value=e.permanent||!s.value)});const{isDragging:o,dragProgress:d}=We({el:P,isActive:p,isTemporary:a,width:V,touchless:z(e,"touchless"),position:x}),y=b(()=>{const k=a.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):V.value;return o.value?k*d.value:k}),{layoutItemStyles:w,layoutItemScrimStyles:D}=ye({id:e.name,order:b(()=>parseInt(e.order,10)),position:x,layoutSize:y,elementSize:V,active:b(()=>p.value||o.value),disableTransitions:b(()=>o.value),absolute:b(()=>e.absolute||l.value&&typeof I.value!="string")}),{isStuck:I,stickyStyles:Z}=De({rootEl:P,isSticky:l,layoutItemStyles:w}),L=$(b(()=>typeof e.scrim=="string"?e.scrim:null)),G=b(()=>({...o.value?{opacity:d.value*.2,transition:"none"}:void 0,...D.value}));we({VList:{bgColor:"transparent"}});function j(){T.value=!0}function J(){T.value=!1}return be(()=>{const k=t.image||e.image;return M(ne,null,[M(e.tag,X({ref:P,onMouseenter:j,onMouseleave:J,class:["v-navigation-drawer",`v-navigation-drawer--${x.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":T.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":a.value,"v-navigation-drawer--active":p.value,"v-navigation-drawer--sticky":l.value},n.value,S.value,f.value,v.value,c.value,m.value,e.class],style:[g.value,w.value,R.value,Z.value,e.style]},H,u),{default:()=>{var W,_,O;return[k&&M("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?M(He,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):M(Re,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&M("div",{class:"v-navigation-drawer__prepend"},[(W=t.prepend)==null?void 0:W.call(t)]),M("div",{class:"v-navigation-drawer__content"},[(_=t.default)==null?void 0:_.call(t)]),t.append&&M("div",{class:"v-navigation-drawer__append"},[(O=t.append)==null?void 0:O.call(t)])]}}),M(ae,{name:"fade-transition"},{default:()=>[a.value&&(o.value||p.value)&&!!e.scrim&&M("div",X({class:["v-navigation-drawer__scrim",L.backgroundColorClasses.value],style:[G.value,L.backgroundColorStyles.value],onClick:()=>p.value=!1},H),null)]})])}),{isStuck:I}}});export{et as V};
