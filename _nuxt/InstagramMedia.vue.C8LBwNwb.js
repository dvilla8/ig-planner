import{_ as Ce}from"./InstagramMediaImage.vue.BMuxVz9T.js";import Oe from"./InstagramMediaVideo.BE5CEi9Q.js";import je from"./InstagramMediaIframe.DaZTf2tZ.js";import{d as L,a as c,r as V,x as w,o as Ee,n as De,f as Ne,j as be,w as Y,ac as ye,c as C,i as M,F as oe,O as g,Q as y,W as B,l as Ve,u as D,P as xe,a7 as Be,R as N,S as Se}from"./swiper-vue.CEq_1mxI.js";import Le from"./InstagramMediaAlbumCurrentIndex.DnwEiw5e.js";import Pe from"./InstagramMediaContainer.BY8FS-9U.js";import{_ as $e}from"./entry.Dlrc_O8N.js";/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const f={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},we={itemsToShow:{default:f.itemsToShow,type:Number},itemsToScroll:{default:f.itemsToScroll,type:Number},wrapAround:{default:f.wrapAround,type:Boolean},throttle:{default:f.throttle,type:Number},snapAlign:{default:f.snapAlign,validator(t){return["start","end","center","center-even","center-odd"].includes(t)}},transition:{default:f.transition,type:Number},breakpoints:{default:f.breakpoints,type:Object},autoplay:{default:f.autoplay,type:Number},pauseAutoplayOnHover:{default:f.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:f.mouseDrag,type:Boolean},touchDrag:{default:f.touchDrag,type:Boolean},dir:{default:f.dir,validator(t){return["rtl","ltr"].includes(t)}},i18n:{default:f.i18n,type:Object},settings:{default(){return{}},type:Object}};function Re({config:t,slidesCount:e}){const{snapAlign:n,wrapAround:o,itemsToShow:l=1}=t;if(o)return Math.max(e-1,0);let r;switch(n){case"start":r=e-l;break;case"end":r=e-1;break;case"center":case"center-odd":r=e-Math.ceil((l-.5)/2);break;case"center-even":r=e-Math.ceil(l/2);break;default:r=0;break}return Math.max(r,0)}function Fe({config:t,slidesCount:e}){const{wrapAround:n,snapAlign:o,itemsToShow:l=1}=t;let r=0;if(n||l>e)return r;switch(o){case"start":r=0;break;case"end":r=l-1;break;case"center":case"center-odd":r=Math.floor((l-1)/2);break;case"center-even":r=Math.floor((l-2)/2);break;default:r=0;break}return r}function ne({val:t,max:e,min:n}){return e<n?t:Math.min(Math.max(t,n),e)}function Xe({config:t,currentSlide:e,slidesCount:n}){const{snapAlign:o,wrapAround:l,itemsToShow:r=1}=t;let p=e;switch(o){case"center":case"center-odd":p-=(r-1)/2;break;case"center-even":p-=(r-2)/2;break;case"end":p-=r-1;break}return l?p:ne({val:p,max:n-r,min:0})}function Ae(t){return t?t.reduce((e,n)=>{var o;return n.type===oe?[...e,...Ae(n.children)]:((o=n.type)===null||o===void 0?void 0:o.name)==="CarouselSlide"?[...e,n]:e},[]):[]}function ae({val:t,max:e,min:n=0}){return t>e?ae({val:t-(e+1),max:e,min:n}):t<n?ae({val:t+(e+1),max:e,min:n}):t}function Ye(t,e){let n;return e?function(...o){const l=this;n||(t.apply(l,o),n=!0,setTimeout(()=>n=!1,e))}:t}function Ue(t,e){let n;return function(...o){n&&clearTimeout(n),n=setTimeout(()=>{t(...o),n=null},e)}}function He(t="",e={}){return Object.entries(e).reduce((n,[o,l])=>n.replace(`{${o}}`,String(l)),t)}var We=L({name:"ARIA",setup(){const t=M("config",V(Object.assign({},f))),e=M("currentSlide",c(0)),n=M("slidesCount",c(0));return()=>C("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},He(t.i18n.itemXofY,{currentSlide:e.value+1,slidesCount:n.value}))}}),ze=L({name:"Carousel",props:we,setup(t,{slots:e,emit:n,expose:o}){var l;const r=c(null),p=c([]),b=c(0),s=c(0),i=V(Object.assign({},f));let h=Object.assign({},f),_;const d=c((l=t.modelValue)!==null&&l!==void 0?l:0),U=c(0),ie=c(0),T=c(0),O=c(0);let I,H;w("config",i),w("slidesCount",s),w("currentSlide",d),w("maxSlide",T),w("minSlide",O),w("slideWidth",b);function W(){_=Object.assign({},t.breakpoints),h=Object.assign(Object.assign(Object.assign({},h),t),{i18n:Object.assign(Object.assign({},h.i18n),t.i18n),breakpoints:void 0}),re(h)}function P(){if(!_||!Object.keys(_).length)return;const a=Object.keys(_).map(u=>Number(u)).sort((u,S)=>+S-+u);let m=Object.assign({},h);a.some(u=>{const S=window.matchMedia(`(min-width: ${u}px)`).matches;return S&&(m=Object.assign(Object.assign({},m),_[u])),S}),re(m)}function re(a){Object.entries(a).forEach(([m,u])=>i[m]=u)}const le=Ue(()=>{P(),j()},16);function j(){if(!r.value)return;const a=r.value.getBoundingClientRect();b.value=a.width/i.itemsToShow}function z(){s.value<=0||(ie.value=Math.ceil((s.value-1)/2),T.value=Re({config:i,slidesCount:s.value}),O.value=Fe({config:i,slidesCount:s.value}),i.wrapAround||(d.value=ne({val:d.value,max:T.value,min:O.value})))}Ee(()=>{De(()=>j()),setTimeout(()=>j(),1e3),P(),ce(),window.addEventListener("resize",le,{passive:!0}),n("init")}),Ne(()=>{H&&clearTimeout(H),I&&clearInterval(I),window.removeEventListener("resize",le,{passive:!0})});let v=!1;const $={x:0,y:0},R={x:0,y:0},x=V({x:0,y:0}),F=c(!1),G=c(!1),Me=()=>{F.value=!0},Te=()=>{F.value=!1};function se(a){["INPUT","TEXTAREA","SELECT"].includes(a.target.tagName)||(v=a.type==="touchstart",v||a.preventDefault(),!(!v&&a.button!==0||A.value)&&($.x=v?a.touches[0].clientX:a.clientX,$.y=v?a.touches[0].clientY:a.clientY,document.addEventListener(v?"touchmove":"mousemove",ue,!0),document.addEventListener(v?"touchend":"mouseup",de,!0)))}const ue=Ye(a=>{G.value=!0,R.x=v?a.touches[0].clientX:a.clientX,R.y=v?a.touches[0].clientY:a.clientY;const m=R.x-$.x,u=R.y-$.y;x.y=u,x.x=m},i.throttle);function de(){const a=i.dir==="rtl"?-1:1,m=Math.sign(x.x)*.4,u=Math.round(x.x/b.value+m)*a;if(u&&!v){const S=K=>{K.stopPropagation(),window.removeEventListener("click",S,!0)};window.addEventListener("click",S,!0)}k(d.value-u),x.x=0,x.y=0,G.value=!1,document.removeEventListener(v?"touchmove":"mousemove",ue,!0),document.removeEventListener(v?"touchend":"mouseup",de,!0)}function ce(){!i.autoplay||i.autoplay<=0||(I=setInterval(()=>{i.pauseAutoplayOnHover&&F.value||X()},i.autoplay))}function me(){I&&(clearInterval(I),I=null),ce()}const A=c(!1);function k(a){const m=i.wrapAround?a:ne({val:a,max:T.value,min:O.value});d.value===m||A.value||(n("slide-start",{slidingToIndex:a,currentSlideIndex:d.value,prevSlideIndex:U.value,slidesCount:s.value}),A.value=!0,U.value=d.value,d.value=m,H=setTimeout(()=>{if(i.wrapAround){const u=ae({val:m,max:T.value,min:0});u!==d.value&&(d.value=u,n("loop",{currentSlideIndex:d.value,slidingToIndex:a}))}n("update:modelValue",d.value),n("slide-end",{currentSlideIndex:d.value,prevSlideIndex:U.value,slidesCount:s.value}),A.value=!1,me()},i.transition))}function X(){k(d.value+i.itemsToScroll)}function Q(){k(d.value-i.itemsToScroll)}const fe={slideTo:k,next:X,prev:Q};w("nav",fe),w("isSliding",A);const pe=be(()=>Xe({config:i,currentSlide:d.value,slidesCount:s.value}));w("slidesToScroll",pe);const Ie=be(()=>{const a=i.dir==="rtl"?-1:1,m=pe.value*b.value*a;return{transform:`translateX(${x.x-m}px)`,transition:`${A.value?i.transition:0}ms`,margin:i.wrapAround?`0 -${s.value*b.value}px`:"",width:"100%"}});function ve(){W(),P(),z(),j(),me()}Object.keys(we).forEach(a=>{["modelValue"].includes(a)||Y(()=>t[a],ve)}),Y(()=>t.modelValue,a=>{a!==d.value&&k(Number(a))}),Y(s,z),n("before-init"),W();const ge={config:i,slidesCount:s,slideWidth:b,next:X,prev:Q,slideTo:k,currentSlide:d,maxSlide:T,minSlide:O,middleSlide:ie};o({updateBreakpointsConfigs:P,updateSlidesData:z,updateSlideWidth:j,initDefaultConfigs:W,restartCarousel:ve,slideTo:k,next:X,prev:Q,nav:fe,data:ge});const q=e.default||e.slides,J=e.addons,he=V(ge);return()=>{const a=Ae(q==null?void 0:q(he)),m=(J==null?void 0:J(he))||[];a.forEach((Z,ee)=>Z.props.index=ee);let u=a;if(i.wrapAround){const Z=a.map((te,E)=>ye(te,{index:-a.length+E,isClone:!0,key:`clone-before-${E}`})),ee=a.map((te,E)=>ye(te,{index:a.length+E,isClone:!0,key:`clone-after-${E}`}));u=[...Z,...a,...ee]}p.value=a,s.value=Math.max(a.length,1);const S=C("ol",{class:"carousel__track",style:Ie.value,onMousedownCapture:i.mouseDrag?se:null,onTouchstartPassiveCapture:i.touchDrag?se:null},u),K=C("div",{class:"carousel__viewport"},S);return C("section",{ref:r,class:{carousel:!0,"is-sliding":A.value,"is-dragging":G.value,"is-hover":F.value,"carousel--rtl":i.dir==="rtl"},dir:i.dir,"aria-label":i.i18n.ariaGallery,tabindex:"0",onMouseenter:Me,onMouseleave:Te},[K,m,C(We)])}}}),_e;(function(t){t.arrowUp="arrowUp",t.arrowDown="arrowDown",t.arrowRight="arrowRight",t.arrowLeft="arrowLeft"})(_e||(_e={}));var Ge=L({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(t,{slots:e}){const n=M("config",V(Object.assign({},f))),o=M("currentSlide",c(0)),l=M("slidesToScroll",c(0)),r=M("isSliding",c(!1)),p=()=>t.index===o.value,b=()=>t.index===o.value-1,s=()=>t.index===o.value+1,i=()=>{const h=Math.floor(l.value),_=Math.ceil(l.value+n.itemsToShow-1);return t.index>=h&&t.index<=_};return()=>{var h;return C("li",{style:{width:`${100/n.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":t.isClone,"carousel__slide--visible":i(),"carousel__slide--active":p(),"carousel__slide--prev":b(),"carousel__slide--next":s(),"carousel__slide--sliding":r.value},"aria-hidden":!i()},(h=e.default)===null||h===void 0?void 0:h.call(e))}}});const Qe=L({__name:"InstagramMediaAlbum",props:{media:{},profile:{},isFromDetail:{type:Boolean}},setup(t){const e=t,n=c(!1);return Y(()=>e.media.list,()=>{let o=!1;for(const l of e.media.list)l.isEditing&&(o=!0);n.value=o},{deep:!0}),(o,l)=>{const r=qe,p=Le,b=Pe;return g(),y(b,{type:"album",media:o.media},{default:B(()=>[Ve(D(ze),{"mouse-drag":!D(n),"touch-drag":!D(n),modelValue:o.media.listIndex,"onUpdate:modelValue":l[0]||(l[0]=s=>o.media.listIndex=s)},{default:B(()=>[(g(!0),xe(oe,null,Be(o.media.list,(s,i)=>(g(),y(D(Ge),{key:i},{default:B(()=>[(g(),y(r,{key:s.id,"context-menu":!1,media:s,profile:o.profile},null,8,["media","profile"]))]),_:2},1024))),128))]),_:1},8,["mouse-drag","touch-drag","modelValue"]),D(n)?N("",!0):(g(),y(p,{key:0,index:o.media.currentIndex,max:o.media.itemsCount},null,8,["index","max"]))]),_:1},8,["media"])}}}),ke=$e(Qe,[["__scopeId","data-v-f2415faa"]]),ot=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"})),qe=L({__name:"InstagramMedia",props:{profile:{},media:{},isFromDetail:{type:Boolean},contextMenu:{type:Boolean}},setup(t){return(e,n)=>{const o=Ce,l=Oe,r=ke,p=je;return g(),xe(oe,null,[(g(),y(Se,null,{default:B(()=>[e.media.type==="image"?(g(),y(o,{key:0,"is-from-detail":e.isFromDetail,"context-menu":e.contextMenu,media:e.media},null,8,["is-from-detail","context-menu","media"])):N("",!0)]),_:1})),(g(),y(Se,null,{default:B(()=>[e.media.type==="video"?(g(),y(l,{key:0,"is-from-detail":e.isFromDetail,"context-menu":e.contextMenu,media:e.media,"cover-selector":""},null,8,["is-from-detail","context-menu","media"])):N("",!0)]),_:1})),e.media.type==="album"?(g(),y(r,{key:0,"is-from-detail":e.isFromDetail,"context-menu":e.contextMenu,media:e.media,profile:e.profile},null,8,["is-from-detail","context-menu","media","profile"])):N("",!0),e.media.type==="iframe"?(g(),y(p,{key:1,"is-from-detail":e.isFromDetail,"context-menu":e.contextMenu,media:e.media},null,8,["is-from-detail","context-menu","media"])):N("",!0)],64)}}});export{ot as I,qe as _};
