import k from"./Bqsu1AgR.js";import C from"./BDwygPSI.js";import{_ as $}from"./BZXKdS6y.js";import b from"./CAAteS_N.js";import{e as w,r as a,n as B,N as T,au as F,o as m,f as n,w as c,$ as u,g as p,c as S,F as V,b as L,i as f,av as N,_ as P}from"./DzU6tBY3.js";import{I as j}from"./B0KQsJhS.js";import"./BYxbuBWu.js";import"./DS5yNIHA.js";import"./BckpoPz3.js";import"./oxuhTGZg.js";import"./IZgN4xn0.js";import"./BWGxs7D6.js";import"./GM7W6N-c.js";import"./D3ujIFEr.js";import"./CHWZ4Uqx.js";import"./DLHZ_LhR.js";import"./D6STa_Ys.js";import"./BWJlFsUe.js";import"./CD6dkQsX.js";import"./DX3HUnJ2.js";import"./CAW3Qq6K.js";import"./fJ3mhqGq.js";import"./C-_y_LLx.js";import"./Y49rgeBv.js";import"./Cdjuna0Z.js";import"./DV7BxZ2f.js";import"./CkzcYOLy.js";import"./CpRKc0Aj.js";import"./CRlsy8Cu.js";import"./DWORzf6T.js";import"./B7aK_e8R.js";import"./BOjQHlWG.js";import"./CdBsexMV.js";import"./Bk8t-r3y.js";import"./DiPFb4F_.js";import"./CGfFnnSs.js";import"./62Q-Ruuu.js";import"./Bw_NLUYS.js";import"./C5WgqCCo.js";import"./CZcy7YR1.js";import"./Cx9ASh2v.js";import"./Bf-a5C7m.js";import"./CyQgF9Mn.js";import"./D3j0TLhE.js";import"./BzDKZLoq.js";import"./CKKb9t-v.js";import"./D5sUJ_ZH.js";import"./BbUP0tWH.js";import"./B7Nbru--.js";import"./B_-HzNye.js";import"./Cz-YXsxs.js";import"./ngWqHPhU.js";import"./CPwY00wI.js";const x=w({__name:"InstagramMediaVideo",props:{media:{},isFromDetail:{type:Boolean},coverSelector:{type:Boolean},playable:{type:Boolean}},setup(v){const t=v,r=a(!1),s=a(t.media.rawFilePath),o=a(null),l=a(0);async function _(e){e&&(t.media.from==="client"&&(t.media.fetch(),s.value=await N(t.media)),t.media.user.hasLocalChanges)}function y(e){o.value&&(o.value.currentTime=e,t.media.setCoverTime(e))}return B(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof t.media.cover=="object"||t.media.cover||(o.value.currentTime=t.media.coverTime,l.value=o.value.duration)},!1)}),T(()=>r.value,e=>{if(!o.value||!t.playable)return!1;e?o.value.play():o.value.pause()}),(e,i)=>{const g=k,I=C,M=$,h=b;return F((m(),n(h,{type:"video",media:e.media},{actions:c(()=>[u(e.$slots,"actions",{},void 0,!0)]),default:c(()=>[!e.media.cover||e.media.coverTime||p(r)?(m(),S(V,{key:0},[L(g,{ref_key:"videoRef",ref:o,src:p(s),onPlaying:i[0]||(i[0]=d=>r.value=d)},null,8,["src"]),e.coverSelector?(m(),n(I,{key:0,media:e.media,"max-length":p(l),onUpdateCoverTime:y},null,8,["media","max-length"])):f("",!0)],64)):typeof e.media.cover=="object"?(m(),n(M,{key:1,media:e.media.cover,onMouseover:i[1]||(i[1]=d=>r.value=!0)},null,8,["media"])):f("",!0),u(e.$slots,"link",{},void 0,!0)]),_:3},8,["media"])),[[j,_]])}}}),xe=P(x,[["__scopeId","data-v-728f3cbf"]]);export{xe as default};
