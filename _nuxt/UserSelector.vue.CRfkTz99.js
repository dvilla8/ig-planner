import B from"./UserSelectorBadgeChanges.DF2sBpAz.js";import E from"./UserSelectorAvatar.BlrgqDuC.js";import{_ as D}from"./UserSelectorMenuOptions.vue.DfZ-yklR.js";import $ from"./UserSelectorMenu.BG2iX9LO.js";import{_ as F}from"./InstagramUserEditorForm.vue.BhOlwKf9.js";import{_ as M}from"./UserEditorDialog.vue.BXSL9Aiq.js";import{F as O,c as P}from"./entry.Dlrc_O8N.js";import{V as N}from"./VIcon.CYG3HdRR.js";import{d as R,r as w,a as z,O as a,P as c,F as A,a1 as u,Q as d,W as l,l as n,R as f,S as I,a2 as L,u as i,V as Q,k as T,a8 as W,n as X}from"./swiper-vue.CEq_1mxI.js";const Y=["textContent"],j=["href"],ne=R({__name:"UserSelector",props:{user:{},add:{type:Boolean}},setup(_){const m=_,g=O(),p=P(),o=w({enabled:!1,x:0,y:0}),r=z(!1);function C(){p.push(m.user.route)}function v(){r.value=!0}function U(e){if(g.mdAndUp.value){p.push(m.user.route);return}o.enabled=!0}function V(e){e.preventDefault(),o.enabled=!1,o.x=e.clientX,o.y=e.clientY,X(()=>{o.enabled=!0})}return(e,t)=>{const k=B,b=E,y=D,S=$,h=F,x=M;return a(),c("div",{class:W(["ig-profile-selector",{"ig-profile-selector--add":e.add}])},[e.user?(a(),c(A,{key:0},[u("a",{class:"cursor-pointer",onClick:U,onContextmenu:V},[(a(),d(I,null,{default:l(()=>[n(b,{avatar:e.user.profile.avatar},{inner:l(()=>[e.user.hasLocalChanges?(a(),d(k,{key:0})):f("",!0)]),_:1},8,["avatar"])]),_:1})),u("h3",{class:"mt-4 text-truncate",textContent:L(e.user.profile.username)},null,8,Y),n(S,{modelValue:i(o).enabled,"onUpdate:modelValue":t[0]||(t[0]=s=>i(o).enabled=s)},{default:l(()=>[n(y,{onOpen:C,onEdit:v,user:e.user},null,8,["user"])]),_:1},8,["modelValue"])],32),u("a",{class:"d-inline-block text-blue-grey-lighten-2 mt-n1",href:e.user.profile.public_profile,target:"_blank"},[n(N,{icon:"mdi-arrow-top-right",size:"14px"})],8,j)],64)):f("",!0),Q(e.$slots,"default"),n(x,{title:"Edit profile",modelValue:i(r),"onUpdate:modelValue":t[2]||(t[2]=s=>T(r)?r.value=s:null)},{default:l(()=>[n(h,{user:e.user,onClose:t[1]||(t[1]=s=>r.value=!1)},null,8,["user"])]),_:1},8,["modelValue"])],2)}}});export{ne as _};
