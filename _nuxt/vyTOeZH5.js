import h from"./DsaVurGa.js";import{_ as B}from"./BBjxpjCP.js";import $ from"./BHVaDGAz.js";import{_ as w}from"./NmsXxER1.js";import T from"./CHkNF0dV.js";import{a0 as F,_ as S}from"./dPoRY_Ej.js";import{I as V}from"./0NkQvLbX.js";import{d as b,a as n,o as E,w as L,af as N,O as a,R as p,X as s,l as P,U as l,W as v,u as m,P as R,F as j,a2 as D}from"./CK7iLweF.js";import"./CuLiE0-h.js";import"./Cj77O3uS.js";import"./SnVavxV8.js";import"./CQHqYdfg.js";import"./C-z3qDZB.js";import"./0m5hMTas.js";import"./CnBKP7eX.js";import"./BFDhNwIC.js";import"./CGwTMAdQ.js";import"./aabXTuTQ.js";import"./-jv96zmD.js";import"./ChJAJD-A.js";import"./H1dTSblg.js";import"./Cebndqes.js";import"./fZhzoxUE.js";import"./DvMHpZA0.js";import"./DqMDLlvY.js";import"./CgnoIz2I.js";import"./JS2tf1Ae.js";import"./B2J41aH4.js";import"./CP3wsncU.js";import"./CsE7lxkw.js";import"./o9Feswjv.js";import"./BmUiFqUX.js";import"./Bkek9Zd7.js";import"./atKZi7Ze.js";import"./Dlcl9wcx.js";import"./CI8PLVK8.js";import"./C_70Vrkl.js";import"./Cp2N3Fo2.js";import"./RsSeRS4-.js";import"./CRxL_m5c.js";import"./C5ys47Nh.js";import"./BvFwyAyL.js";import"./Dj9gKA3h.js";import"./D96Uq7XJ.js";import"./CFTEL6Ie.js";import"./BikHa93N.js";import"./CzW6shqB.js";import"./DOgRhkmK.js";import"./C78WrmcK.js";import"./BN7mLyRc.js";import"./51TtCSug.js";import"./D3j0TLhE.js";import"./DA4-HOcJ.js";import"./BvhOh22m.js";import"./1hvl6TEC.js";import"./BWZTUxWP.js";const U=["src","autoplay"],x=b({__name:"InstagramMediaVideo",props:{media:{},isFromDetail:{type:Boolean},coverSelector:{type:Boolean},playable:{type:Boolean}},setup(f){const t=f,i=n(!1),d=n(t.media.rawFilePath),o=n(null),u=n(0);async function _(e){e&&(t.media.from==="client"&&(t.media.fetch(),d.value=await F(t.media)),t.media.user.hasLocalChanges)}function y(e){o.value&&(o.value.currentTime=e,t.media.setCoverTime(e))}return E(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof t.media.cover=="object"||t.media.cover||(o.value.currentTime=t.media.coverTime,u.value=o.value.duration)},!1)}),L(()=>i.value,e=>{if(!o.value||!t.playable)return!1;e?o.value.play():o.value.pause()}),(e,r)=>{const g=h,k=B,I=$,M=w,C=T;return N((a(),p(C,{type:"video",media:e.media},{actions:s(()=>[P(M,null,{default:s(()=>[e.media.isEditing?(a(),p(I,{key:0,media:e.media},null,8,["media"])):l("",!0)]),_:1}),v(e.$slots,"actions",{},void 0,!0)]),default:s(()=>[!e.media.cover||e.media.coverTime||m(i)?(a(),R(j,{key:0},[D("video",{ref_key:"videoRef",ref:o,src:m(d),autoplay:m(i),onClick:r[0]||(r[0]=c=>i.value=!m(i)),onMouseleave:r[1]||(r[1]=c=>i.value=!1)},null,40,U),e.coverSelector?(a(),p(g,{key:0,media:e.media,"max-length":m(u),onUpdateCoverTime:y},null,8,["media","max-length"])):l("",!0)],64)):typeof e.media.cover=="object"?(a(),p(k,{key:1,media:e.media.cover,onMouseover:r[2]||(r[2]=c=>i.value=!0)},null,8,["media"])):l("",!0),v(e.$slots,"link",{},void 0,!0)]),_:3},8,["media"])),[[V,_]])}}}),Xe=S(x,[["__scopeId","data-v-40853553"]]);export{Xe as default};
