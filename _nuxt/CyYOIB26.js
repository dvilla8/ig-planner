import k from"./CWsIfi2n.js";import C from"./CZ3r4fw_.js";import{_ as w}from"./CxG7jVL2.js";import B from"./Bf8Va6CU.js";import{e as T,r as a,n as $,N as b,ap as F,o as m,f as n,w as c,Y as u,g as p,c as S,F as V,b as L,i as f,aw as N,_ as P}from"./E5Lotu8k.js";import{I as j}from"./CJFQgAGB.js";import"./SMfrPFEP.js";import"./UDctBORl.js";import"./BdgofhbO.js";import"./BqFxQJAm.js";import"./ZRYFhDTm.js";import"./CL06THH1.js";import"./f1i0l8EX.js";import"./DBykGqKj.js";import"./B1xtHul2.js";import"./Cg0wyG4h.js";import"./BdrHDkAB.js";import"./CCLS_QnB.js";import"./3Ea0Ciqz.js";import"./BX2KMrWy.js";import"./zWZEmV6j.js";import"./8A6_4o_c.js";import"./RIzBq6vV.js";import"./CPp6vbZC.js";import"./CvFDJgWP.js";import"./DTFZAb7M.js";import"./CPxeSq1N.js";import"./C2sX7kqN.js";import"./BQXOy2wU.js";import"./CmuIY3bW.js";import"./DYANtTVa.js";import"./BrN4HwZ-.js";import"./TJG9IQrB.js";import"./Cv9QRNAt.js";import"./BWbvqWcY.js";import"./EjOdUeS5.js";import"./BoIhCCii.js";import"./D9nhuUa6.js";import"./kXsJakDB.js";import"./BBKQJL3d.js";import"./C_9YDEd7.js";import"./CTaWBf6m.js";import"./Govj_ncQ.js";import"./Bf4SR8kc.js";import"./B9IUJWPD.js";import"./D9tV1pCT.js";import"./D3j0TLhE.js";import"./BGD3AkmX.js";import"./hdCutp4b.js";import"./CXjyRY6x.js";import"./BRCwu-5n.js";import"./2hc4fsXy.js";import"./DoCg_Zyq.js";import"./lxGouU3c.js";import"./Buj5Nytg.js";const x=T({__name:"InstagramMediaVideo",props:{media:{},isFromDetail:{type:Boolean},coverSelector:{type:Boolean},playable:{type:Boolean}},setup(v){const t=v,r=a(!1),s=a(t.media.rawFilePath),o=a(null),l=a(0);async function _(e){e&&(t.media.from==="client"&&(t.media.fetch(),s.value=await N(t.media)),t.media.user.hasLocalChanges)}function y(e){o.value&&(o.value.currentTime=e,t.media.setCoverTime(e))}return $(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof t.media.cover=="object"||t.media.cover||(o.value.currentTime=t.media.coverTime,l.value=o.value.duration)},!1)}),b(()=>r.value,e=>{if(!o.value||!t.playable)return!1;e?o.value.play():o.value.pause()}),(e,i)=>{const g=k,I=C,M=w,h=B;return F((m(),n(h,{type:"video",media:e.media},{actions:c(()=>[u(e.$slots,"actions",{},void 0,!0)]),default:c(()=>[!e.media.cover||e.media.coverTime||p(r)?(m(),S(V,{key:0},[L(g,{ref_key:"videoRef",ref:o,src:p(s),onPlaying:i[0]||(i[0]=d=>r.value=d)},null,8,["src"]),e.coverSelector?(m(),n(I,{key:0,media:e.media,"max-length":p(l),onUpdateCoverTime:y},null,8,["media","max-length"])):f("",!0)],64)):typeof e.media.cover=="object"?(m(),n(M,{key:1,media:e.media.cover,onMouseover:i[1]||(i[1]=d=>r.value=!0)},null,8,["media"])):f("",!0),u(e.$slots,"link",{},void 0,!0)]),_:3},8,["media"])),[[j,_]])}}}),Ee=P(x,[["__scopeId","data-v-5dc611e5"]]);export{Ee as default};
