import I from"./DdWVrTN1.js";import{_ as M}from"./t-0l6iU1.js";import $ from"./d6kWKB5q.js";import{$ as h,_ as B}from"./uidWOKFN.js";import{I as w}from"./-gTq7tA2.js";import{d as T,a as m,o as b,w as F,af as S,O as n,R as p,X as u,W as c,u as i,P as V,F as L,a2 as P,U as v}from"./CK7iLweF.js";import"./Dw096KTZ.js";import"./BQi5MUGc.js";import"./CKd2q6NV.js";import"./70_il3yZ.js";import"./C7He9ELt.js";import"./DZ_ly6gt.js";import"./BD8nBmdL.js";import"./pzczLKLR.js";import"./Bbc1DvdT.js";import"./DJiKd4Hq.js";import"./C4ZE_NhG.js";import"./B9tKkfB7.js";import"./Dz9HCYM1.js";import"./cO5jRNAc.js";import"./CZnRwH2u.js";import"./BqKQXnOX.js";import"./A5kWAeCv.js";import"./CpeMxHuG.js";import"./j27hezMi.js";import"./bv8SGrX_.js";import"./CVoamYD1.js";import"./DyPePzFH.js";import"./CgnoIz2I.js";import"./D5iKRHkc.js";import"./Der6TxHZ.js";import"./RsSeRS4-.js";import"./DTChFA-J.js";import"./BoK6Ojyb.js";import"./C3sU6UKN.js";import"./BSWnDZX3.js";import"./BVsA5oNm.js";import"./PzckBG7Y.js";import"./DAHp7YFe.js";import"./TcgTKSxv.js";import"./CBE1ptwg.js";import"./C0Yk5HKX.js";import"./HFtvmGQj.js";import"./BZdAUM-3.js";import"./D3j0TLhE.js";import"./sav16url.js";import"./B2hBzA6h.js";import"./DY0Ihueq.js";import"./D8AmzvVR.js";import"./DBUFNy6-.js";const R=["src","autoplay"],j=T({__name:"InstagramMediaVideo",props:{media:{},isFromDetail:{type:Boolean},coverSelector:{type:Boolean},playable:{type:Boolean}},setup(f){const t=f,r=m(!1),s=m(t.media.rawFilePath),o=m(null),l=m(0);async function _(e){e&&(t.media.from==="client"&&(t.media.fetch(),s.value=await h(t.media)),t.media.user.hasLocalChanges)}function y(e){o.value&&(o.value.currentTime=e,t.media.setCoverTime(e))}return b(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof t.media.cover=="object"||t.media.cover||(o.value.currentTime=t.media.coverTime,l.value=o.value.duration)},!1)}),F(()=>r.value,e=>{if(!o.value||!t.playable)return!1;e?o.value.play():o.value.pause()}),(e,a)=>{const g=I,k=M,C=$;return S((n(),p(C,{type:"video",media:e.media},{actions:u(()=>[c(e.$slots,"actions",{},void 0,!0)]),default:u(()=>[!e.media.cover||e.media.coverTime||i(r)?(n(),V(L,{key:0},[P("video",{ref_key:"videoRef",ref:o,src:i(s),autoplay:i(r),onClick:a[0]||(a[0]=d=>r.value=!i(r)),onMouseleave:a[1]||(a[1]=d=>r.value=!1)},null,40,R),e.coverSelector?(n(),p(g,{key:0,media:e.media,"max-length":i(l),onUpdateCoverTime:y},null,8,["media","max-length"])):v("",!0)],64)):typeof e.media.cover=="object"?(n(),p(k,{key:1,media:e.media.cover,onMouseover:a[2]||(a[2]=d=>r.value=!0)},null,8,["media"])):v("",!0),c(e.$slots,"link",{},void 0,!0)]),_:3},8,["media"])),[[w,_]])}}}),Le=B(j,[["__scopeId","data-v-ab36e511"]]);export{Le as default};
