import k from"./cZIBsNAX.js";import C from"./RR-VJrFo.js";import{_ as w}from"./BoeeBnLI.js";import B from"./B1Qqzk3b.js";import{e as T,r as a,n as $,N as b,ar as F,o as m,f as n,w as c,Z as u,g as p,c as S,F as V,b as E,i as f,aE as L,_ as N}from"./C9j35KK9.js";import{I as P}from"./DDhlrQgV.js";import"./CrTLWfON.js";import"./BC1tTZIE.js";import"./BcO4HMLB.js";import"./DT_k8Ksj.js";import"./NOxhSdmF.js";import"./B9GxKqc9.js";import"./Ch6VYACP.js";import"./BD0miwB2.js";import"./BPG55ajZ.js";import"./C-36LrTt.js";import"./wjBXyAAh.js";import"./CstALlm4.js";import"./DTUtmRYW.js";import"./CXsbZany.js";import"./8n97loMN.js";import"./Y655z9Rr.js";import"./Dd3GiGZ3.js";import"./74WDUIk0.js";import"./CRkQD9Vu.js";import"./C03rp0Wp.js";import"./D-AeHYCc.js";import"./DufOT4eb.js";import"./PREcdjdz.js";import"./B1PVAuNG.js";import"./BdeAwghj.js";import"./kX5b-xsn.js";import"./D4-kWMxA.js";import"./CG1WuBLN.js";import"./B53jymlo.js";import"./CD40WILW.js";import"./Po63R0xt.js";import"./BfDpVUms.js";import"./pB9KMkfR.js";import"./SeThopL2.js";import"./bQGVahgb.js";import"./BxuWjdfN.js";import"./CsjtS-ja.js";import"./iV4SJcUR.js";import"./CZDjzeCz.js";import"./BVe6K9i-.js";import"./D3j0TLhE.js";import"./D_BqIkRL.js";import"./CRG_Yqa4.js";import"./jFbDlT-s.js";import"./Be5yYsov.js";import"./B4fqpJgb.js";import"./DKLDvEUE.js";import"./C7I9iVvx.js";import"./D23yrlcV.js";const j=T({__name:"InstagramMediaVideo",props:{media:{},isFromDetail:{type:Boolean},coverSelector:{type:Boolean},playable:{type:Boolean}},setup(v){const t=v,r=a(!1),s=a(t.media.rawFilePath),o=a(null),l=a(0);async function _(e){e&&(t.media.from==="client"&&(t.media.fetch(),s.value=await L(t.media)),t.media.user.hasLocalChanges)}function y(e){o.value&&(o.value.currentTime=e,t.media.setCoverTime(e))}return $(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof t.media.cover=="object"||t.media.cover||(o.value.currentTime=t.media.coverTime,l.value=o.value.duration)},!1)}),b(()=>r.value,e=>{if(!o.value||!t.playable)return!1;e?o.value.play():o.value.pause()}),(e,i)=>{const g=k,I=C,M=w,h=B;return F((m(),n(h,{type:"video",media:e.media},{actions:c(()=>[u(e.$slots,"actions",{},void 0,!0)]),default:c(()=>[!e.media.cover||e.media.coverTime||p(r)?(m(),S(V,{key:0},[E(g,{ref_key:"videoRef",ref:o,src:p(s),onPlaying:i[0]||(i[0]=d=>r.value=d)},null,8,["src"]),e.coverSelector?(m(),n(I,{key:0,media:e.media,"max-length":p(l),onUpdateCoverTime:y},null,8,["media","max-length"])):f("",!0)],64)):typeof e.media.cover=="object"?(m(),n(M,{key:1,media:e.media.cover,onMouseover:i[1]||(i[1]=d=>r.value=!0)},null,8,["media"])):f("",!0),u(e.$slots,"link",{},void 0,!0)]),_:3},8,["media"])),[[P,_]])}}}),De=N(j,[["__scopeId","data-v-5dc611e5"]]);export{De as default};
