import se from"./ll1W4JX4.js";import ue from"./C8zAY9J6.js";import ce from"./BI5-j3Bj.js";import ve from"./B8tw6_Iv.js";import me from"./DnQza6Ar.js";import{_ as de}from"./D8oSgIvd.js";import fe from"./C-EAG708.js";import ge from"./Bsai-PIY.js";import he from"./wq1kHZV_.js";import pe from"./Dz_WV89-.js";import ye from"./XDQwmuPV.js";import{O as we,ay as _e,an as O,t as be,v as ke,az as Se,am as Ee,E as Ce,x as Ie,Z as xe,F as Te,au as Me,J as Ve,ao as Pe,G as $e,z as Be,A as De,a as Re}from"./uidWOKFN.js";import{V as W}from"./DyPePzFH.js";import{a as x}from"./A5kWAeCv.js";import{V as He}from"./DBUFNy6-.js";import{s as B,j as b,o as te,w as L,M as ae,m as Le,I as Ne,t as G,a as Ye,l as o,z as J,N as Oe,F as We,n as ze,d as Ae,O as R,R as H,X as _,u as z,U as A,S as Xe}from"./CK7iLweF.js";import{m as Ue,u as Fe}from"./j27hezMi.js";import{a as K}from"./70_il3yZ.js";import{b as Ze,u as je,c as qe}from"./BZdAUM-3.js";import{m as Ge,u as Je}from"./Dw096KTZ.js";import{m as Ke,u as Qe}from"./BQi5MUGc.js";import{a as et}from"./bv8SGrX_.js";import{u as tt}from"./CgnoIz2I.js";import{m as at}from"./pzczLKLR.js";import{t as nt}from"./sav16url.js";import{a as ot}from"./B9tKkfB7.js";import{V as lt}from"./cO5jRNAc.js";function rt(e){let{rootEl:c,isSticky:s,layoutItemStyles:C}=e;const t=B(!1),a=B(0),n=b(()=>{const y=typeof t.value=="boolean"?"top":t.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[y]:we(a.value)}:{top:C.value.top}]});te(()=>{L(s,y=>{y?window.addEventListener("scroll",S,{passive:!0}):window.removeEventListener("scroll",S)},{immediate:!0})}),ae(()=>{window.removeEventListener("scroll",S)});let g=0;function S(){const y=g>window.scrollY?"up":"down",m=c.value.getBoundingClientRect(),d=parseFloat(C.value.top??0),v=window.scrollY-Math.max(0,a.value-d),f=m.height+Math.max(a.value,d)-window.scrollY-window.innerHeight,h=parseFloat(getComputedStyle(c.value).getPropertyValue("--v-body-scroll-y"))||0;m.height<window.innerHeight-d?(t.value="top",a.value=d):y==="up"&&t.value==="bottom"||y==="down"&&t.value==="top"?(a.value=window.scrollY+m.top-h,t.value=!0):y==="down"&&f<=0?(a.value=0,t.value="bottom"):y==="up"&&v<=0&&(h?t.value!=="top"&&(a.value=-v+h+d,t.value="top"):(a.value=m.top+v,t.value="top")),g=window.scrollY}return{isStuck:t,stickyStyles:n}}const it=100,st=20;function Q(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ee(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let c=0;for(let s=e.length-1;s>0;s--){if(e[s].t===e[s-1].t)continue;const C=Q(c),t=(e[s].d-e[s-1].d)/(e[s].t-e[s-1].t);c+=(t-C)*Math.abs(t),s===e.length-1&&(c*=.5)}return Q(c)*1e3}function ut(){const e={};function c(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new _e(st))).push([t.timeStamp,a])})}function s(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function C(t){var y;const a=(y=e[t])==null?void 0:y.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const n=a[0],g=[],S=[];for(const m of a){if(n[0]-m[0]>it)break;g.push({t:m[0],d:m[1].clientX}),S.push({t:m[0],d:m[1].clientY})}return{x:ee(g),y:ee(S),get direction(){const{x:m,y:d}=this,[v,f]=[Math.abs(m),Math.abs(d)];return v>f&&m>=0?"right":v>f&&m<=0?"left":f>v&&d>=0?"down":f>v&&d<=0?"up":ct()}}}return{addMovement:c,endTouch:s,getVelocity:C}}function ct(){throw new Error}function vt(e){let{el:c,isActive:s,isTemporary:C,width:t,touchless:a,position:n}=e;te(()=>{window.addEventListener("touchstart",I,{passive:!0}),window.addEventListener("touchmove",V,{passive:!1}),window.addEventListener("touchend",N,{passive:!0})}),ae(()=>{window.removeEventListener("touchstart",I),window.removeEventListener("touchmove",V),window.removeEventListener("touchend",N)});const g=b(()=>["left","right"].includes(n.value)),{addMovement:S,endTouch:y,getVelocity:m}=ut();let d=!1;const v=B(!1),f=B(0),h=B(0);let k;function T(l,r){return(n.value==="left"?l:n.value==="right"?document.documentElement.clientWidth-l:n.value==="top"?l:n.value==="bottom"?document.documentElement.clientHeight-l:$())-(r?t.value:0)}function M(l){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=n.value==="left"?(l-h.value)/t.value:n.value==="right"?(document.documentElement.clientWidth-l-h.value)/t.value:n.value==="top"?(l-h.value)/t.value:n.value==="bottom"?(document.documentElement.clientHeight-l-h.value)/t.value:$();return r?Math.max(0,Math.min(1,i)):i}function I(l){if(a.value)return;const r=l.changedTouches[0].clientX,i=l.changedTouches[0].clientY,u=25,w=n.value==="left"?r<u:n.value==="right"?r>document.documentElement.clientWidth-u:n.value==="top"?i<u:n.value==="bottom"?i>document.documentElement.clientHeight-u:$(),p=s.value&&(n.value==="left"?r<t.value:n.value==="right"?r>document.documentElement.clientWidth-t.value:n.value==="top"?i<t.value:n.value==="bottom"?i>document.documentElement.clientHeight-t.value:$());(w||p||s.value&&C.value)&&(k=[r,i],h.value=T(g.value?r:i,s.value),f.value=M(g.value?r:i),d=h.value>-20&&h.value<80,y(l),S(l))}function V(l){const r=l.changedTouches[0].clientX,i=l.changedTouches[0].clientY;if(d){if(!l.cancelable){d=!1;return}const w=Math.abs(r-k[0]),p=Math.abs(i-k[1]);(g.value?w>p&&w>3:p>w&&p>3)?(v.value=!0,d=!1):(g.value?p:w)>3&&(d=!1)}if(!v.value)return;l.preventDefault(),S(l);const u=M(g.value?r:i,!1);f.value=Math.max(0,Math.min(1,u)),u>1?h.value=T(g.value?r:i,!0):u<0&&(h.value=T(g.value?r:i,!1))}function N(l){if(d=!1,!v.value)return;S(l),v.value=!1;const r=m(l.changedTouches[0].identifier),i=Math.abs(r.x),u=Math.abs(r.y);(g.value?i>u&&i>400:u>i&&u>3)?s.value=r.direction===({left:"right",right:"left",top:"down",bottom:"up"}[n.value]||$()):s.value=f.value>.5}const D=b(()=>v.value?{transform:n.value==="left"?`translateX(calc(-100% + ${f.value*t.value}px))`:n.value==="right"?`translateX(calc(100% - ${f.value*t.value}px))`:n.value==="top"?`translateY(calc(-100% + ${f.value*t.value}px))`:n.value==="bottom"?`translateY(calc(100% - ${f.value*t.value}px))`:$(),transition:"none"}:void 0);return O(v,()=>{var i,u;const l=((i=c.value)==null?void 0:i.style.transform)??null,r=((u=c.value)==null?void 0:u.style.transition)??null;Le(()=>{var w,p,P,Y;(p=c.value)==null||p.style.setProperty("transform",((w=D.value)==null?void 0:w.transform)||"none"),(Y=c.value)==null||Y.style.setProperty("transition",((P=D.value)==null?void 0:P.transition)||null)}),Ne(()=>{var w,p;(w=c.value)==null||w.style.setProperty("transform",l),(p=c.value)==null||p.style.setProperty("transition",r)})}),{isDragging:v,dragProgress:f,dragStyles:D}}function $(){throw new Error}const mt=["start","end","left","right","top","bottom"],dt=be({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>mt.includes(e)},sticky:Boolean,...Ue(),...ke(),...Ze(),...Se({mobile:null}),...Ge(),...Ee(),...Ke(),...at({tag:"nav"}),...Ce()},"VNavigationDrawer"),ft=Ie()({name:"VNavigationDrawer",props:dt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,c){let{attrs:s,emit:C,slots:t}=c;const{isRtl:a}=xe(),{themeClasses:n}=Te(e),{borderClasses:g}=Fe(e),{backgroundColorClasses:S,backgroundColorStyles:y}=K(G(e,"color")),{elevationClasses:m}=Je(e),{displayClasses:d,mobile:v}=Me(e),{roundedClasses:f}=Qe(e),h=et(),k=Ve(e,"modelValue",null,E=>!!E),{ssrBootStyles:T}=tt(),{scopeId:M}=je(),I=Ye(),V=B(!1),{runOpenDelay:N,runCloseDelay:D}=qe(e,E=>{V.value=E}),l=b(()=>e.rail&&e.expandOnHover&&V.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),r=b(()=>nt(e.location,a.value)),i=b(()=>e.persistent),u=b(()=>!e.permanent&&(v.value||e.temporary)),w=b(()=>e.sticky&&!u.value&&r.value!=="bottom");O(()=>e.expandOnHover&&e.rail!=null,()=>{L(V,E=>C("update:rail",!E))}),O(()=>!e.disableResizeWatcher,()=>{L(u,E=>!e.permanent&&ze(()=>k.value=!E))}),O(()=>!e.disableRouteWatcher&&!!h,()=>{L(h.currentRoute,()=>u.value&&(k.value=!1))}),L(()=>e.permanent,E=>{E&&(k.value=!0)}),e.modelValue==null&&!u.value&&(k.value=e.permanent||!v.value);const{isDragging:p,dragProgress:P}=vt({el:I,isActive:k,isTemporary:u,width:l,touchless:G(e,"touchless"),position:r}),Y=b(()=>{const E=u.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):l.value;return p.value?E*P.value:E}),ne=b(()=>["top","bottom"].includes(e.location)?0:l.value),{layoutItemStyles:X,layoutItemScrimStyles:oe,layoutIsReady:le}=Pe({id:e.name,order:b(()=>parseInt(e.order,10)),position:r,layoutSize:Y,elementSize:ne,active:b(()=>k.value||p.value),disableTransitions:b(()=>p.value),absolute:b(()=>e.absolute||w.value&&typeof U.value!="string")}),{isStuck:U,stickyStyles:re}=rt({rootEl:I,isSticky:w,layoutItemStyles:X}),F=K(b(()=>typeof e.scrim=="string"?e.scrim:null)),ie=b(()=>({...p.value?{opacity:P.value*.2,transition:"none"}:void 0,...oe.value}));return $e({VList:{bgColor:"transparent"}}),Be(()=>{const E=t.image||e.image;return o(We,null,[o(e.tag,J({ref:I,onMouseenter:N,onMouseleave:D,class:["v-navigation-drawer",`v-navigation-drawer--${r.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":V.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":u.value,"v-navigation-drawer--persistent":i.value,"v-navigation-drawer--active":k.value,"v-navigation-drawer--sticky":w.value},n.value,S.value,g.value,d.value,m.value,f.value,e.class],style:[y.value,X.value,T.value,re.value,e.style,["top","bottom"].includes(r.value)?{height:"auto"}:{}]},M,s),{default:()=>{var Z,j,q;return[E&&o("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?o(lt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):o(ot,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&o("div",{class:"v-navigation-drawer__prepend"},[(Z=t.prepend)==null?void 0:Z.call(t)]),o("div",{class:"v-navigation-drawer__content"},[(j=t.default)==null?void 0:j.call(t)]),t.append&&o("div",{class:"v-navigation-drawer__append"},[(q=t.append)==null?void 0:q.call(t)])]}}),o(Oe,{name:"fade-transition"},{default:()=>[u.value&&(p.value||k.value)&&!!e.scrim&&o("div",J({class:["v-navigation-drawer__scrim",F.backgroundColorClasses.value],style:[ie.value,F.backgroundColorStyles.value],onClick:()=>{i.value||(k.value=!1)}},M),null)]})])}),le.then(()=>({isStuck:U}))}}),zt=Ae({__name:"InstagramNavigationDrawerVertical",props:{user:{}},emits:["create","export"],setup(e,{emit:c}){const s=De(),C=Re(),t=c;return(a,n)=>{const g=se,S=ue,y=ce,m=ve,d=me,v=de,f=fe,h=ge,k=he,T=pe,M=ye;return R(),H(ft,{class:"ig-navigation-drawer",permanent:a.$vuetify.display.smAndUp,rail:a.$vuetify.display.mdAndDown,width:244,"rail-width":72},{default:_(()=>[z(s).options.appBar?A("",!0):(R(),H(W,{key:0,class:"pt-7 pb-1 hidden-md-and-down"},{default:_(()=>[o(x,null,{default:_(()=>[o(g)]),_:1})]),_:1})),o(W,{density:"compact",nav:"",class:"mt-2 mt-lg-0"},{default:_(()=>[o(x,{title:a.$t("instagram.navigation.home"),to:"/"},{prepend:_(()=>[o(S)]),_:1},8,["title"]),o(x,{title:a.$t("instagram.navigation.source"),href:z(C).project.links.source,target:"_blank"},{prepend:_(()=>[o(y)]),_:1},8,["title","href"]),o(x,{title:a.$t("instagram.navigation.explore"),href:z(C).project.links.docs,target:"_blank"},{prepend:_(()=>[o(m)]),_:1},8,["title","href"]),o(x,{title:a.$t("instagram.navigation.support")},{prepend:_(()=>[o(d)]),default:_(()=>[o(v)]),_:1},8,["title"]),o(x,{title:a.$t("instagram.navigation.create"),onClick:n[0]||(n[0]=I=>t("create"))},{prepend:_(()=>[o(f)]),_:1},8,["title"]),o(x,{title:a.$t("instagram.navigation.profile"),to:a.user.route},{prepend:_(()=>[(R(),H(Xe,null,{default:_(()=>[o(h,{avatar:a.user.profile.avatar,size:26},null,8,["avatar"])]),_:1}))]),_:1},8,["title","to"])]),_:1}),o(W,{density:"compact",nav:"",class:"ig-navigation-drawer__list-bottom"},{default:_(()=>[a.user.hasUnsavedChanges?(R(),H(x,{key:0,title:a.$t("instagram.navigation.save"),onClick:n[1]||(n[1]=I=>a.user.save()),"base-color":"primary"},{prepend:_(()=>[o(k)]),_:1},8,["title"])):A("",!0),!a.user.hasUnsavedChanges&&a.user.hasLocalChanges?(R(),H(x,{key:1,title:a.$t("instagram.navigation.export"),onClick:n[2]||(n[2]=I=>t("export")),"base-color":"primary"},{prepend:_(()=>[o(T)]),default:_(()=>[o(He,{"max-width":700,activator:"parent"},{default:_(()=>[o(M,{user:a.user},null,8,["user"])]),_:1})]),_:1},8,["title"])):A("",!0)]),_:1})]),_:1},8,["permanent","rail"])}}});export{zt as _};
