import h from"./Ds3V1-ns.js";import{_ as B}from"./Cgxr3X8L.js";import $ from"./6rVjVY3e.js";import{_ as w}from"./BfRkHJtf.js";import T from"./Bg8-Sgmr.js";import{a0 as F,_ as S}from"./CRpqz8yI.js";import{I as V}from"./BCCc7GLW.js";import{d as b,a as n,o as E,w as L,af as N,O as a,R as p,X as s,l as P,U as l,W as v,u as m,P as R,F as j,a2 as D}from"./CK7iLweF.js";import"./B5Uu4jFc.js";import"./D206kmKp.js";import"./CuoQITf2.js";import"./DezkSz8x.js";import"./CFkBoKf8.js";import"./Db3nJL4g.js";import"./BDQvI-9p.js";import"./B8NjqwzN.js";import"./BDYgW8Ju.js";import"./Bl6etzlc.js";import"./DqRtF1LH.js";import"./2YY5Pi3t.js";import"./DADDj8_I.js";import"./DTpDS_Zw.js";import"./SJNkyVxb.js";import"./CGLHywox.js";import"./Bom0cUgX.js";import"./CgnoIz2I.js";import"./BoAWBOg4.js";import"./DLUPeVZU.js";import"./T4C0KPSm.js";import"./DApID8cU.js";import"./hyDlbcwj.js";import"./i6XE07lp.js";import"./CnSmPkBm.js";import"./I6_EK5XL.js";import"./BWTFfEJR.js";import"./CK6W2MhI.js";import"./CDXmbqa6.js";import"./DarvpgWS.js";import"./RsSeRS4-.js";import"./BEMUvhzQ.js";import"./BS4hT6gC.js";import"./C7LhRAa-.js";import"./CzhrwhTj.js";import"./Cciw3F8R.js";import"./C83OOzSt.js";import"./CnULLbNG.js";import"./DupgQPVV.js";import"./Dtzxusvx.js";import"./C3rpwOij.js";import"./BoTb6Hf9.js";import"./BD9l7rq-.js";import"./D3j0TLhE.js";import"./DFxlo189.js";import"./BEHwNRvf.js";import"./DsDkaj_A.js";import"./mXzWqpcV.js";const U=["src","autoplay"],x=b({__name:"InstagramMediaVideo",props:{media:{},isFromDetail:{type:Boolean},coverSelector:{type:Boolean},playable:{type:Boolean}},setup(f){const t=f,i=n(!1),d=n(t.media.rawFilePath),o=n(null),u=n(0);async function _(e){e&&(t.media.from==="client"&&(t.media.fetch(),d.value=await F(t.media)),t.media.user.hasLocalChanges)}function y(e){o.value&&(o.value.currentTime=e,t.media.setCoverTime(e))}return E(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof t.media.cover=="object"||t.media.cover||(o.value.currentTime=t.media.coverTime,u.value=o.value.duration)},!1)}),L(()=>i.value,e=>{if(!o.value||!t.playable)return!1;e?o.value.play():o.value.pause()}),(e,r)=>{const g=h,k=B,I=$,M=w,C=T;return N((a(),p(C,{type:"video",media:e.media},{actions:s(()=>[P(M,null,{default:s(()=>[e.media.isEditing?(a(),p(I,{key:0,media:e.media},null,8,["media"])):l("",!0)]),_:1}),v(e.$slots,"actions",{},void 0,!0)]),default:s(()=>[!e.media.cover||e.media.coverTime||m(i)?(a(),R(j,{key:0},[D("video",{ref_key:"videoRef",ref:o,src:m(d),autoplay:m(i),onClick:r[0]||(r[0]=c=>i.value=!m(i)),onMouseleave:r[1]||(r[1]=c=>i.value=!1)},null,40,U),e.coverSelector?(a(),p(g,{key:0,media:e.media,"max-length":m(u),onUpdateCoverTime:y},null,8,["media","max-length"])):l("",!0)],64)):typeof e.media.cover=="object"?(a(),p(k,{key:1,media:e.media.cover,onMouseover:r[2]||(r[2]=c=>i.value=!0)},null,8,["media"])):l("",!0),v(e.$slots,"link",{},void 0,!0)]),_:3},8,["media"])),[[V,_]])}}}),Xe=S(x,[["__scopeId","data-v-40853553"]]);export{Xe as default};
