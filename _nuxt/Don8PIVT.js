import $ from"./CiXgRJsA.js";import{_ as b}from"./BGPALSeb.js";import w from"./B7JFS6z9.js";import D from"./7dhFsGZi.js";import{_ as F}from"./BGHP8HFC.js";import{_ as M}from"./F5ifG-s6.js";import{bJ as N,r as d,e as O,bh as x,l as A,ag as R,y as z,o as r,c,F as H,b as s,a as p,f as i,w as t,h as f,a2 as I,t as J,$ as L,g as j,a5 as q,a7 as G}from"./Cirpr_rb.js";const K=N("home",()=>{const n=d("");function a(u){n.value=u}return{profilePreview:n,setProfilePreview:a}}),Q=["textContent"],re=O({__name:"UserSelector",props:{user:{},add:{type:Boolean}},setup(n){const a=n,u=x(),_=A(),v=K(),C=R({enabled:!1,x:0,y:0}),o=d(!1);function U(){_.push(a.user.route)}function g(){o.value=!0}function S(e){if(u.mdAndUp.value){v.setProfilePreview(a.user.profile.username);return}C.enabled=!0}return(e,l)=>{const h=z("router-link"),k=$,y=b,P=w,B=D,E=F,V=M;return r(),c("div",{class:G(["dx-profile-selector",{"dx-profile-selector--add":e.add}])},[e.user?(r(),c(H,{key:0},[s(h,{to:e.user.route},null,8,["to"]),p("a",{class:"cursor-pointer",onClick:S},[(r(),i(I,null,{default:t(()=>[(r(),i(B,{key:e.user.profile.avatar,avatar:e.user.profile.avatar},{inner:t(()=>[e.user.hasLocalChanges||e.user.hasUnsavedChanges?(r(),i(k,{key:0})):f("",!0)]),default:t(()=>[s(P,{offset:[56,0]},{default:t(()=>[s(y,{onOpen:U,onEdit:g,user:e.user},null,8,["user"])]),_:1})]),_:1},8,["avatar"]))]),_:1})),p("h3",{class:"mt-4 text-truncate",textContent:J(e.user.profile.username)},null,8,Q)])],64)):f("",!0),L(e.$slots,"default"),s(V,{edit:"",modelValue:j(o),"onUpdate:modelValue":l[1]||(l[1]=m=>q(o)?o.value=m:null)},{default:t(()=>[s(E,{user:e.user,onClose:l[0]||(l[0]=m=>o.value=!1)},null,8,["user"])]),_:1},8,["modelValue"])],2)}}});export{re as _,K as u};
