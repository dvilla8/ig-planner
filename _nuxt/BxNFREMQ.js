import k from"./C4mbDRrT.js";import C from"./C-cLcNuz.js";import{_ as w}from"./D7IUFf3m.js";import b from"./BKPJV_Bq.js";import{e as B,r as a,p as T,O as $,av as F,o as m,f as n,w as c,a0 as u,g as p,c as S,F as V,b as L,i as f,aw as P,_ as j}from"./BAgJTPCY.js";import{I as x}from"./L3Oa6Eew.js";import"./Pody7Cwd.js";import"./BRJnsx2H.js";import"./SyJ24oWW.js";import"./CQCLguji.js";import"./BXY8U6uZ.js";import"./Dda4eAul.js";import"./DUX6kXF7.js";import"./DkArpjpE.js";import"./D33MwBkb.js";import"./CUtWTyHb.js";import"./Ct7QJkFU.js";import"./Dk40Fv1U.js";import"./Ba-Iz1SQ.js";import"./B3Kx93vj.js";import"./DSFUUR8i.js";import"./CnNKq3mn.js";import"./DZBGxpGD.js";import"./C97GTgZY.js";import"./BlDwg--l.js";import"./Dg8Wk_Zl.js";import"./CQBwIKM0.js";import"./DrXi-Mo4.js";import"./B4TIUx0m.js";import"./CC3POJ3_.js";import"./DddfFZm9.js";import"./BaYpOGR7.js";import"./2dUuEcIf.js";import"./Bo-s1bJW.js";import"./DzO8wdhI.js";import"./BgUJBIra.js";import"./D0BRjMCG.js";import"./CL318zfL.js";import"./BIa9o91p.js";import"./CB9NJUCs.js";import"./C3PuQyzg.js";import"./BS4KZCza.js";import"./C9ccMysN.js";import"./D3j0TLhE.js";import"./D9Uk0Ajw.js";import"./BYlDphR_.js";import"./C8l9b6sV.js";import"./tU-n9eBD.js";import"./RtClVCWd.js";import"./CUh_mLx0.js";import"./TWnc7hqs.js";import"./cDT63ohj.js";import"./BIwnl50T.js";const D=B({__name:"InstagramMediaVideo",props:{media:{},isFromDetail:{type:Boolean},coverSelector:{type:Boolean},playable:{type:Boolean}},setup(v){const t=v,r=a(!1),s=a(t.media.rawFilePath),o=a(null),l=a(0);async function _(e){e&&(t.media.from==="client"&&(t.media.fetch(),s.value=await P(t.media)),t.media.user.hasLocalChanges)}function y(e){o.value&&(o.value.currentTime=e,t.media.setCoverTime(e))}return T(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof t.media.cover=="object"||t.media.cover||(o.value.currentTime=t.media.coverTime,l.value=o.value.duration)},!1)}),$(()=>r.value,e=>{if(!o.value||!t.playable)return!1;e?o.value.play():o.value.pause()}),(e,i)=>{const g=k,I=C,M=w,h=b;return F((m(),n(h,{type:"video",media:e.media},{actions:c(()=>[u(e.$slots,"actions",{},void 0,!0)]),default:c(()=>[!e.media.cover||e.media.coverTime||p(r)?(m(),S(V,{key:0},[L(g,{ref_key:"videoRef",ref:o,src:p(s),onPlaying:i[0]||(i[0]=d=>r.value=d)},null,8,["src"]),e.coverSelector?(m(),n(I,{key:0,media:e.media,"max-length":p(l),onUpdateCoverTime:y},null,8,["media","max-length"])):f("",!0)],64)):typeof e.media.cover=="object"?(m(),n(M,{key:1,media:e.media.cover,onMouseover:i[1]||(i[1]=d=>r.value=!0)},null,8,["media"])):f("",!0),u(e.$slots,"link",{},void 0,!0)]),_:3},8,["media"])),[[x,_]])}}}),De=j(D,[["__scopeId","data-v-728f3cbf"]]);export{De as default};
