import h from"./MwaL4JZC.js";import{_ as B}from"./Dwk_qTF1.js";import $ from"./Cv2N7eyC.js";import{_ as w}from"./BIUlLn4O.js";import T from"./B6vPLTeE.js";import{U as V,_ as F}from"./Dd-faj7m.js";import{I as S}from"./ChByEAEK.js";import{d as b,a as n,o as E,w as L,ag as N,Q as r,V as p,Z as s,l as R,W as l,Y as v,u as m,R as j,F as D,a4 as P}from"./D-drnA8r.js";import"./DKJK53Zu.js";import"./TGtU8jwX.js";import"./B9yH2Teu.js";import"./DofQ3S8r.js";import"./D1-bPjlE.js";import"./CzjbTdkh.js";import"./Br0iRF_1.js";import"./BTSmHasN.js";import"./DmbCR1Vh.js";import"./e-b6r3FX.js";import"./CL78NNqA.js";import"./DqdUkXJR.js";import"./DU9aVLxN.js";import"./D2UNT5-5.js";import"./BqPeQ3OS.js";import"./DKQXYXU0.js";import"./DZ_MvYd2.js";import"./-39vNLdD.js";import"./Cez0OCOh.js";import"./CGDHALbh.js";import"./Bt7BcWMy.js";import"./Ch7SuEvu.js";import"./DcG8lQgK.js";import"./DjGaZexw.js";import"./DGyyzVgE.js";import"./BnQhMgC1.js";import"./DTstG5YK.js";import"./Dc3oaTmH.js";import"./Cjfrz8xr.js";import"./CdXuOicC.js";import"./Dcz82Gas.js";import"./FVm7xSwu.js";import"./DTQqVzeQ.js";import"./b8heBMV3.js";import"./BtL2H_J7.js";import"./AtQRDx59.js";import"./iCRmZQ5L.js";import"./ediUwlbW.js";import"./BXKrKLQt.js";import"./BXJgAkfF.js";import"./B0c7oaXh.js";import"./CWAbISqI.js";import"./D3j0TLhE.js";import"./B3DivGIr.js";const U=["src","autoplay"],x=b({__name:"InstagramMediaVideo",props:{media:{},isFromDetail:{type:Boolean},coverSelector:{type:Boolean},playable:{type:Boolean}},setup(f){const t=f,i=n(!1),d=n(t.media.rawFilePath),o=n(null),u=n(0);async function _(e){e&&(t.media.from==="client"&&(t.media.fetch(),d.value=await V(t.media)),t.media.user.hasLocalChanges)}function y(e){o.value&&(o.value.currentTime=e,t.media.setCoverTime(e))}return E(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof t.media.cover=="object"||t.media.cover||(o.value.currentTime=t.media.coverTime,u.value=o.value.duration)},!1)}),L(()=>i.value,e=>{if(!o.value||!t.playable)return!1;e?o.value.play():o.value.pause()}),(e,a)=>{const g=h,k=B,I=$,M=w,C=T;return N((r(),p(C,{type:"video",media:e.media},{actions:s(()=>[R(M,null,{default:s(()=>[e.media.isEditing?(r(),p(I,{key:0,media:e.media},null,8,["media"])):l("",!0)]),_:1}),v(e.$slots,"actions",{},void 0,!0)]),default:s(()=>[!e.media.cover||e.media.coverTime||m(i)?(r(),j(D,{key:0},[P("video",{ref_key:"videoRef",ref:o,src:m(d),autoplay:m(i),onClick:a[0]||(a[0]=c=>i.value=!m(i)),onMouseleave:a[1]||(a[1]=c=>i.value=!1)},null,40,U),e.coverSelector?(r(),p(g,{key:0,media:e.media,"max-length":m(u),onUpdateCoverTime:y},null,8,["media","max-length"])):l("",!0)],64)):typeof e.media.cover=="object"?(r(),p(k,{key:1,media:e.media.cover,onMouseover:a[2]||(a[2]=c=>i.value=!0)},null,8,["media"])):l("",!0),v(e.$slots,"link",{},void 0,!0)]),_:3},8,["media"])),[[S,_]])}}}),Ue=F(x,[["__scopeId","data-v-40853553"]]);export{Ue as default};
