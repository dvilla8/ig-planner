import M from"./InstagramMediaVideoCoverSelector.BNMc4BIv.js";import{_ as I}from"./InstagramMediaImage.vue.BMuxVz9T.js";import B from"./InstagramMediaContainer.BY8FS-9U.js";import{a9 as b,_ as T}from"./entry.Dlrc_O8N.js";import{d as h,a as s,j as w,ag as E,o as F,w as S,a6 as V,O as r,Q as n,W as $,P as j,F as R,a1 as x,u as p,R as d}from"./swiper-vue.CEq_1mxI.js";import"./elevation.CTNmy1SF.js";import"./rounded.BO8GkCMC.js";import"./index.BeR26wwu.js";import"./color.BhqTrDwI.js";import"./index.C_4sEVhZ.js";import"./VLabel.CMoPuKXz.js";import"./VIcon.CYG3HdRR.js";import"./tag.DURzlijk.js";import"./transition.1l_03ulU.js";import"./density.D-_y36pz.js";import"./MediaActionEdit.Cjz1kZQM.js";import"./MediaImageEditor.CLlEvHJZ.js";import"./VNavigationDrawer.BI5tgrRF.js";import"./border.CVV9H6h1.js";import"./router.QmMRyV9b.js";import"./scopeId.c-DE_LfO.js";import"./ssrBoot.BgOGdUa4.js";import"./anchor.NBCuhVUE.js";import"./VAvatar.BXNdKfvm.js";import"./variant.JFsEiyeK.js";import"./dimensions.afEoaX4U.js";import"./index.C-ny6lzg.js";import"./VDefaultsProvider.ByfMg-vc.js";import"./InstagramMediaContextMenu.vue.DId8Sw6d.js";import"./InstagramMediaContextMenuCloneToReel.vue.ANDZN-mb.js";import"./VListItem.B-yMgpIi.js";import"./createSimpleFunctional.BHwPNPqY.js";import"./InstagramMediaContextMenuGroup.FC6IqDBP.js";import"./VList.C9DMc1o2.js";import"./VDivider.CsYwrC4z.js";import"./InstagramMediaContextMenuAddToAlbum.vue.Bi33IhrW.js";import"./index.CVcoRGlr.js";import"./InstagramMediaContextMenuRemoveFromAlbum.vue.Daryq-Bh.js";import"./InstagramMediaContextMenuAddCover.vue.B3R9ycP0.js";import"./InstagramMediaContextMenuReplaceCover.vue.9NIPtZb3.js";import"./InstagramMediaContextMenuRemoveCover.vue.Cr4pSW2w.js";import"./InstagramMediaContextMenuReplaceMedia.vue.DLkafBwu.js";import"./InstagramMediaContextMenuConvertToAlbum.vue.BS4yIcFn.js";import"./InstagramMediaContextMenuConvertToIframe.vue.Bq5SWmzh.js";import"./InstagramMediaContextMenuRemove.vue.DEicykkz.js";import"./VMenu.COgZGKeJ.js";import"./VOverlay.CYVJ_36w.js";import"./forwardRefs.D3j0TLhE.js";import"./dialog-transition.B08Ua576.js";const L=["src","autoplay"],N=h({__name:"InstagramMediaVideo",props:{media:{},isFromDetail:{type:Boolean},coverSelector:{type:Boolean},playable:{type:Boolean}},async setup(u){let i,l;const t=u,a=s(!1);w(()=>t.media.collection==="reels");const v=([i,l]=E(()=>b(t.media)),i=await i,l(),i),o=s(null),c=s(0);function f(e){o.value&&(o.value.currentTime=e,t.media.setCoverTime(e),t.media.save())}return F(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof t.media.cover=="object"||t.media.cover||(o.value.currentTime=t.media.coverTime,c.value=o.value.duration)},!1)}),S(()=>a.value,e=>{if(!o.value||!t.playable)return!1;e?o.value.play():o.value.pause()}),(e,m)=>{const _=M,y=I,g=V("InstagramMediaEditor"),C=B;return r(),n(C,{type:"video",media:e.media},{default:$(()=>[!e.media.cover||e.media.coverTime?(r(),j(R,{key:0},[x("video",{ref_key:"videoRef",ref:o,src:p(v),autoplay:p(a),onClick:m[0]||(m[0]=k=>a.value=!p(a))},null,8,L),e.coverSelector?(r(),n(_,{key:0,media:e.media,"max-length":p(c),onUpdateCoverTime:f},null,8,["media","max-length"])):d("",!0)],64)):typeof e.media.cover=="object"?(r(),n(y,{key:1,media:e.media.cover,onClick:m[1]||(m[1]=k=>a.value=!0)},null,8,["media"])):d("",!0),e.media.isEditing?(r(),n(g,{key:2,media:e.media},null,8,["media"])):d("",!0)]),_:1},8,["media"])}}}),je=T(N,[["__scopeId","data-v-95cbe65b"]]);export{je as default};
