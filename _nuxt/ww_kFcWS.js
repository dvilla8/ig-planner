import x from"./BpOXe-3H.js";import $ from"./B4X7qOJN.js";import{_ as D}from"./pXo3o2W6.js";import M from"./BxHmDE7G.js";import{_ as P}from"./BfEo1U4S.js";import{_ as w}from"./CZu2vKP1.js";import{e as F,bi as N,l as O,ag as z,r as A,y as I,o as s,c as d,F as R,b as t,a as u,f as i,w as l,i as f,a1 as L,t as T,g as m,Z as X,a4 as Y,S as Z,ap as j}from"./C9j35KK9.js";import{V as q}from"./wjBXyAAh.js";const G=["textContent"],H=["href"],re=F({__name:"UserSelector",props:{user:{},add:{type:Boolean}},setup(_){const p=_,g=N(),c=O(),o=z({enabled:!1,x:0,y:0}),r=A(!1);function v(){c.push(p.user.route)}function C(){r.value=!0}function k(e){if(g.mdAndUp.value){c.push(p.user.route);return}o.enabled=!0}function U(e){e.preventDefault(),o.enabled=!1,o.x=e.clientX,o.y=e.clientY,j(()=>{o.enabled=!0})}return(e,n)=>{const b=I("router-link"),y=x,V=$,h=D,S=M,B=P,E=w;return s(),d("div",{class:Z(["ig-profile-selector",{"ig-profile-selector--add":e.add}])},[e.user?(s(),d(R,{key:0},[t(b,{to:e.user.route},null,8,["to"]),u("a",{class:"cursor-pointer",onClick:k,onContextmenu:U},[(s(),i(L,null,{default:l(()=>[(s(),i(V,{key:e.user.profile.avatar,avatar:e.user.profile.avatar},{inner:l(()=>[e.user.hasLocalChanges||e.user.hasUnsavedChanges?(s(),i(y,{key:0})):f("",!0)]),_:1},8,["avatar"]))]),_:1})),u("h3",{class:"mt-4 text-truncate",textContent:T(e.user.profile.username)},null,8,G),t(S,{modelValue:m(o).enabled,"onUpdate:modelValue":n[0]||(n[0]=a=>m(o).enabled=a)},{default:l(()=>[t(h,{onOpen:v,onEdit:C,user:e.user},null,8,["user"])]),_:1},8,["modelValue"])],32),u("a",{class:"d-inline-block text-blue-grey-lighten-2 mt-n1",href:e.user.profile.publicProfile,target:"_blank"},[t(q,{icon:"mdi-arrow-top-right",size:"14px"})],8,H)],64)):f("",!0),X(e.$slots,"default"),t(E,{edit:"",modelValue:m(r),"onUpdate:modelValue":n[2]||(n[2]=a=>Y(r)?r.value=a:null)},{default:l(()=>[t(B,{user:e.user,onClose:n[1]||(n[1]=a=>r.value=!1)},null,8,["user"])]),_:1},8,["modelValue"])],2)}}});export{re as _};
