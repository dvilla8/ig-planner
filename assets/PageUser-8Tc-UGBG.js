import{a4 as We,e as F,W as Fn,c as $,r as X,f as E,h as C,w as I,d as m,j as z,i as te,t as xe,q as _t,_ as J,M as Q,a7 as Ta,L as ee,Z as gt,n as Y,P as ot,$ as it,J as Hn,K as qn,p as He,a8 as Es,a9 as Qt,aa as me,s as je,ab as Ra,U as ke,I as pr,ac as lt,g as Ke,T as Ve,b as Ze,H as Be,B as hs,C as ya,ad as Sa,ae as ba,u as _r,F as Ae,m as An,x as Mt,y as De,af as Yn,ag as gr,ah as Oa,k as zn,l as Wn,ai as Da,Q as Ot,E as Er,aj as Ca,ak as Is,a6 as Kt,al as Aa,am as Ma,an as wa,Y as Pa,ao as hr,ap as La,aq as Ir,ar as vr,z as Tr,as as Na,at as Ga,au as ka,av as In,O as Ba,aw as Ua,ax as Va,ay as xa,az as $a,aA as Fa,aB as Ha,aC as qa,aD as Ya}from"./index-UGf78wAE.js";import{a as ze,z as Ne,y as Ee,r as wt,w as Dt,A as qt,B as za,s as Qe,p as Rr,F as Zt,G as Jt,R as Wa,H as ja,J as en,K as Xa,L as tn,M as Et,N as Qa,g as Ka,i as Za,j as vs,O as Ja,P as jn,Q as eo,S as to,T as no,U as nn,W as Xn,X as so,Y as ro,Z as ao,v as Je,t as Ie,o as oo,q as io,b as sn,C as lo,e as Qn,D as yr,c as Sr,$ as co,a0 as uo,a1 as fo,a2 as Kn,a3 as mo,a4 as po,a5 as _o,u as go,a6 as Eo,_ as ho,E as Io}from"./VBadge-gkSdfl-2.js";/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const vo=e=>e instanceof HTMLElement,To=(e,t=[],n=[])=>{const s={...e},r=[],a=[],o=()=>({...s}),i=()=>{const p=[...r];return r.length=0,p},l=()=>{const p=[...a];a.length=0,p.forEach(({type:g,data:M})=>{c(g,M)})},c=(p,g,M)=>{if(M&&!document.hidden){a.push({type:p,data:g});return}_[p]&&_[p](g),r.push({type:p,data:g})},u=(p,...g)=>d[p]?d[p](...g):null,f={getState:o,processActionQueue:i,processDispatchQueue:l,dispatch:c,query:u};let d={};t.forEach(p=>{d={...p(s),...d}});let _={};return n.forEach(p=>{_={...p(c,u,s),..._}}),f},Ro=(e,t,n)=>{if(typeof n=="function"){e[t]=n;return}Object.defineProperty(e,t,{...n})},ne=(e,t)=>{for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])},Xe=e=>{const t={};return ne(e,n=>{Ro(t,n,e[n])}),t},le=(e,t,n=null)=>{if(n===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},yo="http://www.w3.org/2000/svg",So=["svg","path"],Ts=e=>So.includes(e),Yt=(e,t,n={})=>{typeof t=="object"&&(n=t,t=null);const s=Ts(e)?document.createElementNS(yo,e):document.createElement(e);return t&&(Ts(e)?le(s,"class",t):s.className=t),ne(n,(r,a)=>{le(s,r,a)}),s},bo=e=>(t,n)=>{typeof n<"u"&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},Oo=(e,t)=>(n,s)=>(typeof s<"u"?t.splice(s,0,n):t.push(n),n),Do=(e,t)=>n=>(t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n),Co=typeof window<"u"&&typeof window.document<"u",br=()=>Co,Ao=br()?Yt("svg"):{},Mo="children"in Ao?e=>e.children.length:e=>e.childNodes.length,Or=(e,t,n,s)=>{const r=n[0]||e.left,a=n[1]||e.top,o=r+e.width,i=a+e.height*(s[1]||1),l={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:r,top:a,right:o,bottom:i}};return t.filter(c=>!c.isRectIgnored()).map(c=>c.rect).forEach(c=>{Rs(l.inner,{...c.inner}),Rs(l.outer,{...c.outer})}),ys(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,ys(l.outer),l},Rs=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},ys=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},et=e=>typeof e=="number",wo=(e,t,n,s=.001)=>Math.abs(e-t)<s&&Math.abs(n)<s,Po=({stiffness:e=.5,damping:t=.75,mass:n=10}={})=>{let s=null,r=null,a=0,o=!1;const c=Xe({interpolate:(u,f)=>{if(o)return;if(!(et(s)&&et(r))){o=!0,a=0;return}const d=-(r-s)*e;a+=d/n,r+=a,a*=t,wo(r,s,a)||f?(r=s,a=0,o=!0,c.onupdate(r),c.oncomplete(r)):c.onupdate(r)},target:{set:u=>{if(et(u)&&!et(r)&&(r=u),s===null&&(s=u,r=u),s=u,r===s||typeof s>"u"){o=!0,a=0,c.onupdate(r),c.oncomplete(r);return}o=!1},get:()=>s},resting:{get:()=>o},onupdate:u=>{},oncomplete:u=>{}});return c},Lo=e=>e<.5?2*e*e:-1+(4-2*e)*e,No=({duration:e=500,easing:t=Lo,delay:n=0}={})=>{let s=null,r,a,o=!0,i=!1,l=null;const u=Xe({interpolate:(f,d)=>{o||l===null||(s===null&&(s=f),!(f-s<n)&&(r=f-s-n,r>=e||d?(r=1,a=i?0:1,u.onupdate(a*l),u.oncomplete(a*l),o=!0):(a=r/e,u.onupdate((r>=0?t(i?1-a:a):0)*l))))},target:{get:()=>i?0:l,set:f=>{if(l===null){l=f,u.onupdate(f),u.oncomplete(f);return}f<l?(l=1,i=!0):(i=!1,l=f),o=!1,s=null}},resting:{get:()=>o},onupdate:f=>{},oncomplete:f=>{}});return u},Ss={spring:Po,tween:No},Go=(e,t,n)=>{const s=e[t]&&typeof e[t][n]=="object"?e[t][n]:e[t]||e,r=typeof s=="string"?s:s.type,a=typeof s=="object"?{...s}:{};return Ss[r]?Ss[r](a):null},Zn=(e,t,n,s=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(r=>{e.forEach(a=>{let o=a,i=()=>n[a],l=c=>n[a]=c;typeof a=="object"&&(o=a.key,i=a.getter||i,l=a.setter||l),!(r[o]&&!s)&&(r[o]={get:i,set:l})})})},ko=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:s})=>{const r={...t},a=[];return ne(e,(o,i)=>{const l=Go(i);if(!l)return;l.onupdate=u=>{t[o]=u},l.target=r[o],Zn([{key:o,setter:u=>{l.target!==u&&(l.target=u)},getter:()=>t[o]}],[n,s],t,!0),a.push(l)}),{write:o=>{let i=document.hidden,l=!0;return a.forEach(c=>{c.resting||(l=!1),c.interpolate(o,i)}),l},destroy:()=>{}}},Bo=e=>(t,n)=>{e.addEventListener(t,n)},Uo=e=>(t,n)=>{e.removeEventListener(t,n)},Vo=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:s,viewState:r,view:a})=>{const o=[],i=Bo(a.element),l=Uo(a.element);return s.on=(c,u)=>{o.push({type:c,fn:u}),i(c,u)},s.off=(c,u)=>{o.splice(o.findIndex(f=>f.type===c&&f.fn===u),1),l(c,u)},{write:()=>!0,destroy:()=>{o.forEach(c=>{l(c.type,c.fn)})}}},xo=({mixinConfig:e,viewProps:t,viewExternalAPI:n})=>{Zn(e,n,t)},he=e=>e!=null,$o={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Fo=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:s,view:r})=>{const a={...t},o={};Zn(e,[n,s],t);const i=()=>[t.translateX||0,t.translateY||0],l=()=>[t.scaleX||0,t.scaleY||0],c=()=>r.rect?Or(r.rect,r.childViews,i(),l()):null;return n.rect={get:c},s.rect={get:c},e.forEach(u=>{t[u]=typeof a[u]>"u"?$o[u]:a[u]}),{write:()=>{if(Ho(o,t))return qo(r.element,t),Object.assign(o,{...t}),!0},destroy:()=>{}}},Ho=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in t)if(t[n]!==e[n])return!0;return!1},qo=(e,{opacity:t,perspective:n,translateX:s,translateY:r,scaleX:a,scaleY:o,rotateX:i,rotateY:l,rotateZ:c,originX:u,originY:f,width:d,height:_})=>{let p="",g="";(he(u)||he(f))&&(g+=`transform-origin: ${u||0}px ${f||0}px;`),he(n)&&(p+=`perspective(${n}px) `),(he(s)||he(r))&&(p+=`translate3d(${s||0}px, ${r||0}px, 0) `),(he(a)||he(o))&&(p+=`scale3d(${he(a)?a:1}, ${he(o)?o:1}, 1) `),he(c)&&(p+=`rotateZ(${c}rad) `),he(i)&&(p+=`rotateX(${i}rad) `),he(l)&&(p+=`rotateY(${l}rad) `),p.length&&(g+=`transform:${p};`),he(t)&&(g+=`opacity:${t};`,t===0&&(g+="visibility:hidden;"),t<1&&(g+="pointer-events:none;")),he(_)&&(g+=`height:${_}px;`),he(d)&&(g+=`width:${d}px;`);const M=e.elementCurrentStyle||"";(g.length!==M.length||g!==M)&&(e.style.cssText=g,e.elementCurrentStyle=g)},Yo={styles:Fo,listeners:Vo,animations:ko,apis:xo},bs=(e={},t={},n={})=>(t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),ce=({tag:e="div",name:t=null,attributes:n={},read:s=()=>{},write:r=()=>{},create:a=()=>{},destroy:o=()=>{},filterFrameActionsForChild:i=(_,p)=>p,didCreateView:l=()=>{},didWriteView:c=()=>{},ignoreRect:u=!1,ignoreRectUpdate:f=!1,mixins:d=[]}={})=>(_,p={})=>{const g=Yt(e,`filepond--${t}`,n),M=window.getComputedStyle(g,null),S=bs();let A=null,L=!1;const B=[],R=[],y={},U={},T=[r],O=[s],V=[o],P=()=>g,N=()=>B.concat(),Z=()=>y,b=w=>(j,ye)=>j(w,ye),q=()=>A||(A=Or(S,B,[0,0],[1,1]),A),h=()=>M,D=()=>{A=null,B.forEach(ye=>ye._read()),!(f&&S.width&&S.height)&&bs(S,g,M);const j={root:oe,props:p,rect:S};O.forEach(ye=>ye(j))},G=(w,j,ye)=>{let Me=j.length===0;return T.forEach(ue=>{ue({props:p,root:oe,actions:j,timestamp:w,shouldOptimize:ye})===!1&&(Me=!1)}),R.forEach(ue=>{ue.write(w)===!1&&(Me=!1)}),B.filter(ue=>!!ue.element.parentNode).forEach(ue=>{ue._write(w,i(ue,j),ye)||(Me=!1)}),B.forEach((ue,Ge)=>{ue.element.parentNode||(oe.appendChild(ue.element,Ge),ue._read(),ue._write(w,i(ue,j),ye),Me=!1)}),L=Me,c({props:p,root:oe,actions:j,timestamp:w}),Me},k=()=>{R.forEach(w=>w.destroy()),V.forEach(w=>{w({root:oe,props:p})}),B.forEach(w=>w._destroy())},x={element:{get:P},style:{get:h},childViews:{get:N}},K={...x,rect:{get:q},ref:{get:Z},is:w=>t===w,appendChild:bo(g),createChildView:b(_),linkView:w=>(B.push(w),w),unlinkView:w=>{B.splice(B.indexOf(w),1)},appendChildView:Oo(g,B),removeChildView:Do(g,B),registerWriter:w=>T.push(w),registerReader:w=>O.push(w),registerDestroyer:w=>V.push(w),invalidateLayout:()=>g.layoutCalculated=!1,dispatch:_.dispatch,query:_.query},ae={element:{get:P},childViews:{get:N},rect:{get:q},resting:{get:()=>L},isRectIgnored:()=>u,_read:D,_write:G,_destroy:k},_e={...x,rect:{get:()=>S}};Object.keys(d).sort((w,j)=>w==="styles"?1:j==="styles"?-1:0).forEach(w=>{const j=Yo[w]({mixinConfig:d[w],viewProps:p,viewState:U,viewInternalAPI:K,viewExternalAPI:ae,view:Xe(_e)});j&&R.push(j)});const oe=Xe(K);a({root:oe,props:p});const qe=Mo(g);return B.forEach((w,j)=>{oe.appendChild(w.element,qe+j)}),l(oe),Xe(ae)},zo=(e,t,n=60)=>{const s="__framePainter";if(window[s]){window[s].readers.push(e),window[s].writers.push(t);return}window[s]={readers:[e],writers:[t]};const r=window[s],a=1e3/n;let o=null,i=null,l=null,c=null;const u=()=>{document.hidden?(l=()=>window.setTimeout(()=>f(performance.now()),a),c=()=>window.clearTimeout(i)):(l=()=>window.requestAnimationFrame(f),c=()=>window.cancelAnimationFrame(i))};document.addEventListener("visibilitychange",()=>{c&&c(),u(),f(performance.now())});const f=d=>{i=l(f),o||(o=d);const _=d-o;_<=a||(o=d-_%a,r.readers.forEach(p=>p()),r.writers.forEach(p=>p(d)))};return u(),f(performance.now()),{pause:()=>{c(i)}}},Te=(e,t)=>({root:n,props:s,actions:r=[],timestamp:a,shouldOptimize:o})=>{r.filter(i=>e[i.type]).forEach(i=>e[i.type]({root:n,props:s,action:i.data,timestamp:a,shouldOptimize:o})),t&&t({root:n,props:s,actions:r,timestamp:a,shouldOptimize:o})},Os=(e,t)=>t.parentNode.insertBefore(e,t),Ds=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),rn=e=>Array.isArray(e),$e=e=>e==null,Wo=e=>e.trim(),an=e=>""+e,jo=(e,t=",")=>$e(e)?[]:rn(e)?e:an(e).split(t).map(Wo).filter(n=>n.length),Dr=e=>typeof e=="boolean",Cr=e=>Dr(e)?e:e==="true",ve=e=>typeof e=="string",Ar=e=>et(e)?e:ve(e)?an(e).replace(/[a-z]+/gi,""):0,Ft=e=>parseInt(Ar(e),10),Cs=e=>parseFloat(Ar(e)),vt=e=>et(e)&&isFinite(e)&&Math.floor(e)===e,As=(e,t=1e3)=>{if(vt(e))return e;let n=an(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Ft(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Ft(n)*t):Ft(n)},tt=e=>typeof e=="function",Xo=e=>{let t=self,n=e.split("."),s=null;for(;s=n.shift();)if(t=t[s],!t)return null;return t},Ms={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Qo=e=>{const t={};return t.url=ve(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},ne(Ms,n=>{t[n]=Ko(n,e[n],Ms[n],t.timeout,t.headers)}),t.process=e.process||ve(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},Ko=(e,t,n,s,r)=>{if(t===null)return null;if(typeof t=="function")return t;const a={url:n==="GET"||n==="PATCH"?`?${e}=`:"",method:n,headers:r,withCredentials:!1,timeout:s,onload:null,ondata:null,onerror:null};if(ve(t))return a.url=t,a;if(Object.assign(a,t),ve(a.headers)){const o=a.headers.split(/:(.+)/);a.headers={header:o[0],value:o[1]}}return a.withCredentials=Cr(a.withCredentials),a},Zo=e=>Qo(e),Jo=e=>e===null,pe=e=>typeof e=="object"&&e!==null,ei=e=>pe(e)&&ve(e.url)&&pe(e.process)&&pe(e.revert)&&pe(e.restore)&&pe(e.fetch),Mn=e=>rn(e)?"array":Jo(e)?"null":vt(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":ei(e)?"api":typeof e,ti=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),ni={array:jo,boolean:Cr,int:e=>Mn(e)==="bytes"?As(e):Ft(e),number:Cs,float:Cs,bytes:As,string:e=>tt(e)?e:an(e),function:e=>Xo(e),serverapi:Zo,object:e=>{try{return JSON.parse(ti(e))}catch{return null}}},si=(e,t)=>ni[t](e),Mr=(e,t,n)=>{if(e===t)return e;let s=Mn(e);if(s!==n){const r=si(e,n);if(s=Mn(r),r===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;e=r}return e},ri=(e,t)=>{let n=e;return{enumerable:!0,get:()=>n,set:s=>{n=Mr(s,e,t)}}},ai=e=>{const t={};return ne(e,n=>{const s=e[n];t[n]=ri(s[0],s[1])}),Xe(t)},oi=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:ai(e)}),on=(e,t="-")=>e.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(t),ii=(e,t)=>{const n={};return ne(t,s=>{n[s]={get:()=>e.getState().options[s],set:r=>{e.dispatch(`SET_${on(s,"_").toUpperCase()}`,{value:r})}}}),n},li=e=>(t,n,s)=>{const r={};return ne(e,a=>{const o=on(a,"_").toUpperCase();r[`SET_${o}`]=i=>{try{s.options[a]=i.value}catch{}t(`DID_SET_${o}`,{value:s.options[a]})}}),r},ci=e=>t=>{const n={};return ne(e,s=>{n[`GET_${on(s,"_").toUpperCase()}`]=r=>t.options[s]}),n},Ce={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Jn=()=>Math.random().toString(36).substring(2,11),es=(e,t)=>e.splice(t,1),ui=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},ln=()=>{const e=[],t=(s,r)=>{es(e,e.findIndex(a=>a.event===s&&(a.cb===r||!r)))},n=(s,r,a)=>{e.filter(o=>o.event===s).map(o=>o.cb).forEach(o=>ui(()=>o(...r),a))};return{fireSync:(s,...r)=>{n(s,r,!0)},fire:(s,...r)=>{n(s,r,!1)},on:(s,r)=>{e.push({event:s,cb:r})},onOnce:(s,r)=>{e.push({event:s,cb:(...a)=>{t(s,r),r(...a)}})},off:t}},wr=(e,t,n)=>{Object.getOwnPropertyNames(e).filter(s=>!n.includes(s)).forEach(s=>Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s)))},di=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Re=e=>{const t={};return wr(e,t,di),t},fi=e=>{e.forEach((t,n)=>{t.released&&es(e,n)})},W={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},fe={INPUT:1,LIMBO:2,LOCAL:3},Pr=e=>/[^0-9]+/.exec(e),Lr=()=>Pr(1.1.toLocaleString())[0],mi=()=>{const e=Lr(),t=1e3.toLocaleString();return t!=="1000"?Pr(t)[0]:e==="."?",":"."},v={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},ts=[],we=(e,t,n)=>new Promise((s,r)=>{const a=ts.filter(i=>i.key===e).map(i=>i.cb);if(a.length===0){s(t);return}const o=a.shift();a.reduce((i,l)=>i.then(c=>l(c,n)),o(t,n)).then(i=>s(i)).catch(i=>r(i))}),ct=(e,t,n)=>ts.filter(s=>s.key===e).map(s=>s.cb(t,n)),pi=(e,t)=>ts.push({key:e,cb:t}),_i=e=>Object.assign(ft,e),zt=()=>({...ft}),gi=e=>{ne(e,(t,n)=>{ft[t]&&(ft[t][0]=Mr(n,ft[t][0],ft[t][1]))})},ft={id:[null,v.STRING],name:["filepond",v.STRING],disabled:[!1,v.BOOLEAN],className:[null,v.STRING],required:[!1,v.BOOLEAN],captureMethod:[null,v.STRING],allowSyncAcceptAttribute:[!0,v.BOOLEAN],allowDrop:[!0,v.BOOLEAN],allowBrowse:[!0,v.BOOLEAN],allowPaste:[!0,v.BOOLEAN],allowMultiple:[!1,v.BOOLEAN],allowReplace:[!0,v.BOOLEAN],allowRevert:[!0,v.BOOLEAN],allowRemove:[!0,v.BOOLEAN],allowProcess:[!0,v.BOOLEAN],allowReorder:[!1,v.BOOLEAN],allowDirectoriesOnly:[!1,v.BOOLEAN],storeAsFile:[!1,v.BOOLEAN],forceRevert:[!1,v.BOOLEAN],maxFiles:[null,v.INT],checkValidity:[!1,v.BOOLEAN],itemInsertLocationFreedom:[!0,v.BOOLEAN],itemInsertLocation:["before",v.STRING],itemInsertInterval:[75,v.INT],dropOnPage:[!1,v.BOOLEAN],dropOnElement:[!0,v.BOOLEAN],dropValidation:[!1,v.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],v.ARRAY],instantUpload:[!0,v.BOOLEAN],maxParallelUploads:[2,v.INT],allowMinimumUploadDuration:[!0,v.BOOLEAN],chunkUploads:[!1,v.BOOLEAN],chunkForce:[!1,v.BOOLEAN],chunkSize:[5e6,v.INT],chunkRetryDelays:[[500,1e3,3e3],v.ARRAY],server:[null,v.SERVER_API],fileSizeBase:[1e3,v.INT],labelFileSizeBytes:["bytes",v.STRING],labelFileSizeKilobytes:["KB",v.STRING],labelFileSizeMegabytes:["MB",v.STRING],labelFileSizeGigabytes:["GB",v.STRING],labelDecimalSeparator:[Lr(),v.STRING],labelThousandsSeparator:[mi(),v.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',v.STRING],labelInvalidField:["Field contains invalid files",v.STRING],labelFileWaitingForSize:["Waiting for size",v.STRING],labelFileSizeNotAvailable:["Size not available",v.STRING],labelFileCountSingular:["file in list",v.STRING],labelFileCountPlural:["files in list",v.STRING],labelFileLoading:["Loading",v.STRING],labelFileAdded:["Added",v.STRING],labelFileLoadError:["Error during load",v.STRING],labelFileRemoved:["Removed",v.STRING],labelFileRemoveError:["Error during remove",v.STRING],labelFileProcessing:["Uploading",v.STRING],labelFileProcessingComplete:["Upload complete",v.STRING],labelFileProcessingAborted:["Upload cancelled",v.STRING],labelFileProcessingError:["Error during upload",v.STRING],labelFileProcessingRevertError:["Error during revert",v.STRING],labelTapToCancel:["tap to cancel",v.STRING],labelTapToRetry:["tap to retry",v.STRING],labelTapToUndo:["tap to undo",v.STRING],labelButtonRemoveItem:["Remove",v.STRING],labelButtonAbortItemLoad:["Abort",v.STRING],labelButtonRetryItemLoad:["Retry",v.STRING],labelButtonAbortItemProcessing:["Cancel",v.STRING],labelButtonUndoItemProcessing:["Undo",v.STRING],labelButtonRetryItemProcessing:["Retry",v.STRING],labelButtonProcessItem:["Upload",v.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',v.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',v.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',v.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',v.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',v.STRING],oninit:[null,v.FUNCTION],onwarning:[null,v.FUNCTION],onerror:[null,v.FUNCTION],onactivatefile:[null,v.FUNCTION],oninitfile:[null,v.FUNCTION],onaddfilestart:[null,v.FUNCTION],onaddfileprogress:[null,v.FUNCTION],onaddfile:[null,v.FUNCTION],onprocessfilestart:[null,v.FUNCTION],onprocessfileprogress:[null,v.FUNCTION],onprocessfileabort:[null,v.FUNCTION],onprocessfilerevert:[null,v.FUNCTION],onprocessfile:[null,v.FUNCTION],onprocessfiles:[null,v.FUNCTION],onremovefile:[null,v.FUNCTION],onpreparefile:[null,v.FUNCTION],onupdatefiles:[null,v.FUNCTION],onreorderfiles:[null,v.FUNCTION],beforeDropFile:[null,v.FUNCTION],beforeAddFile:[null,v.FUNCTION],beforeRemoveFile:[null,v.FUNCTION],beforePrepareFile:[null,v.FUNCTION],stylePanelLayout:[null,v.STRING],stylePanelAspectRatio:[null,v.STRING],styleItemPanelAspectRatio:[null,v.STRING],styleButtonRemoveItemPosition:["left",v.STRING],styleButtonProcessItemPosition:["right",v.STRING],styleLoadIndicatorPosition:["right",v.STRING],styleProgressIndicatorPosition:["right",v.STRING],styleButtonRemoveItemAlign:[!1,v.BOOLEAN],files:[[],v.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],v.ARRAY]},nt=(e,t)=>$e(t)?e[0]||null:vt(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(n=>n.id===t)||null),Nr=e=>{if($e(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},Pe=e=>e.filter(t=>!t.archived),Ei={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let Gt=null;const hi=()=>{if(Gt===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,Gt=t.files.length===1}catch{Gt=!1}return Gt},Ii=[W.LOAD_ERROR,W.PROCESSING_ERROR,W.PROCESSING_REVERT_ERROR],vi=[W.LOADING,W.PROCESSING,W.PROCESSING_QUEUED,W.INIT],Ti=[W.PROCESSING_COMPLETE],Ri=e=>Ii.includes(e.status),yi=e=>vi.includes(e.status),Si=e=>Ti.includes(e.status),ws=e=>pe(e.options.server)&&(pe(e.options.server.process)||tt(e.options.server.process)),bi=e=>({GET_STATUS:()=>{const t=Pe(e.items),{EMPTY:n,ERROR:s,BUSY:r,IDLE:a,READY:o}=Ei;return t.length===0?n:t.some(Ri)?s:t.some(yi)?r:t.some(Si)?o:a},GET_ITEM:t=>nt(e.items,t),GET_ACTIVE_ITEM:t=>nt(Pe(e.items),t),GET_ACTIVE_ITEMS:()=>Pe(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const n=nt(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:t=>{const n=nt(e.items,t);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:Nr(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>Pe(e.items).filter(n=>n.status===t),GET_TOTAL_ITEMS:()=>Pe(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&hi()&&!ws(e),IS_ASYNC:()=>ws(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),Oi=e=>{const t=Pe(e.items).length;if(!e.options.allowMultiple)return t===0;const n=e.options.maxFiles;return n===null||t<n},Gr=(e,t,n)=>Math.max(Math.min(n,e),t),Di=(e,t,n)=>e.splice(t,0,n),Ci=(e,t,n)=>$e(t)?null:typeof n>"u"?(e.push(t),t):(n=Gr(n,0,e.length),Di(e,n,t),t),wn=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),Pt=e=>e.split("/").pop().split("?").shift(),cn=e=>e.split(".").pop(),Ai=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},yt=(e,t="")=>(t+e).slice(-t.length),kr=(e=new Date)=>`${e.getFullYear()}-${yt(e.getMonth()+1,"00")}-${yt(e.getDate(),"00")}_${yt(e.getHours(),"00")}-${yt(e.getMinutes(),"00")}-${yt(e.getSeconds(),"00")}`,ht=(e,t,n=null,s=null)=>{const r=typeof n=="string"?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return r.lastModifiedDate=new Date,e._relativePath&&(r._relativePath=e._relativePath),ve(t)||(t=kr()),t&&s===null&&cn(t)?r.name=t:(s=s||Ai(r.type),r.name=t+(s?"."+s:"")),r},Mi=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Br=(e,t)=>{const n=Mi();if(n){const s=new n;return s.append(e),s.getBlob(t)}return new Blob([e],{type:t})},wi=(e,t)=>{const n=new ArrayBuffer(e.length),s=new Uint8Array(n);for(let r=0;r<e.length;r++)s[r]=e.charCodeAt(r);return Br(n,t)},Ur=e=>(/^data:(.+);/.exec(e)||[])[1]||null,Pi=e=>e.split(",")[1].replace(/\s/g,""),Li=e=>atob(Pi(e)),Ni=e=>{const t=Ur(e),n=Li(e);return wi(n,t)},Gi=(e,t,n)=>ht(Ni(e),t,null,n),ki=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return t.length?decodeURI(t[t.length-1]):null},Bi=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Ui=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,ns=e=>{const t={source:null,name:null,size:null},n=e.split(`
`);for(let s of n){const r=ki(s);if(r){t.name=r;continue}const a=Bi(s);if(a){t.size=a;continue}const o=Ui(s);if(o){t.source=o;continue}}return t},Vi=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>t.progress,s=()=>{t.request&&t.request.abort&&t.request.abort()},r=()=>{const i=t.source;o.fire("init",i),i instanceof File?o.fire("load",i):i instanceof Blob?o.fire("load",ht(i,i.name)):wn(i)?o.fire("load",Gi(i)):a(i)},a=i=>{if(!e){o.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(i,l=>{t.duration=Date.now()-t.timestamp,t.complete=!0,l instanceof Blob&&(l=ht(l,l.name||Pt(i))),o.fire("load",l instanceof Blob?l:l?l.body:null)},l=>{o.fire("error",typeof l=="string"?{type:"error",code:0,body:l}:l)},(l,c,u)=>{if(u&&(t.size=u),t.duration=Date.now()-t.timestamp,!l){t.progress=null;return}t.progress=c/u,o.fire("progress",t.progress)},()=>{o.fire("abort")},l=>{const c=ns(typeof l=="string"?l:l.headers);o.fire("meta",{size:t.size||c.size,filename:c.name,source:c.source})})},o={...ln(),setSource:i=>t.source=i,getProgress:n,abort:s,load:r};return o},Ps=e=>/GET|HEAD/.test(e),st=(e,t,n)=>{const s={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{r=!0,o.abort()}};let r=!1,a=!1;n={method:"POST",headers:{},withCredentials:!1,...n},t=encodeURI(t),Ps(n.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const o=new XMLHttpRequest,i=Ps(n.method)?o:o.upload;return i.onprogress=l=>{r||s.onprogress(l.lengthComputable,l.loaded,l.total)},o.onreadystatechange=()=>{o.readyState<2||o.readyState===4&&o.status===0||a||(a=!0,s.onheaders(o))},o.onload=()=>{o.status>=200&&o.status<300?s.onload(o):s.onerror(o)},o.onerror=()=>s.onerror(o),o.onabort=()=>{r=!0,s.onabort()},o.ontimeout=()=>s.ontimeout(o),o.open(n.method,t,!0),vt(n.timeout)&&(o.timeout=n.timeout),Object.keys(n.headers).forEach(l=>{const c=unescape(encodeURIComponent(n.headers[l]));o.setRequestHeader(l,c)}),n.responseType&&(o.responseType=n.responseType),n.withCredentials&&(o.withCredentials=!0),o.send(e),s},se=(e,t,n,s)=>({type:e,code:t,body:n,headers:s}),rt=e=>t=>{e(se("error",0,"Timeout",t.getAllResponseHeaders()))},Ls=e=>/\?/.test(e),Ct=(...e)=>{let t="";return e.forEach(n=>{t+=Ls(t)&&Ls(n)?n.replace(/\?/,"&"):n}),t},vn=(e="",t)=>{if(typeof t=="function")return t;if(!t||!ve(t.url))return null;const n=t.onload||(r=>r),s=t.onerror||(r=>null);return(r,a,o,i,l,c)=>{const u=st(r,Ct(e,t.url),{...t,responseType:"blob"});return u.onload=f=>{const d=f.getAllResponseHeaders(),_=ns(d).name||Pt(r);a(se("load",f.status,t.method==="HEAD"?null:ht(n(f.response),_),d))},u.onerror=f=>{o(se("error",f.status,s(f.response)||f.statusText,f.getAllResponseHeaders()))},u.onheaders=f=>{c(se("headers",f.status,null,f.getAllResponseHeaders()))},u.ontimeout=rt(o),u.onprogress=i,u.onabort=l,u}},be={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},xi=(e,t,n,s,r,a,o,i,l,c,u)=>{const f=[],{chunkTransferId:d,chunkServer:_,chunkSize:p,chunkRetryDelays:g}=u,M={serverId:d,aborted:!1},S=t.ondata||(b=>b),A=t.onload||((b,q)=>q==="HEAD"?b.getResponseHeader("Upload-Offset"):b.response),L=t.onerror||(b=>null),B=b=>{const q=new FormData;pe(r)&&q.append(n,JSON.stringify(r));const h=typeof t.headers=="function"?t.headers(s,r):{...t.headers,"Upload-Length":s.size},D={...t,headers:h},G=st(S(q),Ct(e,t.url),D);G.onload=k=>b(A(k,D.method)),G.onerror=k=>o(se("error",k.status,L(k.response)||k.statusText,k.getAllResponseHeaders())),G.ontimeout=rt(o)},R=b=>{const q=Ct(e,_.url,M.serverId),D={headers:typeof t.headers=="function"?t.headers(M.serverId):{...t.headers},method:"HEAD"},G=st(null,q,D);G.onload=k=>b(A(k,D.method)),G.onerror=k=>o(se("error",k.status,L(k.response)||k.statusText,k.getAllResponseHeaders())),G.ontimeout=rt(o)},y=Math.floor(s.size/p);for(let b=0;b<=y;b++){const q=b*p,h=s.slice(q,q+p,"application/offset+octet-stream");f[b]={index:b,size:h.size,offset:q,data:h,file:s,progress:0,retries:[...g],status:be.QUEUED,error:null,request:null,timeout:null}}const U=()=>a(M.serverId),T=b=>b.status===be.QUEUED||b.status===be.ERROR,O=b=>{if(M.aborted)return;if(b=b||f.find(T),!b){f.every(x=>x.status===be.COMPLETE)&&U();return}b.status=be.PROCESSING,b.progress=null;const q=_.ondata||(x=>x),h=_.onerror||(x=>null),D=Ct(e,_.url,M.serverId),G=typeof _.headers=="function"?_.headers(b):{..._.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":b.offset,"Upload-Length":s.size,"Upload-Name":s.name},k=b.request=st(q(b.data),D,{..._,headers:G});k.onload=()=>{b.status=be.COMPLETE,b.request=null,N()},k.onprogress=(x,K,ae)=>{b.progress=x?K:null,P()},k.onerror=x=>{b.status=be.ERROR,b.request=null,b.error=h(x.response)||x.statusText,V(b)||o(se("error",x.status,h(x.response)||x.statusText,x.getAllResponseHeaders()))},k.ontimeout=x=>{b.status=be.ERROR,b.request=null,V(b)||rt(o)(x)},k.onabort=()=>{b.status=be.QUEUED,b.request=null,l()}},V=b=>b.retries.length===0?!1:(b.status=be.WAITING,clearTimeout(b.timeout),b.timeout=setTimeout(()=>{O(b)},b.retries.shift()),!0),P=()=>{const b=f.reduce((h,D)=>h===null||D.progress===null?null:h+D.progress,0);if(b===null)return i(!1,0,0);const q=f.reduce((h,D)=>h+D.size,0);i(!0,b,q)},N=()=>{f.filter(q=>q.status===be.PROCESSING).length>=1||O()},Z=()=>{f.forEach(b=>{clearTimeout(b.timeout),b.request&&b.request.abort()})};return M.serverId?R(b=>{M.aborted||(f.filter(q=>q.offset<b).forEach(q=>{q.status=be.COMPLETE,q.progress=q.size}),N())}):B(b=>{M.aborted||(c(b),M.serverId=b,N())}),{abort:()=>{M.aborted=!0,Z()}}},$i=(e,t,n,s)=>(r,a,o,i,l,c,u)=>{if(!r)return;const f=s.chunkUploads,d=f&&r.size>s.chunkSize,_=f&&(d||s.chunkForce);if(r instanceof Blob&&_)return xi(e,t,n,r,a,o,i,l,c,u,s);const p=t.ondata||(R=>R),g=t.onload||(R=>R),M=t.onerror||(R=>null),S=typeof t.headers=="function"?t.headers(r,a)||{}:{...t.headers},A={...t,headers:S};var L=new FormData;pe(a)&&L.append(n,JSON.stringify(a)),(r instanceof Blob?[{name:null,file:r}]:r).forEach(R=>{L.append(n,R.file,R.name===null?R.file.name:`${R.name}${R.file.name}`)});const B=st(p(L),Ct(e,t.url),A);return B.onload=R=>{o(se("load",R.status,g(R.response),R.getAllResponseHeaders()))},B.onerror=R=>{i(se("error",R.status,M(R.response)||R.statusText,R.getAllResponseHeaders()))},B.ontimeout=rt(i),B.onprogress=l,B.onabort=c,B},Fi=(e="",t,n,s)=>typeof t=="function"?(...r)=>t(n,...r,s):!t||!ve(t.url)?null:$i(e,t,n,s),St=(e="",t)=>{if(typeof t=="function")return t;if(!t||!ve(t.url))return(r,a)=>a();const n=t.onload||(r=>r),s=t.onerror||(r=>null);return(r,a,o)=>{const i=st(r,e+t.url,t);return i.onload=l=>{a(se("load",l.status,n(l.response),l.getAllResponseHeaders()))},i.onerror=l=>{o(se("error",l.status,s(l.response)||l.statusText,l.getAllResponseHeaders()))},i.ontimeout=rt(o),i}},Vr=(e=0,t=1)=>e+Math.random()*(t-e),Hi=(e,t=1e3,n=0,s=25,r=250)=>{let a=null;const o=Date.now(),i=()=>{let l=Date.now()-o,c=Vr(s,r);l+c>t&&(c=l+c-t);let u=l/t;if(u>=1||document.hidden){e(1);return}e(u),a=setTimeout(i,c)};return t>0&&i(),{clear:()=>{clearTimeout(a)}}},qi=(e,t)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:s}=t,r=(u,f)=>{const d=()=>{n.duration===0||n.progress===null||c.fire("progress",c.getProgress())},_=()=>{n.complete=!0,c.fire("load-perceived",n.response.body)};c.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=Hi(p=>{n.perceivedProgress=p,n.perceivedDuration=Date.now()-n.timestamp,d(),n.response&&n.perceivedProgress===1&&!n.complete&&_()},s?Vr(750,1500):0),n.request=e(u,f,p=>{n.response=pe(p)?p:{type:"load",code:200,body:`${p}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,c.fire("load",n.response.body),(!s||s&&n.perceivedProgress===1)&&_()},p=>{n.perceivedPerformanceUpdater.clear(),c.fire("error",pe(p)?p:{type:"error",code:0,body:`${p}`})},(p,g,M)=>{n.duration=Date.now()-n.timestamp,n.progress=p?g/M:null,d()},()=>{n.perceivedPerformanceUpdater.clear(),c.fire("abort",n.response?n.response.body:null)},p=>{c.fire("transfer",p)})},a=()=>{n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},o=()=>{a(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},i=s?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,l=s?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,c={...ln(),process:r,abort:a,getProgress:i,getDuration:l,reset:o};return c},xr=e=>e.substring(0,e.lastIndexOf("."))||e,Yi=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||wn(e)?t[0]=e.name||kr():wn(e)?(t[1]=e.length,t[2]=Ur(e)):ve(e)&&(t[0]=Pt(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},It=e=>!!(e instanceof File||e instanceof Blob&&e.name),$r=e=>{if(!pe(e))return e;const t=rn(e)?[]:{};for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n];t[n]=s&&pe(s)?$r(s):s}return t},zi=(e=null,t=null,n=null)=>{const s=Jn(),r={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?W.PROCESSING_COMPLETE:W.INIT,activeLoader:null,activeProcessor:null};let a=null;const o={},i=T=>r.status=T,l=(T,...O)=>{r.released||r.frozen||y.fire(T,...O)},c=()=>cn(r.file.name),u=()=>r.file.type,f=()=>r.file.size,d=()=>r.file,_=(T,O,V)=>{if(r.source=T,y.fireSync("init"),r.file){y.fireSync("load-skip");return}r.file=Yi(T),O.on("init",()=>{l("load-init")}),O.on("meta",P=>{r.file.size=P.size,r.file.filename=P.filename,P.source&&(e=fe.LIMBO,r.serverFileReference=P.source,r.status=W.PROCESSING_COMPLETE),l("load-meta")}),O.on("progress",P=>{i(W.LOADING),l("load-progress",P)}),O.on("error",P=>{i(W.LOAD_ERROR),l("load-request-error",P)}),O.on("abort",()=>{i(W.INIT),l("load-abort")}),O.on("load",P=>{r.activeLoader=null;const N=b=>{r.file=It(b)?b:r.file,e===fe.LIMBO&&r.serverFileReference?i(W.PROCESSING_COMPLETE):i(W.IDLE),l("load")},Z=b=>{r.file=P,l("load-meta"),i(W.LOAD_ERROR),l("load-file-error",b)};if(r.serverFileReference){N(P);return}V(P,N,Z)}),O.setSource(T),r.activeLoader=O,O.load()},p=()=>{r.activeLoader&&r.activeLoader.load()},g=()=>{if(r.activeLoader){r.activeLoader.abort();return}i(W.INIT),l("load-abort")},M=(T,O)=>{if(r.processingAborted){r.processingAborted=!1;return}if(i(W.PROCESSING),a=null,!(r.file instanceof Blob)){y.on("load",()=>{M(T,O)});return}T.on("load",N=>{r.transferId=null,r.serverFileReference=N}),T.on("transfer",N=>{r.transferId=N}),T.on("load-perceived",N=>{r.activeProcessor=null,r.transferId=null,r.serverFileReference=N,i(W.PROCESSING_COMPLETE),l("process-complete",N)}),T.on("start",()=>{l("process-start")}),T.on("error",N=>{r.activeProcessor=null,i(W.PROCESSING_ERROR),l("process-error",N)}),T.on("abort",N=>{r.activeProcessor=null,r.serverFileReference=N,i(W.IDLE),l("process-abort"),a&&a()}),T.on("progress",N=>{l("process-progress",N)});const V=N=>{r.archived||T.process(N,{...o})},P=console.error;O(r.file,V,P),r.activeProcessor=T},S=()=>{r.processingAborted=!1,i(W.PROCESSING_QUEUED)},A=()=>new Promise(T=>{if(!r.activeProcessor){r.processingAborted=!0,i(W.IDLE),l("process-abort"),T();return}a=()=>{T()},r.activeProcessor.abort()}),L=(T,O)=>new Promise((V,P)=>{const N=r.serverFileReference!==null?r.serverFileReference:r.transferId;if(N===null){V();return}T(N,()=>{r.serverFileReference=null,r.transferId=null,V()},Z=>{if(!O){V();return}i(W.PROCESSING_REVERT_ERROR),l("process-revert-error"),P(Z)}),i(W.IDLE),l("process-revert")}),B=(T,O,V)=>{const P=T.split("."),N=P[0],Z=P.pop();let b=o;P.forEach(q=>b=b[q]),JSON.stringify(b[Z])!==JSON.stringify(O)&&(b[Z]=O,l("metadata-update",{key:N,value:o[N],silent:V}))},y={id:{get:()=>s},origin:{get:()=>e,set:T=>e=T},serverId:{get:()=>r.serverFileReference},transferId:{get:()=>r.transferId},status:{get:()=>r.status},filename:{get:()=>r.file.name},filenameWithoutExtension:{get:()=>xr(r.file.name)},fileExtension:{get:c},fileType:{get:u},fileSize:{get:f},file:{get:d},relativePath:{get:()=>r.file._relativePath},source:{get:()=>r.source},getMetadata:T=>$r(T?o[T]:o),setMetadata:(T,O,V)=>{if(pe(T)){const P=T;return Object.keys(P).forEach(N=>{B(N,P[N],O)}),T}return B(T,O,V),O},extend:(T,O)=>U[T]=O,abortLoad:g,retryLoad:p,requestProcessing:S,abortProcessing:A,load:_,process:M,revert:L,...ln(),freeze:()=>r.frozen=!0,release:()=>r.released=!0,released:{get:()=>r.released},archive:()=>r.archived=!0,archived:{get:()=>r.archived}},U=Xe(y);return U},Wi=(e,t)=>$e(t)?0:ve(t)?e.findIndex(n=>n.id===t):-1,Ns=(e,t)=>{const n=Wi(e,t);if(!(n<0))return e[n]||null},Gs=(e,t,n,s,r,a)=>{const o=st(null,e,{method:"GET",responseType:"blob"});return o.onload=i=>{const l=i.getAllResponseHeaders(),c=ns(l).name||Pt(e);t(se("load",i.status,ht(i.response,c),l))},o.onerror=i=>{n(se("error",i.status,i.statusText,i.getAllResponseHeaders()))},o.onheaders=i=>{a(se("headers",i.status,null,i.getAllResponseHeaders()))},o.ontimeout=rt(n),o.onprogress=s,o.onabort=r,o},ks=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),ji=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&ks(location.href)!==ks(e),kt=e=>(...t)=>tt(e)?e(...t):e,Xi=e=>!It(e.file),Tn=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:Pe(t.items)})},0)},Bs=(e,...t)=>new Promise(n=>{if(!e)return n(!0);const s=e(...t);if(s==null)return n(!0);if(typeof s=="boolean")return n(s);typeof s.then=="function"&&s.then(n)}),Rn=(e,t)=>{e.items.sort((n,s)=>t(Re(n),Re(s)))},Oe=(e,t)=>({query:n,success:s=()=>{},failure:r=()=>{},...a}={})=>{const o=nt(e.items,n);if(!o){r({error:se("error",0,"Item not found"),file:null});return}t(o,s,r,a||{})},Qi=(e,t,n)=>({ABORT_ALL:()=>{Pe(n.items).forEach(s=>{s.freeze(),s.abortLoad(),s.abortProcessing()})},DID_SET_FILES:({value:s=[]})=>{const r=s.map(o=>({source:o.source?o.source:o,options:o.options}));let a=Pe(n.items);a.forEach(o=>{r.find(i=>i.source===o.source||i.source===o.file)||e("REMOVE_ITEM",{query:o,remove:!1})}),a=Pe(n.items),r.forEach((o,i)=>{a.find(l=>l.source===o.source||l.file===o.source)||e("ADD_ITEM",{...o,interactionMethod:Ce.NONE,index:i})})},DID_UPDATE_ITEM_METADATA:({id:s,action:r,change:a})=>{a.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const o=Ns(n.items,s);if(!t("IS_ASYNC")){we("SHOULD_PREPARE_OUTPUT",!1,{item:o,query:t,action:r,change:a}).then(u=>{const f=t("GET_BEFORE_PREPARE_FILE");f&&(u=f(o,u)),u&&e("REQUEST_PREPARE_OUTPUT",{query:s,item:o,success:d=>{e("DID_PREPARE_OUTPUT",{id:s,file:d})}},!0)});return}o.origin===fe.LOCAL&&e("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.source});const i=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:s})},32)},l=u=>{o.revert(St(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(u?i:()=>{}).catch(()=>{})},c=u=>{o.abortProcessing().then(u?i:()=>{})};if(o.status===W.PROCESSING_COMPLETE)return l(n.options.instantUpload);if(o.status===W.PROCESSING)return c(n.options.instantUpload);n.options.instantUpload&&i()},0))},MOVE_ITEM:({query:s,index:r})=>{const a=nt(n.items,s);if(!a)return;const o=n.items.indexOf(a);r=Gr(r,0,n.items.length-1),o!==r&&n.items.splice(r,0,n.items.splice(o,1)[0])},SORT:({compare:s})=>{Rn(n,s),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:s,index:r,interactionMethod:a,success:o=()=>{},failure:i=()=>{}})=>{let l=r;if(r===-1||typeof r>"u"){const _=t("GET_ITEM_INSERT_LOCATION"),p=t("GET_TOTAL_ITEMS");l=_==="before"?0:p}const c=t("GET_IGNORED_FILES"),u=_=>It(_)?!c.includes(_.name.toLowerCase()):!$e(_),d=s.filter(u).map(_=>new Promise((p,g)=>{e("ADD_ITEM",{interactionMethod:a,source:_.source||_,success:p,failure:g,index:l++,options:_.options||{}})}));Promise.all(d).then(o).catch(i)},ADD_ITEM:({source:s,index:r=-1,interactionMethod:a,success:o=()=>{},failure:i=()=>{},options:l={}})=>{if($e(s)){i({error:se("error",0,"No source"),file:null});return}if(It(s)&&n.options.ignoredFiles.includes(s.name.toLowerCase()))return;if(!Oi(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const A=se("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:s,error:A}),i({error:A,file:null});return}const S=Pe(n.items)[0];if(S.status===W.PROCESSING_COMPLETE||S.status===W.PROCESSING_REVERT_ERROR){const A=t("GET_FORCE_REVERT");if(S.revert(St(n.options.server.url,n.options.server.revert),A).then(()=>{A&&e("ADD_ITEM",{source:s,index:r,interactionMethod:a,success:o,failure:i,options:l})}).catch(()=>{}),A)return}e("REMOVE_ITEM",{query:S.id})}const c=l.type==="local"?fe.LOCAL:l.type==="limbo"?fe.LIMBO:fe.INPUT,u=zi(c,c===fe.INPUT?null:s,l.file);Object.keys(l.metadata||{}).forEach(S=>{u.setMetadata(S,l.metadata[S])}),ct("DID_CREATE_ITEM",u,{query:t,dispatch:e});const f=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(r=f==="before"?-1:n.items.length),Ci(n.items,u,r),tt(f)&&s&&Rn(n,f);const d=u.id;u.on("init",()=>{e("DID_INIT_ITEM",{id:d})}),u.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:d})}),u.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:d})}),u.on("load-progress",S=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:d,progress:S})}),u.on("load-request-error",S=>{const A=kt(n.options.labelFileLoadError)(S);if(S.code>=400&&S.code<500){e("DID_THROW_ITEM_INVALID",{id:d,error:S,status:{main:A,sub:`${S.code} (${S.body})`}}),i({error:S,file:Re(u)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:d,error:S,status:{main:A,sub:n.options.labelTapToRetry}})}),u.on("load-file-error",S=>{e("DID_THROW_ITEM_INVALID",{id:d,error:S.status,status:S.status}),i({error:S.status,file:Re(u)})}),u.on("load-abort",()=>{e("REMOVE_ITEM",{query:d})}),u.on("load-skip",()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:u,data:{source:s,success:o}})}),u.on("load",()=>{const S=A=>{if(!A){e("REMOVE_ITEM",{query:d});return}u.on("metadata-update",L=>{e("DID_UPDATE_ITEM_METADATA",{id:d,change:L})}),we("SHOULD_PREPARE_OUTPUT",!1,{item:u,query:t}).then(L=>{const B=t("GET_BEFORE_PREPARE_FILE");B&&(L=B(u,L));const R=()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:u,data:{source:s,success:o}}),Tn(e,n)};if(L){e("REQUEST_PREPARE_OUTPUT",{query:d,item:u,success:y=>{e("DID_PREPARE_OUTPUT",{id:d,file:y}),R()}},!0);return}R()})};we("DID_LOAD_ITEM",u,{query:t,dispatch:e}).then(()=>{Bs(t("GET_BEFORE_ADD_FILE"),Re(u)).then(S)}).catch(A=>{if(!A||!A.error||!A.status)return S(!1);e("DID_THROW_ITEM_INVALID",{id:d,error:A.error,status:A.status})})}),u.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:d})}),u.on("process-progress",S=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:d,progress:S})}),u.on("process-error",S=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:d,error:S,status:{main:kt(n.options.labelFileProcessingError)(S),sub:n.options.labelTapToRetry}})}),u.on("process-revert-error",S=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:d,error:S,status:{main:kt(n.options.labelFileProcessingRevertError)(S),sub:n.options.labelTapToRetry}})}),u.on("process-complete",S=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:d,error:null,serverFileReference:S}),e("DID_DEFINE_VALUE",{id:d,value:S})}),u.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:d})}),u.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:d}),e("DID_DEFINE_VALUE",{id:d,value:null})}),e("DID_ADD_ITEM",{id:d,index:r,interactionMethod:a}),Tn(e,n);const{url:_,load:p,restore:g,fetch:M}=n.options.server||{};u.load(s,Vi(c===fe.INPUT?ve(s)&&ji(s)&&M?vn(_,M):Gs:c===fe.LIMBO?vn(_,g):vn(_,p)),(S,A,L)=>{we("LOAD_FILE",S,{query:t}).then(A).catch(L)})},REQUEST_PREPARE_OUTPUT:({item:s,success:r,failure:a=()=>{}})=>{const o={error:se("error",0,"Item not found"),file:null};if(s.archived)return a(o);we("PREPARE_OUTPUT",s.file,{query:t,item:s}).then(i=>{we("COMPLETE_PREPARE_OUTPUT",i,{query:t,item:s}).then(l=>{if(s.archived)return a(o);r(l)})})},COMPLETE_LOAD_ITEM:({item:s,data:r})=>{const{success:a,source:o}=r,i=t("GET_ITEM_INSERT_LOCATION");if(tt(i)&&o&&Rn(n,i),e("DID_LOAD_ITEM",{id:s.id,error:null,serverFileReference:s.origin===fe.INPUT?null:o}),a(Re(s)),s.origin===fe.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:s.id});return}if(s.origin===fe.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:s.id,error:null,serverFileReference:o}),e("DID_DEFINE_VALUE",{id:s.id,value:s.serverId||o});return}t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:s.id})},RETRY_ITEM_LOAD:Oe(n,s=>{s.retryLoad()}),REQUEST_ITEM_PREPARE:Oe(n,(s,r,a)=>{e("REQUEST_PREPARE_OUTPUT",{query:s.id,item:s,success:o=>{e("DID_PREPARE_OUTPUT",{id:s.id,file:o}),r({file:s,output:o})},failure:a},!0)}),REQUEST_ITEM_PROCESSING:Oe(n,(s,r,a)=>{if(!(s.status===W.IDLE||s.status===W.PROCESSING_ERROR)){const i=()=>e("REQUEST_ITEM_PROCESSING",{query:s,success:r,failure:a}),l=()=>document.hidden?i():setTimeout(i,32);s.status===W.PROCESSING_COMPLETE||s.status===W.PROCESSING_REVERT_ERROR?s.revert(St(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(l).catch(()=>{}):s.status===W.PROCESSING&&s.abortProcessing().then(l);return}s.status!==W.PROCESSING_QUEUED&&(s.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:s.id}),e("PROCESS_ITEM",{query:s,success:r,failure:a},!0))}),PROCESS_ITEM:Oe(n,(s,r,a)=>{const o=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",W.PROCESSING).length===o){n.processingQueue.push({id:s.id,success:r,failure:a});return}if(s.status===W.PROCESSING)return;const l=()=>{const u=n.processingQueue.shift();if(!u)return;const{id:f,success:d,failure:_}=u,p=nt(n.items,f);if(!p||p.archived){l();return}e("PROCESS_ITEM",{query:f,success:d,failure:_},!0)};s.onOnce("process-complete",()=>{r(Re(s)),l();const u=n.options.server;if(n.options.instantUpload&&s.origin===fe.LOCAL&&tt(u.remove)){const _=()=>{};s.origin=fe.LIMBO,n.options.server.remove(s.source,_,_)}t("GET_ITEMS_BY_STATUS",W.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),s.onOnce("process-error",u=>{a({error:u,file:Re(s)}),l()});const c=n.options;s.process(qi(Fi(c.server.url,c.server.process,c.name,{chunkTransferId:s.transferId,chunkServer:c.server.patch,chunkUploads:c.chunkUploads,chunkForce:c.chunkForce,chunkSize:c.chunkSize,chunkRetryDelays:c.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(u,f,d)=>{we("PREPARE_OUTPUT",u,{query:t,item:s}).then(_=>{e("DID_PREPARE_OUTPUT",{id:s.id,file:_}),f(_)}).catch(d)})}),RETRY_ITEM_PROCESSING:Oe(n,s=>{e("REQUEST_ITEM_PROCESSING",{query:s})}),REQUEST_REMOVE_ITEM:Oe(n,s=>{Bs(t("GET_BEFORE_REMOVE_FILE"),Re(s)).then(r=>{r&&e("REMOVE_ITEM",{query:s})})}),RELEASE_ITEM:Oe(n,s=>{s.release()}),REMOVE_ITEM:Oe(n,(s,r,a,o)=>{const i=()=>{const c=s.id;Ns(n.items,c).archive(),e("DID_REMOVE_ITEM",{error:null,id:c,item:s}),Tn(e,n),r(Re(s))},l=n.options.server;s.origin===fe.LOCAL&&l&&tt(l.remove)&&o.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:s.id}),l.remove(s.source,()=>i(),c=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:s.id,error:se("error",0,c,null),status:{main:kt(n.options.labelFileRemoveError)(c),sub:n.options.labelTapToRetry}})})):((o.revert&&s.origin!==fe.LOCAL&&s.serverId!==null||n.options.chunkUploads&&s.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&s.revert(St(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),i())}),ABORT_ITEM_LOAD:Oe(n,s=>{s.abortLoad()}),ABORT_ITEM_PROCESSING:Oe(n,s=>{if(s.serverId){e("REVERT_ITEM_PROCESSING",{id:s.id});return}s.abortProcessing().then(()=>{n.options.instantUpload&&e("REMOVE_ITEM",{query:s.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Oe(n,s=>{if(!n.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:s});return}const r=i=>{i&&e("REVERT_ITEM_PROCESSING",{query:s})},a=t("GET_BEFORE_REMOVE_FILE");if(!a)return r(!0);const o=a(Re(s));if(o==null)return r(!0);if(typeof o=="boolean")return r(o);typeof o.then=="function"&&o.then(r)}),REVERT_ITEM_PROCESSING:Oe(n,s=>{s.revert(St(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||Xi(s))&&e("REMOVE_ITEM",{query:s.id})}).catch(()=>{})}),SET_OPTIONS:({options:s})=>{const r=Object.keys(s),a=Ki.filter(i=>r.includes(i));[...a,...Object.keys(s).filter(i=>!a.includes(i))].forEach(i=>{e(`SET_${on(i,"_").toUpperCase()}`,{value:s[i]})})}}),Ki=["server"],ss=e=>e,Fe=e=>document.createElement(e),re=(e,t)=>{let n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},Us=(e,t,n,s)=>{const r=(s%360-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}},Zi=(e,t,n,s,r,a)=>{const o=Us(e,t,n,r),i=Us(e,t,n,s);return["M",o.x,o.y,"A",n,n,0,a,0,i.x,i.y].join(" ")},Ji=(e,t,n,s,r)=>{let a=1;return r>s&&r-s<=.5&&(a=0),s>r&&s-r>=.5&&(a=0),Zi(e,t,n,Math.min(.9999,s)*360,Math.min(.9999,r)*360,a)},el=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const n=Yt("svg");e.ref.path=Yt("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(e.ref.path),e.ref.svg=n,e.appendChild(n)},tl=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const n=parseInt(le(e.ref.path,"stroke-width"),10),s=e.rect.element.width*.5;let r=0,a=0;t.spin?(r=0,a=.5):(r=0,a=t.progress);const o=Ji(s,s,s-n,r,a);le(e.ref.path,"d",o),le(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},Vs=ce({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:el,write:tl,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),nl=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},sl=({root:e,props:t})=>{const{isDisabled:n}=t,s=e.query("GET_DISABLED")||t.opacity===0;s&&!n?(t.isDisabled=!0,le(e.element,"disabled","disabled")):!s&&n&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},Fr=ce({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:nl,write:sl}),Hr=(e,t=".",n=1e3,s={})=>{const{labelBytes:r="bytes",labelKilobytes:a="KB",labelMegabytes:o="MB",labelGigabytes:i="GB"}=s;e=Math.round(Math.abs(e));const l=n,c=n*n,u=n*n*n;return e<l?`${e} ${r}`:e<c?`${Math.floor(e/l)} ${a}`:e<u?`${xs(e/c,1,t)} ${o}`:`${xs(e/u,2,t)} ${i}`},xs=(e,t,n)=>e.toFixed(t).split(".").filter(s=>s!=="0").join(n),rl=({root:e,props:t})=>{const n=Fe("span");n.className="filepond--file-info-main",le(n,"aria-hidden","true"),e.appendChild(n),e.ref.fileName=n;const s=Fe("span");s.className="filepond--file-info-sub",e.appendChild(s),e.ref.fileSize=s,re(s,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),re(n,ss(e.query("GET_ITEM_NAME",t.id)))},Pn=({root:e,props:t})=>{re(e.ref.fileSize,Hr(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),re(e.ref.fileName,ss(e.query("GET_ITEM_NAME",t.id)))},$s=({root:e,props:t})=>{if(vt(e.query("GET_ITEM_SIZE",t.id))){Pn({root:e,props:t});return}re(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},al=ce({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Te({DID_LOAD_ITEM:Pn,DID_UPDATE_ITEM_META:Pn,DID_THROW_ITEM_LOAD_ERROR:$s,DID_THROW_ITEM_INVALID:$s}),didCreateView:e=>{ct("CREATE_VIEW",{...e,view:e})},create:rl,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),qr=e=>Math.round(e*100),ol=({root:e})=>{const t=Fe("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const n=Fe("span");n.className="filepond--file-status-sub",e.appendChild(n),e.ref.sub=n,Yr({root:e,action:{progress:null}})},Yr=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${qr(t.progress)}%`;re(e.ref.main,n),re(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},il=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${qr(t.progress)}%`;re(e.ref.main,n),re(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},ll=({root:e})=>{re(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),re(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},cl=({root:e})=>{re(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),re(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},ul=({root:e})=>{re(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),re(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},Fs=({root:e})=>{re(e.ref.main,""),re(e.ref.sub,"")},bt=({root:e,action:t})=>{re(e.ref.main,t.status.main),re(e.ref.sub,t.status.sub)},dl=ce({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Te({DID_LOAD_ITEM:Fs,DID_REVERT_ITEM_PROCESSING:Fs,DID_REQUEST_ITEM_PROCESSING:ll,DID_ABORT_ITEM_PROCESSING:cl,DID_COMPLETE_ITEM_PROCESSING:ul,DID_UPDATE_ITEM_PROCESS_PROGRESS:il,DID_UPDATE_ITEM_LOAD_PROGRESS:Yr,DID_THROW_ITEM_LOAD_ERROR:bt,DID_THROW_ITEM_INVALID:bt,DID_THROW_ITEM_PROCESSING_ERROR:bt,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:bt,DID_THROW_ITEM_REMOVE_ERROR:bt}),didCreateView:e=>{ct("CREATE_VIEW",{...e,view:e})},create:ol,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Ln={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Nn=[];ne(Ln,e=>{Nn.push(e)});const Se=e=>{if(Gn(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},fl=e=>e.ref.buttonAbortItemLoad.rect.element.width,Bt=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),ml=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),pl=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),_l=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),Gn=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),gl={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:pl},processProgressIndicator:{opacity:0,align:_l},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Hs={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Se},status:{translateX:Se}},yn={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},mt={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Se},status:{translateX:Se,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Se},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Gn},info:{translateX:Se},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Gn},buttonRemoveItem:{opacity:1},info:{translateX:Se},status:{opacity:1,translateX:Se}},DID_LOAD_ITEM:Hs,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Se},status:{translateX:Se}},DID_START_ITEM_PROCESSING:yn,DID_REQUEST_ITEM_PROCESSING:yn,DID_UPDATE_ITEM_PROCESS_PROGRESS:yn,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Se}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Se},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Hs},El=ce({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),hl=({root:e,props:t})=>{const n=Object.keys(Ln).reduce((p,g)=>(p[g]={...Ln[g]},p),{}),{id:s}=t,r=e.query("GET_ALLOW_REVERT"),a=e.query("GET_ALLOW_REMOVE"),o=e.query("GET_ALLOW_PROCESS"),i=e.query("GET_INSTANT_UPLOAD"),l=e.query("IS_ASYNC"),c=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let u;l?o&&!r?u=p=>!/RevertItemProcessing/.test(p):!o&&r?u=p=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(p):!o&&!r&&(u=p=>!/Process/.test(p)):u=p=>!/Process/.test(p);const f=u?Nn.filter(u):Nn.concat();if(i&&r&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!r){const p=mt.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=ml,p.info.translateY=Bt,p.status.translateY=Bt,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!o&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(p=>{mt[p].status.translateY=Bt}),mt.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=fl),c&&r){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const p=mt.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=Se,p.status.translateY=Bt,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}a||(n.RemoveItem.disabled=!0),ne(n,(p,g)=>{const M=e.createChildView(Fr,{label:e.query(g.label),icon:e.query(g.icon),opacity:0});f.includes(p)&&e.appendChildView(M),g.disabled&&(M.element.setAttribute("disabled","disabled"),M.element.setAttribute("hidden","hidden")),M.element.dataset.align=e.query(`GET_STYLE_${g.align}`),M.element.classList.add(g.className),M.on("click",S=>{S.stopPropagation(),!g.disabled&&e.dispatch(g.action,{query:s})}),e.ref[`button${p}`]=M}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(El)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(al,{id:s})),e.ref.status=e.appendChildView(e.createChildView(dl,{id:s}));const d=e.appendChildView(e.createChildView(Vs,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));d.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=d;const _=e.appendChildView(e.createChildView(Vs,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));_.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=_,e.ref.activeStyles=[]},Il=({root:e,actions:t,props:n})=>{vl({root:e,actions:t,props:n});let s=t.concat().filter(r=>/^DID_/.test(r.type)).reverse().find(r=>mt[r.type]);if(s){e.ref.activeStyles=[];const r=mt[s.type];ne(gl,(a,o)=>{const i=e.ref[a];ne(o,(l,c)=>{const u=r[a]&&typeof r[a][l]<"u"?r[a][l]:c;e.ref.activeStyles.push({control:i,key:l,value:u})})})}e.ref.activeStyles.forEach(({control:r,key:a,value:o})=>{r[a]=typeof o=="function"?o(e):o})},vl=Te({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),Tl=ce({create:hl,write:Il,didCreateView:e=>{ct("CREATE_VIEW",{...e,view:e})},name:"file"}),Rl=({root:e,props:t})=>{e.ref.fileName=Fe("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(Tl,{id:t.id})),e.ref.data=!1},yl=({root:e,props:t})=>{re(e.ref.fileName,ss(e.query("GET_ITEM_NAME",t.id)))},Sl=ce({create:Rl,ignoreRect:!0,write:Te({DID_LOAD_ITEM:yl}),didCreateView:e=>{ct("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),qs={type:"spring",damping:.6,mass:7},bl=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:qs},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:qs},styles:["translateY"]}}].forEach(n=>{Ol(e,n,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},Ol=(e,t,n)=>{const s=ce({name:`panel-${t.name} filepond--${n}`,mixins:t.mixins,ignoreRectUpdate:!0}),r=e.createChildView(s,t.props);e.ref[t.name]=e.appendChildView(r)},Dl=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=Dr(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const n=e.ref.top.rect.element,s=e.ref.bottom.rect.element,r=Math.max(n.height+s.height,t.height);e.ref.center.translateY=n.height,e.ref.center.scaleY=(r-n.height-s.height)/100,e.ref.bottom.translateY=r-s.height},zr=ce({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:Dl,create:bl,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Cl=e=>{const t=e.map(s=>s.id);let n;return{setIndex:s=>{n=s},getIndex:()=>n,getItemIndex:s=>t.indexOf(s.id)}},Ys={type:"spring",stiffness:.75,damping:.45,mass:10},zs="spring",Ws={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Al=({root:e,props:t})=>{if(e.ref.handleClick=s=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(Sl,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(zr,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const n=s=>{if(!s.isPrimary)return;let r=!1;const a={x:s.pageX,y:s.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:s.offsetX,y:s.offsetY};const o=Cl(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:o});const i=c=>{if(!c.isPrimary)return;c.stopPropagation(),c.preventDefault(),t.dragOffset={x:c.pageX-a.x,y:c.pageY-a.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!r&&(r=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:o})},l=c=>{c.isPrimary&&(document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",l),t.dragOffset={x:c.pageX-a.x,y:c.pageY-a.y},e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:o}),r&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0))};document.addEventListener("pointermove",i),document.addEventListener("pointerup",l)};e.element.addEventListener("pointerdown",n)},Ml=Te({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),wl=Te({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:n,shouldOptimize:s})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let r=t.concat().filter(o=>/^DID_/.test(o.type)).reverse().find(o=>Ws[o.type]);r&&r.type!==n.currentState&&(n.currentState=r.type,e.element.dataset.filepondItemState=Ws[n.currentState]||"");const a=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");a?s||(e.height=e.rect.element.width*a):(Ml({root:e,actions:t,props:n}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),s&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),Pl=ce({create:Al,write:wl,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:zs,scaleY:zs,translateX:Ys,translateY:Ys,opacity:{type:"tween",duration:150}}}});var rs=(e,t)=>Math.max(1,Math.floor((e+1)/t));const as=(e,t,n)=>{if(!n)return;const s=e.rect.element.width,r=t.length;let a=null;if(r===0||n.top<t[0].rect.element.top)return-1;const i=t[0].rect.element,l=i.marginLeft+i.marginRight,c=i.width+l,u=rs(s,c);if(u===1){for(let _=0;_<r;_++){const p=t[_],g=p.rect.outer.top+p.rect.element.height*.5;if(n.top<g)return _}return r}const f=i.marginTop+i.marginBottom,d=i.height+f;for(let _=0;_<r;_++){const p=_%u,g=Math.floor(_/u),M=p*c,S=g*d,A=S-i.marginTop,L=M+c,B=S+d+i.marginBottom;if(n.top<B&&n.top>A){if(n.left<L)return _;_!==r-1?a=_:a=null}}return a!==null?a:r},Ut={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},Ll=({root:e})=>{le(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Nl=({root:e,action:t})=>{const{id:n,index:s,interactionMethod:r}=t;e.ref.addIndex=s;const a=Date.now();let o=a,i=1;if(r!==Ce.NONE){i=0;const l=e.query("GET_ITEM_INSERT_INTERVAL"),c=a-e.ref.lastItemSpanwDate;o=c<l?a+(l-c):a}e.ref.lastItemSpanwDate=o,e.appendChildView(e.createChildView(Pl,{spawnDate:o,id:n,opacity:i,interactionMethod:r}),s)},js=(e,t,n,s=0,r=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(e.opacity===0&&Gl(e,t,n,s,r),e.scaleX=1,e.scaleY=1,e.opacity=1))},Gl=(e,t,n,s,r)=>{e.interactionMethod===Ce.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===Ce.DROP?(e.translateX=null,e.translateX=t-s*20,e.translateY=null,e.translateY=n-r*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===Ce.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===Ce.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},kl=({root:e,action:t})=>{const{id:n}=t,s=e.childViews.find(r=>r.id===n);s&&(s.scaleX=.9,s.scaleY=.9,s.opacity=0,s.markedForRemoval=!0)},Sn=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,Bl=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Ul=({root:e,action:t})=>{const{id:n,dragState:s}=t,r=e.query("GET_ITEM",{id:n}),a=e.childViews.find(M=>M.id===n),o=e.childViews.length,i=s.getItemIndex(r);if(!a)return;const l={x:a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,y:a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y},c=Sn(a),u=Bl(a);let f=Math.floor(e.rect.outer.width/u);f>o&&(f=o);const d=Math.floor(o/f+1);Ut.setHeight=c*d,Ut.setWidth=u*f;var _={y:Math.floor(l.y/c),x:Math.floor(l.x/u),getGridIndex:function(){return l.y>Ut.getHeight||l.y<0||l.x>Ut.getWidth||l.x<0?i:this.y*f+this.x},getColIndex:function(){const S=e.query("GET_ACTIVE_ITEMS"),A=e.childViews.filter(P=>P.rect.element.height),L=S.map(P=>A.find(N=>N.id===P.id)),B=L.findIndex(P=>P===a),R=Sn(a),y=L.length;let U=y,T=0,O=0,V=0;for(let P=0;P<y;P++)if(T=Sn(L[P]),V=O,O=V+T,l.y<O){if(B>P){if(l.y<V+R){U=P;break}continue}U=P;break}return U}};const p=f>1?_.getGridIndex():_.getColIndex();e.dispatch("MOVE_ITEM",{query:a,index:p});const g=s.getIndex();if(g===void 0||g!==p){if(s.setIndex(p),g===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:i,target:p})}},Vl=Te({DID_ADD_ITEM:Nl,DID_REMOVE_ITEM:kl,DID_DRAG_ITEM:Ul}),xl=({root:e,props:t,actions:n,shouldOptimize:s})=>{Vl({root:e,props:t,actions:n});const{dragCoordinates:r}=t,a=e.rect.element.width,o=e.childViews.filter(L=>L.rect.element.height),i=e.query("GET_ACTIVE_ITEMS").map(L=>o.find(B=>B.id===L.id)).filter(L=>L),l=r?as(e,i,r):null,c=e.ref.addIndex||null;e.ref.addIndex=null;let u=0,f=0,d=0;if(i.length===0)return;const _=i[0].rect.element,p=_.marginTop+_.marginBottom,g=_.marginLeft+_.marginRight,M=_.width+g,S=_.height+p,A=rs(a,M);if(A===1){let L=0,B=0;i.forEach((R,y)=>{if(l){let O=y-l;O===-2?B=-p*.25:O===-1?B=-p*.75:O===0?B=p*.75:O===1?B=p*.25:B=0}s&&(R.translateX=null,R.translateY=null),R.markedForRemoval||js(R,0,L+B);let T=(R.rect.element.height+p)*(R.markedForRemoval?R.opacity:1);L+=T})}else{let L=0,B=0;i.forEach((R,y)=>{y===l&&(u=1),y===c&&(d+=1),R.markedForRemoval&&R.opacity<.5&&(f-=1);const U=y+d+u+f,T=U%A,O=Math.floor(U/A),V=T*M,P=O*S,N=Math.sign(V-L),Z=Math.sign(P-B);L=V,B=P,!R.markedForRemoval&&(s&&(R.translateX=null,R.translateY=null),js(R,V,P,N,Z))})}},$l=(e,t)=>t.filter(n=>n.data&&n.data.id?e.id===n.data.id:!0),Fl=ce({create:Ll,write:xl,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:$l,mixins:{apis:["dragCoordinates"]}}),Hl=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Fl)),t.dragCoordinates=null,t.overflowing=!1},ql=({root:e,props:t,action:n})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:n.position.scopeLeft-e.ref.list.rect.element.left,top:n.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Yl=({props:e})=>{e.dragCoordinates=null},zl=Te({DID_DRAG:ql,DID_END_DRAG:Yl}),Wl=({root:e,props:t,actions:n})=>{if(zl({root:e,props:t,actions:n}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const s=Math.round(t.overflow);s!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=s)}},jl=ce({create:Hl,write:Wl,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Le=(e,t,n,s="")=>{n?le(e,t,s):e.removeAttribute(t)},Xl=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=Fe("form"),n=e.parentNode,s=e.nextSibling;t.appendChild(e),t.reset(),s?n.insertBefore(e,s):n.appendChild(e)}}},Ql=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,le(e.element,"name",e.query("GET_NAME")),le(e.element,"aria-controls",`filepond--assistant-${t.id}`),le(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),Wr({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),jr({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),Xr({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),kn({root:e}),Qr({root:e,action:{value:e.query("GET_REQUIRED")}}),Kr({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=n=>{if(!e.element.value)return;const s=Array.from(e.element.files).map(r=>(r._relativePath=r.webkitRelativePath,r));setTimeout(()=>{t.onload(s),Xl(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},Wr=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Le(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},jr=({root:e,action:t})=>{Le(e.element,"multiple",t.value)},Xr=({root:e,action:t})=>{Le(e.element,"webkitdirectory",t.value)},kn=({root:e})=>{const t=e.query("GET_DISABLED"),n=e.query("GET_ALLOW_BROWSE"),s=t||!n;Le(e.element,"disabled",s)},Qr=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&Le(e.element,"required",!0):Le(e.element,"required",!1)},Kr=({root:e,action:t})=>{Le(e.element,"capture",!!t.value,t.value===!0?"":t.value)},Xs=({root:e})=>{const{element:t}=e;e.query("GET_TOTAL_ITEMS")>0?(Le(t,"required",!1),Le(t,"name",!1)):(Le(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&Le(t,"required",!0))},Kl=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},Zl=ce({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Ql,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:Te({DID_LOAD_ITEM:Xs,DID_REMOVE_ITEM:Xs,DID_THROW_ITEM_INVALID:Kl,DID_SET_DISABLED:kn,DID_SET_ALLOW_BROWSE:kn,DID_SET_ALLOW_DIRECTORIES_ONLY:Xr,DID_SET_ALLOW_MULTIPLE:jr,DID_SET_ACCEPTED_FILE_TYPES:Wr,DID_SET_CAPTURE_METHOD:Kr,DID_SET_REQUIRED:Qr})}),Qs={ENTER:13,SPACE:32},Jl=({root:e,props:t})=>{const n=Fe("label");le(n,"for",`filepond--browser-${t.id}`),le(n,"id",`filepond--drop-label-${t.id}`),le(n,"aria-hidden","true"),e.ref.handleKeyDown=s=>{(s.keyCode===Qs.ENTER||s.keyCode===Qs.SPACE)&&(s.preventDefault(),e.ref.label.click())},e.ref.handleClick=s=>{s.target===n||n.contains(s.target)||e.ref.label.click()},n.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Zr(n,t.caption),e.appendChild(n),e.ref.label=n},Zr=(e,t)=>{e.innerHTML=t;const n=e.querySelector(".filepond--label-action");return n&&le(n,"tabindex","0"),t},ec=ce({name:"drop-label",ignoreRect:!0,create:Jl,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:Te({DID_SET_LABEL_IDLE:({root:e,action:t})=>{Zr(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),tc=ce({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),nc=({root:e})=>{const t=e.rect.element.width*.5,n=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(tc,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:n}))},sc=({root:e,action:t})=>{if(!e.ref.blob){nc({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},rc=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},ac=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},oc=({root:e,props:t,actions:n})=>{ic({root:e,props:t,actions:n});const{blob:s}=e.ref;n.length===0&&s&&s.opacity===0&&(e.removeChildView(s),e.ref.blob=null)},ic=Te({DID_DRAG:sc,DID_DROP:ac,DID_END_DRAG:rc}),lc=ce({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:oc}),Jr=(e,t)=>{try{const n=new DataTransfer;t.forEach(s=>{s instanceof File?n.items.add(s):n.items.add(new File([s],s.name,{type:s.type}))}),e.files=n.files}catch{return!1}return!0},cc=({root:e})=>e.ref.fields={},un=(e,t)=>e.ref.fields[t],os=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},Ks=({root:e})=>os(e),uc=({root:e,action:t})=>{const r=!(e.query("GET_ITEM",t.id).origin===fe.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),a=Fe("input");a.type=r?"file":"hidden",a.name=e.query("GET_NAME"),a.disabled=e.query("GET_DISABLED"),e.ref.fields[t.id]=a,os(e)},dc=({root:e,action:t})=>{const n=un(e,t.id);if(!n||(t.serverFileReference!==null&&(n.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const s=e.query("GET_ITEM",t.id);Jr(n,[s.file])},fc=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const n=un(e,t.id);n&&Jr(n,[t.file])},0)},mc=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},pc=({root:e,action:t})=>{const n=un(e,t.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete e.ref.fields[t.id])},_c=({root:e,action:t})=>{const n=un(e,t.id);n&&(t.value===null?n.removeAttribute("value"):n.value=t.value,os(e))},gc=Te({DID_SET_DISABLED:mc,DID_ADD_ITEM:uc,DID_LOAD_ITEM:dc,DID_REMOVE_ITEM:pc,DID_DEFINE_VALUE:_c,DID_PREPARE_OUTPUT:fc,DID_REORDER_ITEMS:Ks,DID_SORT_ITEMS:Ks}),Ec=ce({tag:"fieldset",name:"data",create:cc,write:gc,ignoreRect:!0}),hc=e=>"getRootNode"in e?e.getRootNode():document,Ic=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],vc=["css","csv","html","txt"],Tc={zip:"zip|compressed",epub:"application/epub+zip"},ea=(e="")=>(e=e.toLowerCase(),Ic.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):vc.includes(e)?"text/"+e:Tc[e]||""),is=e=>new Promise((t,n)=>{const s=Ac(e);if(s.length&&!Rc(e))return t(s);yc(e).then(t)}),Rc=e=>e.files?e.files.length>0:!1,yc=e=>new Promise((t,n)=>{const s=(e.items?Array.from(e.items):[]).filter(r=>Sc(r)).map(r=>bc(r));if(!s.length){t(e.files?Array.from(e.files):[]);return}Promise.all(s).then(r=>{const a=[];r.forEach(o=>{a.push.apply(a,o)}),t(a.filter(o=>o).map(o=>(o._relativePath||(o._relativePath=o.webkitRelativePath),o)))}).catch(console.error)}),Sc=e=>{if(ta(e)){const t=ls(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},bc=e=>new Promise((t,n)=>{if(Cc(e)){Oc(ls(e)).then(t).catch(n);return}t([e.getAsFile()])}),Oc=e=>new Promise((t,n)=>{const s=[];let r=0,a=0;const o=()=>{a===0&&r===0&&t(s)},i=l=>{r++;const c=l.createReader(),u=()=>{c.readEntries(f=>{if(f.length===0){r--,o();return}f.forEach(d=>{d.isDirectory?i(d):(a++,d.file(_=>{const p=Dc(_);d.fullPath&&(p._relativePath=d.fullPath),s.push(p),a--,o()}))}),u()},n)};u()};i(e)}),Dc=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,n=e.name,s=ea(cn(e.name));return s.length&&(e=e.slice(0,e.size,s),e.name=n,e.lastModifiedDate=t),e},Cc=e=>ta(e)&&(ls(e)||{}).isDirectory,ta=e=>"webkitGetAsEntry"in e,ls=e=>e.webkitGetAsEntry(),Ac=e=>{let t=[];try{if(t=wc(e),t.length)return t;t=Mc(e)}catch{}return t},Mc=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},wc=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},Wt=[],at=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),Pc=(e,t,n)=>{const s=Lc(t),r={element:e,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return r.destroy=s.addListener(r),r},Lc=e=>{const t=Wt.find(s=>s.element===e);if(t)return t;const n=Nc(e);return Wt.push(n),n},Nc=e=>{const t=[],n={dragenter:kc,dragover:Bc,dragleave:Vc,drop:Uc},s={};ne(n,(a,o)=>{s[a]=o(e,t),e.addEventListener(a,s[a],!1)});const r={element:e,addListener:a=>(t.push(a),()=>{t.splice(t.indexOf(a),1),t.length===0&&(Wt.splice(Wt.indexOf(r),1),ne(n,o=>{e.removeEventListener(o,s[o],!1)}))})};return r},Gc=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),cs=(e,t)=>{const n=hc(t),s=Gc(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return s===t||t.contains(s)};let na=null;const Vt=(e,t)=>{try{e.dropEffect=t}catch{}},kc=(e,t)=>n=>{n.preventDefault(),na=n.target,t.forEach(s=>{const{element:r,onenter:a}=s;cs(n,r)&&(s.state="enter",a(at(n)))})},Bc=(e,t)=>n=>{n.preventDefault();const s=n.dataTransfer;is(s).then(r=>{let a=!1;t.some(o=>{const{filterElement:i,element:l,onenter:c,onexit:u,ondrag:f,allowdrop:d}=o;Vt(s,"copy");const _=d(r);if(!_){Vt(s,"none");return}if(cs(n,l)){if(a=!0,o.state===null){o.state="enter",c(at(n));return}if(o.state="over",i&&!_){Vt(s,"none");return}f(at(n))}else i&&!a&&Vt(s,"none"),o.state&&(o.state=null,u(at(n)))})})},Uc=(e,t)=>n=>{n.preventDefault();const s=n.dataTransfer;is(s).then(r=>{t.forEach(a=>{const{filterElement:o,element:i,ondrop:l,onexit:c,allowdrop:u}=a;if(a.state=null,!(o&&!cs(n,i))){if(!u(r))return c(at(n));l(at(n),r)}})})},Vc=(e,t)=>n=>{na===n.target&&t.forEach(s=>{const{onexit:r}=s;s.state=null,r(at(n))})},xc=(e,t,n)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:s,requiresDropOnElement:r,filterItems:a=u=>u}=n,o=Pc(e,s?document.documentElement:e,r);let i="",l="";o.allowdrop=u=>t(a(u)),o.ondrop=(u,f)=>{const d=a(f);if(!t(d)){c.ondragend(u);return}l="drag-drop",c.onload(d,u)},o.ondrag=u=>{c.ondrag(u)},o.onenter=u=>{l="drag-over",c.ondragstart(u)},o.onexit=u=>{l="drag-exit",c.ondragend(u)};const c={updateHopperState:()=>{i!==l&&(e.dataset.hopperState=l,i=l)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{o.destroy()}};return c};let Bn=!1;const pt=[],sa=e=>{const t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){let n=!1,s=t;for(;s!==document.body;){if(s.classList.contains("filepond--root")){n=!0;break}s=s.parentNode}if(!n)return}is(e.clipboardData).then(n=>{n.length&&pt.forEach(s=>s(n))})},$c=e=>{pt.includes(e)||(pt.push(e),!Bn&&(Bn=!0,document.addEventListener("paste",sa)))},Fc=e=>{es(pt,pt.indexOf(e)),pt.length===0&&(document.removeEventListener("paste",sa),Bn=!1)},Hc=()=>{const e=n=>{t.onload(n)},t={destroy:()=>{Fc(e)},onload:()=>{}};return $c(e),t},qc=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,le(e.element,"role","status"),le(e.element,"aria-live","polite"),le(e.element,"aria-relevant","additions")};let Zs=null,Js=null;const bn=[],dn=(e,t)=>{e.element.textContent=t},Yc=e=>{e.element.textContent=""},ra=(e,t,n)=>{const s=e.query("GET_TOTAL_ITEMS");dn(e,`${n} ${t}, ${s} ${s===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Js),Js=setTimeout(()=>{Yc(e)},1500)},aa=e=>e.element.parentNode.contains(document.activeElement),zc=({root:e,action:t})=>{if(!aa(e))return;e.element.textContent="";const n=e.query("GET_ITEM",t.id);bn.push(n.filename),clearTimeout(Zs),Zs=setTimeout(()=>{ra(e,bn.join(", "),e.query("GET_LABEL_FILE_ADDED")),bn.length=0},750)},Wc=({root:e,action:t})=>{if(!aa(e))return;const n=t.item;ra(e,n.filename,e.query("GET_LABEL_FILE_REMOVED"))},jc=({root:e,action:t})=>{const s=e.query("GET_ITEM",t.id).filename,r=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");dn(e,`${s} ${r}`)},er=({root:e,action:t})=>{const s=e.query("GET_ITEM",t.id).filename,r=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");dn(e,`${s} ${r}`)},xt=({root:e,action:t})=>{const s=e.query("GET_ITEM",t.id).filename;dn(e,`${t.status.main} ${s} ${t.status.sub}`)},Xc=ce({create:qc,ignoreRect:!0,ignoreRectUpdate:!0,write:Te({DID_LOAD_ITEM:zc,DID_REMOVE_ITEM:Wc,DID_COMPLETE_ITEM_PROCESSING:jc,DID_ABORT_ITEM_PROCESSING:er,DID_REVERT_ITEM_PROCESSING:er,DID_THROW_ITEM_REMOVE_ERROR:xt,DID_THROW_ITEM_LOAD_ERROR:xt,DID_THROW_ITEM_INVALID:xt,DID_THROW_ITEM_PROCESSING_ERROR:xt}),tag:"span",name:"assistant"}),oa=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),n=>n.charAt(1).toUpperCase()),ia=(e,t=16,n=!0)=>{let s=Date.now(),r=null;return(...a)=>{clearTimeout(r);const o=Date.now()-s,i=()=>{s=Date.now(),e(...a)};o<t?n||(r=setTimeout(i,t-o)):i()}},Qc=1e6,jt=e=>e.preventDefault(),Kc=({root:e,props:t})=>{const n=e.query("GET_ID");n&&(e.element.id=n);const s=e.query("GET_CLASS_NAME");s&&s.split(" ").filter(l=>l.length).forEach(l=>{e.element.classList.add(l)}),e.ref.label=e.appendChildView(e.createChildView(ec,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(jl,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(zr,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Xc,{...t})),e.ref.data=e.appendChildView(e.createChildView(Ec,{...t})),e.ref.measure=Fe("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(l=>!$e(l.value)).map(({name:l,value:c})=>{e.element.dataset[l]=c}),e.ref.widthPrevious=null,e.ref.widthUpdated=ia(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const r=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&a&&!r&&(e.element.addEventListener("touchmove",jt,{passive:!1}),e.element.addEventListener("gesturestart",jt));const o=e.query("GET_CREDITS");if(o.length===2){const l=document.createElement("a");l.className="filepond--credits",l.setAttribute("aria-hidden","true"),l.href=o[0],l.tabindex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=o[1],e.element.appendChild(l),e.ref.credits=l}},Zc=({root:e,props:t,actions:n})=>{if(su({root:e,props:t,actions:n}),n.filter(y=>/^DID_SET_STYLE_/.test(y.type)).filter(y=>!$e(y.data.value)).map(({type:y,data:U})=>{const T=oa(y.substring(8).toLowerCase(),"_");e.element.dataset[T]=U.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let s=e.ref.bounds;s||(s=e.ref.bounds=tu(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:r,label:a,list:o,panel:i}=e.ref;r&&r.updateHopperState();const l=e.query("GET_PANEL_ASPECT_RATIO"),c=e.query("GET_ALLOW_MULTIPLE"),u=e.query("GET_TOTAL_ITEMS"),f=c?e.query("GET_MAX_FILES")||Qc:1,d=u===f,_=n.find(y=>y.type==="DID_ADD_ITEM");if(d&&_){const y=_.data.interactionMethod;a.opacity=0,c?a.translateY=-40:y===Ce.API?a.translateX=40:y===Ce.BROWSE?a.translateY=40:a.translateY=30}else d||(a.opacity=1,a.translateX=0,a.translateY=0);const p=Jc(e),g=eu(e),M=a.rect.element.height,S=!c||d?0:M,A=d?o.rect.element.marginTop:0,L=u===0?0:o.rect.element.marginBottom,B=S+A+g.visual+L,R=S+A+g.bounds+L;if(o.translateY=Math.max(0,S-o.rect.element.marginTop)-p.top,l){const y=e.rect.element.width,U=y*l;l!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=l,e.ref.updateHistory=[]);const T=e.ref.updateHistory;T.push(y);const O=2;if(T.length>O*2){const P=T.length,N=P-10;let Z=0;for(let b=P;b>=N;b--)if(T[b]===T[b-2]&&Z++,Z>=O)return}i.scalable=!1,i.height=U;const V=U-S-(L-p.bottom)-(d?A:0);g.visual>V?o.overflow=V:o.overflow=null,e.height=U}else if(s.fixedHeight){i.scalable=!1;const y=s.fixedHeight-S-(L-p.bottom)-(d?A:0);g.visual>y?o.overflow=y:o.overflow=null}else if(s.cappedHeight){const y=B>=s.cappedHeight,U=Math.min(s.cappedHeight,B);i.scalable=!0,i.height=y?U:U-p.top-p.bottom;const T=U-S-(L-p.bottom)-(d?A:0);B>s.cappedHeight&&g.visual>T?o.overflow=T:o.overflow=null,e.height=Math.min(s.cappedHeight,R-p.top-p.bottom)}else{const y=u>0?p.top+p.bottom:0;i.scalable=!0,i.height=Math.max(M,B-y),e.height=Math.max(M,R-y)}e.ref.credits&&i.heightCurrent&&(e.ref.credits.style.transform=`translateY(${i.heightCurrent}px)`)},Jc=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},eu=e=>{let t=0,n=0;const s=e.ref.list,r=s.childViews[0],a=r.childViews.filter(A=>A.rect.element.height),o=e.query("GET_ACTIVE_ITEMS").map(A=>a.find(L=>L.id===A.id)).filter(A=>A);if(o.length===0)return{visual:t,bounds:n};const i=r.rect.element.width,l=as(r,o,s.dragCoordinates),c=o[0].rect.element,u=c.marginTop+c.marginBottom,f=c.marginLeft+c.marginRight,d=c.width+f,_=c.height+u,p=typeof l<"u"&&l>=0?1:0,g=o.find(A=>A.markedForRemoval&&A.opacity<.45)?-1:0,M=o.length+p+g,S=rs(i,d);return S===1?o.forEach(A=>{const L=A.rect.element.height+u;n+=L,t+=L*A.opacity}):(n=Math.ceil(M/S)*_,t=n),{visual:t,bounds:n}},tu=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},us=(e,t)=>{const n=e.query("GET_ALLOW_REPLACE"),s=e.query("GET_ALLOW_MULTIPLE"),r=e.query("GET_TOTAL_ITEMS");let a=e.query("GET_MAX_FILES");const o=t.length;return!s&&o>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:se("warning",0,"Max files")}),!0):(a=s?a:1,!s&&n?!1:vt(a)&&r+o>a?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:se("warning",0,"Max files")}),!0):!1)},nu=(e,t,n)=>{const s=e.childViews[0];return as(s,t,{left:n.scopeLeft-s.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},tr=e=>{const t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),s=t&&!n;if(s&&!e.ref.hopper){const r=xc(e.element,a=>{const o=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?a.every(l=>ct("ALLOW_HOPPER_ITEM",l,{query:e.query}).every(c=>c===!0)&&o(l)):!0},{filterItems:a=>{const o=e.query("GET_IGNORED_FILES");return a.filter(i=>It(i)?!o.includes(i.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});r.onload=(a,o)=>{const l=e.ref.list.childViews[0].childViews.filter(u=>u.rect.element.height),c=e.query("GET_ACTIVE_ITEMS").map(u=>l.find(f=>f.id===u.id)).filter(u=>u);we("ADD_ITEMS",a,{dispatch:e.dispatch}).then(u=>{if(us(e,u))return!1;e.dispatch("ADD_ITEMS",{items:u,index:nu(e.ref.list,c,o),interactionMethod:Ce.DROP})}),e.dispatch("DID_DROP",{position:o}),e.dispatch("DID_END_DRAG",{position:o})},r.ondragstart=a=>{e.dispatch("DID_START_DRAG",{position:a})},r.ondrag=ia(a=>{e.dispatch("DID_DRAG",{position:a})}),r.ondragend=a=>{e.dispatch("DID_END_DRAG",{position:a})},e.ref.hopper=r,e.ref.drip=e.appendChildView(e.createChildView(lc))}else!s&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},nr=(e,t)=>{const n=e.query("GET_ALLOW_BROWSE"),s=e.query("GET_DISABLED"),r=n&&!s;r&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Zl,{...t,onload:a=>{we("ADD_ITEMS",a,{dispatch:e.dispatch}).then(o=>{if(us(e,o))return!1;e.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:Ce.BROWSE})})}}),0):!r&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},sr=e=>{const t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),s=t&&!n;s&&!e.ref.paster?(e.ref.paster=Hc(),e.ref.paster.onload=r=>{we("ADD_ITEMS",r,{dispatch:e.dispatch}).then(a=>{if(us(e,a))return!1;e.dispatch("ADD_ITEMS",{items:a,index:-1,interactionMethod:Ce.PASTE})})}):!s&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},su=Te({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{nr(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{tr(e)},DID_SET_ALLOW_PASTE:({root:e})=>{sr(e)},DID_SET_DISABLED:({root:e,props:t})=>{tr(e),sr(e),nr(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),ru=ce({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:Kc,write:Zc,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",jt),e.element.removeEventListener("gesturestart",jt)},mixins:{styles:["height"]}}),au=(e={})=>{let t=null;const n=zt(),s=To(oi(n),[bi,ci(n)],[Qi,li(n)]);s.dispatch("SET_OPTIONS",{options:e});const r=()=>{document.hidden||s.dispatch("KICK")};document.addEventListener("visibilitychange",r);let a=null,o=!1,i=!1,l=null,c=null;const u=()=>{o||(o=!0),clearTimeout(a),a=setTimeout(()=>{o=!1,l=null,c=null,i&&(i=!1,s.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",u);const f=ru(s,{id:Jn()});let d=!1,_=!1;const p={_read:()=>{o&&(c=window.innerWidth,l||(l=c),!i&&c!==l&&(s.dispatch("DID_START_RESIZE"),i=!0)),_&&d&&(d=f.element.offsetParent===null),!d&&(f._read(),_=f.rect.element.hidden)},_write:h=>{const D=s.processActionQueue().filter(G=>!/^SET_/.test(G.type));d&&!D.length||(A(D),d=f._write(h,D,i),fi(s.query("GET_ITEMS")),d&&s.processDispatchQueue())}},g=h=>D=>{const G={type:h};if(!D)return G;if(D.hasOwnProperty("error")&&(G.error=D.error?{...D.error}:null),D.status&&(G.status={...D.status}),D.file&&(G.output=D.file),D.source)G.file=D.source;else if(D.item||D.id){const k=D.item?D.item:s.query("GET_ITEM",D.id);G.file=k?Re(k):null}return D.items&&(G.items=D.items.map(Re)),/progress/.test(h)&&(G.progress=D.progress),D.hasOwnProperty("origin")&&D.hasOwnProperty("target")&&(G.origin=D.origin,G.target=D.target),G},M={DID_DESTROY:g("destroy"),DID_INIT:g("init"),DID_THROW_MAX_FILES:g("warning"),DID_INIT_ITEM:g("initfile"),DID_START_ITEM_LOAD:g("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:g("addfileprogress"),DID_LOAD_ITEM:g("addfile"),DID_THROW_ITEM_INVALID:[g("error"),g("addfile")],DID_THROW_ITEM_LOAD_ERROR:[g("error"),g("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[g("error"),g("removefile")],DID_PREPARE_OUTPUT:g("preparefile"),DID_START_ITEM_PROCESSING:g("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:g("processfileprogress"),DID_ABORT_ITEM_PROCESSING:g("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:g("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:g("processfiles"),DID_REVERT_ITEM_PROCESSING:g("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[g("error"),g("processfile")],DID_REMOVE_ITEM:g("removefile"),DID_UPDATE_ITEMS:g("updatefiles"),DID_ACTIVATE_ITEM:g("activatefile"),DID_REORDER_ITEMS:g("reorderfiles")},S=h=>{const D={pond:q,...h};delete D.type,f.element.dispatchEvent(new CustomEvent(`FilePond:${h.type}`,{detail:D,bubbles:!0,cancelable:!0,composed:!0}));const G=[];h.hasOwnProperty("error")&&G.push(h.error),h.hasOwnProperty("file")&&G.push(h.file);const k=["type","error","file"];Object.keys(h).filter(K=>!k.includes(K)).forEach(K=>G.push(h[K])),q.fire(h.type,...G);const x=s.query(`GET_ON${h.type.toUpperCase()}`);x&&x(...G)},A=h=>{h.length&&h.filter(D=>M[D.type]).forEach(D=>{const G=M[D.type];(Array.isArray(G)?G:[G]).forEach(k=>{D.type==="DID_INIT_ITEM"?S(k(D.data)):setTimeout(()=>{S(k(D.data))},0)})})},L=h=>s.dispatch("SET_OPTIONS",{options:h}),B=h=>s.query("GET_ACTIVE_ITEM",h),R=h=>new Promise((D,G)=>{s.dispatch("REQUEST_ITEM_PREPARE",{query:h,success:k=>{D(k)},failure:k=>{G(k)}})}),y=(h,D={})=>new Promise((G,k)=>{O([{source:h,options:D}],{index:D.index}).then(x=>G(x&&x[0])).catch(k)}),U=h=>h.file&&h.id,T=(h,D)=>(typeof h=="object"&&!U(h)&&!D&&(D=h,h=void 0),s.dispatch("REMOVE_ITEM",{...D,query:h}),s.query("GET_ACTIVE_ITEM",h)===null),O=(...h)=>new Promise((D,G)=>{const k=[],x={};if(rn(h[0]))k.push.apply(k,h[0]),Object.assign(x,h[1]||{});else{const K=h[h.length-1];typeof K=="object"&&!(K instanceof Blob)&&Object.assign(x,h.pop()),k.push(...h)}s.dispatch("ADD_ITEMS",{items:k,index:x.index,interactionMethod:Ce.API,success:D,failure:G})}),V=()=>s.query("GET_ACTIVE_ITEMS"),P=h=>new Promise((D,G)=>{s.dispatch("REQUEST_ITEM_PROCESSING",{query:h,success:k=>{D(k)},failure:k=>{G(k)}})}),N=(...h)=>{const D=Array.isArray(h[0])?h[0]:h,G=D.length?D:V();return Promise.all(G.map(R))},Z=(...h)=>{const D=Array.isArray(h[0])?h[0]:h;if(!D.length){const G=V().filter(k=>!(k.status===W.IDLE&&k.origin===fe.LOCAL)&&k.status!==W.PROCESSING&&k.status!==W.PROCESSING_COMPLETE&&k.status!==W.PROCESSING_REVERT_ERROR);return Promise.all(G.map(P))}return Promise.all(D.map(P))},b=(...h)=>{const D=Array.isArray(h[0])?h[0]:h;let G;typeof D[D.length-1]=="object"?G=D.pop():Array.isArray(h[0])&&(G=h[1]);const k=V();return D.length?D.map(K=>et(K)?k[K]?k[K].id:null:K).filter(K=>K).map(K=>T(K,G)):Promise.all(k.map(K=>T(K,G)))},q={...ln(),...p,...ii(s,n),setOptions:L,addFile:y,addFiles:O,getFile:B,processFile:P,prepareFile:R,removeFile:T,moveFile:(h,D)=>s.dispatch("MOVE_ITEM",{query:h,index:D}),getFiles:V,processFiles:Z,removeFiles:b,prepareFiles:N,sort:h=>s.dispatch("SORT",{compare:h}),browse:()=>{var h=f.element.querySelector("input[type=file]");h&&h.click()},destroy:()=>{q.fire("destroy",f.element),s.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",u),document.removeEventListener("visibilitychange",r),s.dispatch("DID_DESTROY")},insertBefore:h=>Os(f.element,h),insertAfter:h=>Ds(f.element,h),appendTo:h=>h.appendChild(f.element),replaceElement:h=>{Os(f.element,h),h.parentNode.removeChild(h),t=h},restoreElement:()=>{t&&(Ds(t,f.element),f.element.parentNode.removeChild(f.element),t=null)},isAttachedTo:h=>f.element===h||t===h,element:{get:()=>f.element},status:{get:()=>s.query("GET_STATUS")}};return s.dispatch("DID_INIT"),Xe(q)},la=(e={})=>{const t={};return ne(zt(),(s,r)=>{t[s]=r[0]}),au({...t,...e})},ou=e=>e.charAt(0).toLowerCase()+e.slice(1),iu=e=>oa(e.replace(/^data-/,"")),ca=(e,t)=>{ne(t,(n,s)=>{ne(e,(r,a)=>{const o=new RegExp(n);if(!o.test(r)||(delete e[r],s===!1))return;if(ve(s)){e[s]=a;return}const l=s.group;pe(s)&&!e[l]&&(e[l]={}),e[l][ou(r.replace(o,""))]=a}),s.mapping&&ca(e[s.group],s.mapping)})},lu=(e,t={})=>{const n=[];ne(e.attributes,r=>{n.push(e.attributes[r])});const s=n.filter(r=>r.name).reduce((r,a)=>{const o=le(e,a.name);return r[iu(a.name)]=o===a.name?!0:o,r},{});return ca(s,t),s},cu=(e,t={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};ct("SET_ATTRIBUTE_TO_OPTION_MAP",n);const s={...t},r=lu(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,n);Object.keys(r).forEach(o=>{pe(r[o])?(pe(s[o])||(s[o]={}),Object.assign(s[o],r[o])):s[o]=r[o]}),s.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(o=>({source:o.value,options:{type:o.dataset.type}})));const a=la(s);return e.files&&Array.from(e.files).forEach(o=>{a.addFile(o)}),a.replaceElement(e),a},uu=(...e)=>vo(e[0])?cu(...e):la(...e),du=["fire","_read","_write"],rr=e=>{const t={};return wr(e,t,du),t},fu=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(n,s)=>t[s]),mu=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),s=new Worker(n);return{transfer:(r,a)=>{},post:(r,a,o)=>{const i=Jn();s.onmessage=l=>{l.data.id===i&&a(l.data.message)},s.postMessage({id:i,message:r},o)},terminate:()=>{s.terminate(),URL.revokeObjectURL(n)}}},pu=e=>new Promise((t,n)=>{const s=new Image;s.onload=()=>{t(s)},s.onerror=r=>{n(r)},s.src=e}),ua=(e,t)=>{const n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},_u=e=>ua(e,e.name),ar=[],gu=e=>{if(ar.includes(e))return;ar.push(e);const t=e({addFilter:pi,utils:{Type:v,forin:ne,isString:ve,isFile:It,toNaturalFileSize:Hr,replaceInString:fu,getExtensionFromFilename:cn,getFilenameWithoutExtension:xr,guesstimateMimeType:ea,getFileFromBlob:ht,getFilenameFromURL:Pt,createRoute:Te,createWorker:mu,createView:ce,createItemAPI:Re,loadImage:pu,copyFile:_u,renameFile:ua,createBlob:Br,applyFilterChain:we,text:re,getNumericAspectRatioFromString:Nr},views:{fileActionButton:Fr}});_i(t.options)},Eu=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",hu=()=>"Promise"in window,Iu=()=>"slice"in Blob.prototype,vu=()=>"URL"in window&&"createObjectURL"in window.URL,Tu=()=>"visibilityState"in document,Ru=()=>"performance"in window,yu=()=>"supports"in(window.CSS||{}),Su=()=>/MSIE|Trident/.test(window.navigator.userAgent),Un=(()=>{const e=br()&&!Eu()&&Tu()&&hu()&&Iu()&&vu()&&Ru()&&(yu()||Su());return()=>e})(),Ye={apps:[]},bu="filepond",ut=()=>{};let Xt={},Ht=ut,On=ut,or=ut,ir=ut,Vn=ut,lr=ut,cr=ut;if(Un()){zo(()=>{Ye.apps.forEach(n=>n._read())},n=>{Ye.apps.forEach(s=>s._write(n))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Un,create:Ht,destroy:On,parse:or,find:ir,registerPlugin:Vn,setOptions:cr}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>ne(zt(),(n,s)=>{Xt[n]=s[1]});Xt={},t(),Ht=(...n)=>{const s=uu(...n);return s.on("destroy",On),Ye.apps.push(s),rr(s)},On=n=>{const s=Ye.apps.findIndex(r=>r.isAttachedTo(n));return s>=0?(Ye.apps.splice(s,1)[0].restoreElement(),!0):!1},or=n=>Array.from(n.querySelectorAll(`.${bu}`)).filter(a=>!Ye.apps.find(o=>o.isAttachedTo(a))).map(a=>Ht(a)),ir=n=>{const s=Ye.apps.find(r=>r.isAttachedTo(n));return s?rr(s):null},Vn=(...n)=>{n.forEach(gu),t()},lr=()=>{const n={};return ne(zt(),(s,r)=>{n[s]=r[0]}),n},cr=n=>(pe(n)&&(Ye.apps.forEach(s=>{s.setOptions(n)}),gi(n)),lr())}/*!
 * vue-filepond v7.0.4
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2023 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const Ou=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],Du=Un(),Cu=e=>({string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object})[e],$t={},Dn=[],Cn=[];let Au={};const Mu=(...e)=>{Vn(...e),Dn.length=0;for(const t in Xt){if(/^on/.test(t)){Dn.push(t);continue}let n=[String,Cu(Xt[t])];t=="labelFileProcessingError"&&n.push(Function),$t[t]={type:n,default:void 0}}return{name:"FilePond",props:$t,render(){const t=Object.entries({id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}).reduce((n,[s,r])=>(r!==void 0&&(n[s]=r),n),{});return We("div",{class:{"filepond--wrapper":!0}},[We("input",t)])},created(){this.watchers=Object.keys($t).map(t=>this.$watch(t,n=>{this._pond&&(this._pond[t]=n)}))},mounted(){if(!Du)return;this._element=this.$el.querySelector("input");const t=Dn.reduce((s,r)=>(s[r]=(...a)=>{this.$emit("input",this._pond?this._pond.getFiles():[]),this.$emit(r.substr(2),...a)},s),{}),n={};Object.keys($t).forEach(s=>{this[s]!==void 0&&(n[s]=this[s])}),this._pond=Ht(this._element,Object.assign({},Au,t,n)),Object.keys(this._pond).filter(s=>!Ou.includes(s)).forEach(s=>{this[s]=this._pond[s]}),Cn.push(this._pond)},beforeUnmount(){const{detached:t}=this.$options;if(!this.$el.offsetParent){t.call(this);return}const n=(r,a)=>{const i=((r[0]||{}).removedNodes||[])[0];!i||!i.contains(this.$el)||(a.disconnect(),t.call(this))};new MutationObserver(n).observe(document.documentElement,{childList:!0,subtree:!0})},detached(){if(this.watchers.forEach(n=>n()),!this._pond)return;this._pond.destroy();const t=Cn.indexOf(this._pond);t>=0&&Cn.splice(t,1),this._pond=null}}},wu='<svg class="mb-3" height="77" role="img" viewBox="0 0 97.6 77.3" width="96"><path d="M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z" fill="currentColor"></path><path d="M84.7 18.4 58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z" fill="currentColor"></path><path d="M78.2 41.6 61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z" fill="currentColor"></path></svg>Drag photos and videos here<br /><div class="v-btn bg-primary mt-5 px-3 py-2 filepond--label-action">Select from computer</div>',da=F({__name:"InstagramMediaDropzone",emits:["add"],setup(e,{emit:t}){const n=Fn(),s=Mu(),r=$(()=>n.user),a=t,o=X([]);function i(l){a("add",l.source),r.value.media.addMedia({file:l.source},"posts","unshift"),r.value.save()}return(l,c)=>(E(),C(z(s),{name:"test",class:"ig-dropzone","drop-on-element":!1,"drop-on-page":!0,"allow-multiple":"","label-idle":wu,credits:"","accepted-file-types":"image/jpeg, image/jpg, image/png, image/mp4",files:z(o),onInitfile:i},{default:I(()=>[m(ze,{class:"d-none"})]),_:1},8,["files"]))}}),Pu=F({__name:"InstagramMediaContextMenuRemove",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t;async function r(){await n.media.remove(),s("close")}return(a,o)=>(E(),C(Ee,{onClick:r,class:"text-red"},{default:I(()=>[m(Ne,null,{default:I(()=>[te("Remove")]),_:1})]),_:1}))}}),Lu=F({__name:"InstagramMediaContextMenuConvertToIframe",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function s(){const r=window.prompt("URL of the iframe","https://");r&&(n.media.convertToIframe(r),n.media.user.save())}return(r,a)=>(E(),C(Ee,{onClick:s},{default:I(()=>[m(Ne,null,{default:I(()=>[te("Convert to iframe")]),_:1})]),_:1}))}}),Nu=F({__name:"InstagramMediaContextMenuConvertToAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function s(){n.media.convertToAlbum(),n.media.user.save()}return(r,a)=>(E(),C(Ee,{onClick:s},{default:I(()=>[m(Ne,null,{default:I(()=>[te("Convert to album")]),_:1})]),_:1}))}}),Gu=F({__name:"InstagramMediaContextMenuReplaceMedia",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,{open:r,onChange:a}=wt({accept:"image/*",multiple:!1});return a(o=>{if(!o)return;const i=o[0];n.media.setMediaImage(i),n.media.refresh(),n.media.save(),s("close")}),(o,i)=>(E(),C(Ee,{onClick:z(r)},{default:I(()=>[m(Ne,null,{default:I(()=>[te("Replace media")]),_:1})]),_:1},8,["onClick"]))}}),ku=F({__name:"InstagramMediaContextMenuRemoveCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t;function r(){n.media.removeCover(),n.media.refresh(),n.media.save(),s("close")}return(a,o)=>(E(),C(Ee,{onClick:r},{default:I(()=>[m(Ne,null,{default:I(()=>[te("Remove cover")]),_:1})]),_:1}))}}),Bu=F({__name:"InstagramMediaContextMenuReplaceCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,{files:r,open:a,reset:o,onChange:i}=wt({accept:"image/*",multiple:!1});return i(l=>{if(!l)return;const c=l[0];n.media.setCover(c),n.media.refresh(),n.media.save(),s("close")}),(l,c)=>(E(),C(Ee,{onClick:z(a)},{default:I(()=>[m(Ne,null,{default:I(()=>[te("Replace cover")]),_:1})]),_:1},8,["onClick"]))}}),Uu=F({__name:"InstagramMediaContextMenuAddCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,{open:r,onChange:a}=wt({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return a(o=>{if(!o)return;const i=o[0];n.media.setCover(i),n.media.save(),s("close")}),(o,i)=>(E(),C(Ee,{onClick:z(r)},{default:I(()=>[m(Ne,null,{default:I(()=>[te("Add cover")]),_:1})]),_:1},8,["onClick"]))}}),Vu=F({__name:"InstagramMediaContextMenuRemoveFromAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t;function r(){n.media.removeFromAlbum(),s("close")}return(a,o)=>(E(),C(Ee,{onClick:r},{default:I(()=>[m(Ne,null,{default:I(()=>[te("Remove from album")]),_:1})]),_:1}))}}),xu=F({__name:"InstagramMediaContextMenuAddToAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,{files:r,open:a,reset:o,onChange:i}=wt({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return i(l=>{if(!l)return;const c=l[0];n.media.addToAlbum(c),s("close")}),(l,c)=>(E(),C(Ee,{onClick:z(a)},{default:I(()=>[m(Ne,null,{default:I(()=>[te("Add to album")]),_:1})]),_:1},8,["onClick"]))}}),$u=F({__name:"InstagramMediaContextMenuGroup",props:{title:{}},setup(e){return(t,n)=>(E(),C(Ee,{class:"px-0 mt-1"},{default:I(()=>[m(Ne,{class:"text-overline px-4",textContent:xe(t.title)},null,8,["textContent"]),m(Dt,{density:"compact",class:"ma-0 pa-0"},{default:I(()=>[_t(t.$slots,"default",{},void 0,!0)]),_:3})]),_:3}))}}),Fu=J($u,[["__scopeId","data-v-2ab222ad"]]),Hu=F({__name:"InstagramMediaContextMenuCloneToReel",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function s(){n.media.cloneToReel(),n.media.user.save()}return(r,a)=>(E(),C(Ee,{onClick:s},{default:I(()=>[m(Ne,null,{default:I(()=>[te("Clone to reel")]),_:1})]),_:1}))}}),qu=F({__name:"InstagramMediaContextMenu",props:{media:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=t;function s(){n("update:modelValue",!1)}return(r,a)=>{const o=Hu,i=Fu,l=xu,c=Vu,u=Uu,f=Bu,d=ku,_=Gu,p=Nu,g=Lu,M=Pu;return E(),C(za,{"content-class":"ig-media__context-menu",transition:"slide-y-transition",attach:"","close-on-content-click":!1,onClick:a[0]||(a[0]=Ta(()=>{},["stop"]))},{default:I(()=>[m(Dt,{density:"compact",class:"ma-3 py-2"},{default:I(()=>[["video","iframe"].includes(r.media.type)&&!r.media.isReel?(E(),C(i,{key:0,title:"Reel"},{default:I(()=>[["video","iframe"].includes(r.media.type)&&!r.media.isReel?(E(),C(o,{key:0,media:r.media,onClose:s},null,8,["media"])):Q("",!0)]),_:1})):Q("",!0),["album"].includes(r.media.type)?(E(),C(i,{key:1,title:"Album"},{default:I(()=>[m(l,{media:r.media,onClose:s},null,8,["media"]),r.media.list.length>1?(E(),C(c,{key:0,media:r.media,onClose:s},null,8,["media"])):Q("",!0)]),_:1})):Q("",!0),["video","iframe"].includes(r.media.type)?(E(),C(i,{key:2,title:"Cover"},{default:I(()=>[r.media.cover?Q("",!0):(E(),C(u,{key:0,media:r.media,onClose:s},null,8,["media"])),r.media.cover?(E(),C(f,{key:1,media:r.media,onClose:s},null,8,["media"])):Q("",!0),r.media.cover?(E(),C(d,{key:2,media:r.media,onClose:s},null,8,["media"])):Q("",!0)]),_:1})):Q("",!0),["image","video"].includes(r.media.type)?(E(),C(i,{key:3,title:"Media"},{default:I(()=>[m(_,{media:r.media,onClose:s},null,8,["media"]),r.media.isReel?Q("",!0):(E(),C(p,{key:0,media:r.media,onClose:s},null,8,["media"])),r.media.type==="image"?(E(),C(g,{key:1,media:r.media,onClose:s},null,8,["media"])):Q("",!0)]),_:1})):Q("",!0),m(qt,{class:"my-2"}),m(M,{media:r.media,onClose:s},null,8,["media"])]),_:1})]),_:1})}}}),Yu={class:"ig-media__icon"},zu=F({__name:"InstagramMediaContainer",props:{media:{},type:{},detailOnClick:{type:Boolean},contextMenu:{type:Boolean}},setup(e){const t=X(!1);function n(s){s.preventDefault(),t.value=!t.value}return(s,r)=>{const a=qu;return E(),ee("div",{class:it(["ig-media",`ig-media--${s.type}`,{"cursor-pointer":s.detailOnClick}]),onContextmenu:n},[(E(),C(gt,null,{default:I(()=>[_t(s.$slots,"default",{},void 0,!0)]),_:3})),Y("div",Yu,[s.type==="album"?(E(),C(Qe,{key:0},{default:I(()=>[te("mdi-folder-multiple-image")]),_:1})):Q("",!0),s.type==="video"?(E(),C(Qe,{key:1},{default:I(()=>[te("mdi-play")]),_:1})):Q("",!0)]),s.contextMenu?(E(),C(a,{key:0,modelValue:z(t),"onUpdate:modelValue":r[0]||(r[0]=o=>ot(t)?t.value=o:null),media:s.media},null,8,["modelValue","media"])):Q("",!0)],34)}}}),fn=J(zu,[["__scopeId","data-v-2c292dce"]]),ds=F({__name:"InstagramMediaImage",props:{media:{}},async setup(e){let t,n;const s=e,r=([t,n]=Hn(()=>qn(s.media)),t=await t,n(),t);return(a,o)=>{const i=fn;return E(),C(i,{type:"image",media:a.media},{default:I(()=>[m(Rr,{cover:"",height:"100%",src:z(r)},null,8,["src"])]),_:1},8,["media"])}}}),Wu=["src"],ju=F({__name:"InstagramMediaIframe",props:{media:{},reel:{type:Boolean}},setup(e){const n=X(typeof e.media.cover!="object");return(s,r)=>{const a=ds,o=fn;return E(),C(o,{type:z(n)?"iframe":"video",media:s.media,class:it({"ig-media--reel":s.reel})},{default:I(()=>[z(n)?(E(),ee("iframe",{key:1,src:s.media.href},null,8,Wu)):(E(),C(a,{key:0,media:s.media.cover,onClick:r[0]||(r[0]=i=>n.value=!0)},null,8,["media"]))]),_:1},8,["type","media","class"])}}}),fa=J(ju,[["__scopeId","data-v-ca6aed98"]]),fs=Symbol.for("vuetify:v-slider");function Xu(e,t,n){const s=n==="vertical",r=t.getBoundingClientRect(),a="touches"in e?e.touches[0]:e;return s?a.clientY-(r.top+r.height/2):a.clientX-(r.left+r.width/2)}function Qu(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const Ku=He({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Zt(),...Jt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Zu=e=>{const t=$(()=>parseFloat(e.min)),n=$(()=>parseFloat(e.max)),s=$(()=>+e.step>0?parseFloat(e.step):0),r=$(()=>Math.max(Es(s.value),Es(t.value)));function a(o){if(o=parseFloat(o),s.value<=0)return o;const i=pr(o,t.value,n.value),l=t.value%s.value,c=Math.round((i-l)/s.value)*s.value+l;return parseFloat(Math.min(c,n.value).toFixed(r.value))}return{min:t,max:n,step:s,decimals:r,roundValue:a}},Ju=e=>{let{props:t,steps:n,onSliderStart:s,onSliderMove:r,onSliderEnd:a,getActiveThumb:o}=e;const{isRtl:i}=Qt(),l=me(t,"reverse"),c=$(()=>t.direction==="vertical"),u=$(()=>c.value!==l.value),{min:f,max:d,step:_,decimals:p,roundValue:g}=n,M=$(()=>parseInt(t.thumbSize,10)),S=$(()=>parseInt(t.tickSize,10)),A=$(()=>parseInt(t.trackSize,10)),L=$(()=>(d.value-f.value)/_.value),B=me(t,"disabled"),R=$(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),y=$(()=>t.error||t.disabled?void 0:t.trackColor??t.color),U=$(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),T=je(!1),O=je(0),V=X(),P=X();function N(w){var ie;const j=t.direction==="vertical",ye=j?"top":"left",Me=j?"height":"width",ue=j?"clientY":"clientX",{[ye]:Ge,[Me]:Tt}=(ie=V.value)==null?void 0:ie.$el.getBoundingClientRect(),Nt=Qu(w,ue);let H=Math.min(Math.max((Nt-Ge-O.value)/Tt,0),1)||0;return(j?u.value:u.value!==i.value)&&(H=1-H),g(f.value+H*(d.value-f.value))}const Z=w=>{a({value:N(w)}),T.value=!1,O.value=0},b=w=>{P.value=o(w),P.value&&(P.value.focus(),T.value=!0,P.value.contains(w.target)?O.value=Xu(w,P.value,t.direction):(O.value=0,r({value:N(w)})),s({value:N(w)}))},q={passive:!0,capture:!0};function h(w){r({value:N(w)})}function D(w){w.stopPropagation(),w.preventDefault(),Z(w),window.removeEventListener("mousemove",h,q),window.removeEventListener("mouseup",D)}function G(w){var j;Z(w),window.removeEventListener("touchmove",h,q),(j=w.target)==null||j.removeEventListener("touchend",G)}function k(w){var j;b(w),window.addEventListener("touchmove",h,q),(j=w.target)==null||j.addEventListener("touchend",G,{passive:!1})}function x(w){w.preventDefault(),b(w),window.addEventListener("mousemove",h,q),window.addEventListener("mouseup",D,{passive:!1})}const K=w=>{const j=(w-f.value)/(d.value-f.value)*100;return pr(isNaN(j)?0:j,0,100)},ae=me(t,"showTicks"),_e=$(()=>ae.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(w=>({value:w,position:K(w),label:w.toString()})):Object.keys(t.ticks).map(w=>({value:parseFloat(w),position:K(parseFloat(w)),label:t.ticks[w]})):L.value!==1/0?Ra(L.value+1).map(w=>{const j=f.value+w*_.value;return{value:j,position:K(j)}}):[]:[]),oe=$(()=>_e.value.some(w=>{let{label:j}=w;return!!j})),qe={activeThumbRef:P,color:me(t,"color"),decimals:p,disabled:B,direction:me(t,"direction"),elevation:me(t,"elevation"),hasLabels:oe,isReversed:l,indexFromEnd:u,min:f,max:d,mousePressed:T,numTicks:L,onSliderMousedown:x,onSliderTouchstart:k,parsedTicks:_e,parseMouseMove:N,position:K,readonly:me(t,"readonly"),rounded:me(t,"rounded"),roundValue:g,showTicks:ae,startOffset:O,step:_,thumbSize:M,thumbColor:R,thumbLabel:me(t,"thumbLabel"),ticks:me(t,"ticks"),tickSize:S,trackColor:y,trackContainerRef:V,trackFillColor:U,trackSize:A,vertical:c};return ke(fs,qe),qe},ed=He({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...lt()},"VSliderThumb"),td=Ke()({name:"VSliderThumb",directives:{Ripple:Wa},props:ed(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:s}=t;const r=Ve(fs),{isRtl:a,rtlClasses:o}=Qt();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:i,step:l,disabled:c,thumbSize:u,thumbLabel:f,direction:d,isReversed:_,vertical:p,readonly:g,elevation:M,mousePressed:S,decimals:A,indexFromEnd:L}=r,{textColorClasses:B,textColorStyles:R}=ja(i),{pageup:y,pagedown:U,end:T,home:O,left:V,right:P,down:N,up:Z}=ba,b=[y,U,T,O,V,P,N,Z],q=$(()=>l.value?[1,2,3]:[1,5,10]);function h(G,k){if(!b.includes(G.key))return;G.preventDefault();const x=l.value||.1,K=(e.max-e.min)/x;if([V,P,N,Z].includes(G.key)){const _e=(p.value?[a.value?V:P,_.value?N:Z]:L.value!==a.value?[V,Z]:[P,Z]).includes(G.key)?1:-1,oe=G.shiftKey?2:G.ctrlKey?1:0;k=k+_e*x*q.value[oe]}else if(G.key===O)k=e.min;else if(G.key===T)k=e.max;else{const ae=G.key===U?1:-1;k=k-ae*x*(K>100?K/10:10)}return Math.max(e.min,Math.min(e.max,k))}function D(G){const k=h(G,e.modelValue);k!=null&&s("update:modelValue",k)}return Ze(()=>{const G=Be(L.value?100-e.position:e.position,"%"),{elevationClasses:k}=en($(()=>c.value?void 0:M.value));return m("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&S.value},e.class,o.value],style:[{"--v-slider-thumb-position":G,"--v-slider-thumb-size":Be(u.value)},e.style],role:"slider",tabindex:c.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!g.value,"aria-orientation":d.value,onKeydown:g.value?void 0:D},[m("div",{class:["v-slider-thumb__surface",B.value,k.value],style:{...R.value}},null),hs(m("div",{class:["v-slider-thumb__ripple",B.value],style:R.value},null),[[ya("ripple"),e.ripple,null,{circle:!0,center:!0}]]),m(Xa,{origin:"bottom center"},{default:()=>{var x;return[hs(m("div",{class:"v-slider-thumb__label-container"},[m("div",{class:["v-slider-thumb__label"]},[m("div",null,[((x=n["thumb-label"])==null?void 0:x.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?A.value:1)])])]),[[Sa,f.value&&e.focused||f.value==="always"]])]}})])}),{}}}),nd=He({start:{type:Number,required:!0},stop:{type:Number,required:!0},...lt()},"VSliderTrack"),sd=Ke()({name:"VSliderTrack",props:nd(),emits:{},setup(e,t){let{slots:n}=t;const s=Ve(fs);if(!s)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:a,rounded:o,showTicks:i,tickSize:l,trackColor:c,trackFillColor:u,trackSize:f,vertical:d,min:_,max:p,indexFromEnd:g}=s,{roundedClasses:M}=tn(o),{backgroundColorClasses:S,backgroundColorStyles:A}=Et(u),{backgroundColorClasses:L,backgroundColorStyles:B}=Et(c),R=$(()=>`inset-${d.value?"block":"inline"}-${g.value?"end":"start"}`),y=$(()=>d.value?"height":"width"),U=$(()=>({[R.value]:"0%",[y.value]:"100%"})),T=$(()=>e.stop-e.start),O=$(()=>({[R.value]:Be(e.start,"%"),[y.value]:Be(T.value,"%")})),V=$(()=>i.value?(d.value?a.value.slice().reverse():a.value).map((N,Z)=>{var q;const b=N.value!==_.value&&N.value!==p.value?Be(N.position,"%"):void 0;return m("div",{key:N.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":N.position>=e.start&&N.position<=e.stop,"v-slider-track__tick--first":N.value===_.value,"v-slider-track__tick--last":N.value===p.value}],style:{[R.value]:b}},[(N.label||n["tick-label"])&&m("div",{class:"v-slider-track__tick-label"},[((q=n["tick-label"])==null?void 0:q.call(n,{tick:N,index:Z}))??N.label])])}):[]);return Ze(()=>m("div",{class:["v-slider-track",M.value,e.class],style:[{"--v-slider-track-size":Be(f.value),"--v-slider-tick-size":Be(l.value)},e.style]},[m("div",{class:["v-slider-track__background",L.value,{"v-slider-track__background--opacity":!!r.value||!u.value}],style:{...U.value,...B.value}},null),m("div",{class:["v-slider-track__fill",S.value],style:{...O.value,...A.value}},null),i.value&&m("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":i.value==="always"}]},[V.value])])),{}}}),rd=He({...Qa(),...Ku(),...Ka(),modelValue:{type:[Number,String],default:0}},"VSlider"),ad=Ke()({name:"VSlider",props:rd(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:s}=t;const r=X(),{rtlClasses:a}=Qt(),o=Zu(e),i=_r(e,"modelValue",void 0,y=>o.roundValue(y??o.min.value)),{min:l,max:c,mousePressed:u,roundValue:f,onSliderMousedown:d,onSliderTouchstart:_,trackContainerRef:p,position:g,hasLabels:M,readonly:S}=Ju({props:e,steps:o,onSliderStart:()=>{s("start",i.value)},onSliderEnd:y=>{let{value:U}=y;const T=f(U);i.value=T,s("end",T)},onSliderMove:y=>{let{value:U}=y;return i.value=f(U)},getActiveThumb:()=>{var y;return(y=r.value)==null?void 0:y.$el}}),{isFocused:A,focus:L,blur:B}=Za(e),R=$(()=>g(i.value));return Ze(()=>{const y=vs.filterProps(e),U=!!(e.label||n.label||n.prepend);return m(vs,An({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||M.value,"v-slider--focused":A.value,"v-slider--pressed":u.value,"v-slider--disabled":e.disabled},a.value,e.class],style:e.style},y,{focused:A.value}),{...n,prepend:U?T=>{var O,V;return m(Ae,null,[((O=n.label)==null?void 0:O.call(n,T))??(e.label?m(Ja,{id:T.id.value,class:"v-slider__label",text:e.label},null):void 0),(V=n.prepend)==null?void 0:V.call(n,T)])}:void 0,default:T=>{let{id:O,messagesId:V}=T;return m("div",{class:"v-slider__container",onMousedown:S.value?void 0:d,onTouchstartPassive:S.value?void 0:_},[m("input",{id:O.value,name:e.name||O.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:i.value},null),m(sd,{ref:p,start:0,stop:R.value},{"tick-label":n["tick-label"]}),m(td,{ref:r,"aria-describedby":V.value,focused:A.value,min:l.value,max:c.value,modelValue:i.value,"onUpdate:modelValue":P=>i.value=P,position:R.value,elevation:e.elevation,onFocus:L,onBlur:B,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),od=F({__name:"InstagramMediaVideoCoverSelector",props:{media:{},maxLength:{}},emits:["updateCoverTime"],setup(e,{emit:t}){const n=t,s=e,r=X(typeof s.media.coverTime=="number"?s.media.coverTime:0);function a(){n("updateCoverTime",r.value)}return(o,i)=>s.maxLength>0?(E(),C(ad,{key:0,modelValue:z(r),"onUpdate:modelValue":i[0]||(i[0]=l=>ot(r)?r.value=l:null),color:"white",max:o.maxLength,class:"ig-media--video-slider",onEnd:a,"thumb-label":"always"},null,8,["modelValue","max"])):Q("",!0)}}),id=J(od,[["__scopeId","data-v-d5e9341f"]]),ld=["src","autoplay"],cd=F({__name:"InstagramMediaVideo",props:{media:{},coverSelector:{type:Boolean},playable:{type:Boolean},reel:{type:Boolean}},async setup(e){let t,n;const s=e,r=X(!1),a=([t,n]=Hn(()=>qn(s.media)),t=await t,n(),t),o=X(null),i=X(0);function l(c){o.value&&(o.value.currentTime=c,s.media.setCoverTime(c),s.media.save())}return Mt(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof s.media.cover=="object"||s.media.cover||(o.value.currentTime=s.media.coverTime,i.value=o.value.duration)},!1)}),De(()=>r.value,c=>{if(!o.value||!s.playable)return!1;c?o.value.play():o.value.pause()}),(c,u)=>{const f=id,d=ds,_=fn;return E(),C(_,{type:"video",media:c.media,class:it({"ig-media--reel":c.reel})},{default:I(()=>[!c.media.cover||c.media.coverTime?(E(),ee(Ae,{key:0},[Y("video",{ref_key:"videoRef",ref:o,src:z(a),autoplay:z(r),onClick:u[0]||(u[0]=p=>r.value=!z(r))},null,8,ld),c.coverSelector?(E(),C(f,{key:0,media:c.media,"max-length":z(i),onUpdateCoverTime:l},null,8,["media","max-length"])):Q("",!0)],64)):typeof c.media.cover=="object"?(E(),C(d,{key:1,media:c.media.cover,onClick:u[1]||(u[1]=p=>r.value=!0)},null,8,["media"])):Q("",!0)]),_:1},8,["media","class"])}}}),ma=J(cd,[["__scopeId","data-v-da9bc1bf"]]),ud=F({__name:"InstagramPostReel",props:{media:{},contextMenu:{type:Boolean}},setup(e){return(t,n)=>{const s=ma,r=fa;return E(),ee(Ae,null,[(E(),C(gt,null,{default:I(()=>[t.media.type==="video"?(E(),C(s,{key:0,media:t.media,"context-menu":t.contextMenu,"cover-selector":"",reel:""},null,8,["media","context-menu"])):Q("",!0)]),_:1})),t.media.type==="iframe"?(E(),C(r,{key:0,media:t.media,reel:""},null,8,["media"])):Q("",!0)],64)}}}),dd={},fd={height:"24",viewBox:"0 0 24 24",width:"24"},md=Y("path",{d:"M15.83 10.997a1.167 1.167 0 1 0 1.167 1.167 1.167 1.167 0 0 0-1.167-1.167Zm-6.5 1.167a1.167 1.167 0 1 0-1.166 1.167 1.167 1.167 0 0 0 1.166-1.167Zm5.163 3.24a3.406 3.406 0 0 1-4.982.007 1 1 0 1 0-1.557 1.256 5.397 5.397 0 0 0 8.09 0 1 1 0 0 0-1.55-1.263ZM12 .503a11.5 11.5 0 1 0 11.5 11.5A11.513 11.513 0 0 0 12 .503Zm0 21a9.5 9.5 0 1 1 9.5-9.5 9.51 9.51 0 0 1-9.5 9.5Z"},null,-1),pd=[md];function _d(e,t){return E(),ee("svg",fd,pd)}const gd=J(dd,[["render",_d]]),Ed=He({color:String,...jn(),...lt(),...eo(),...Jt(),...to(),...no(),...Zt(),...nn(),...Yn()},"VSheet"),mn=Ke()({name:"VSheet",props:Ed(),setup(e,t){let{slots:n}=t;const{themeClasses:s}=gr(e),{backgroundColorClasses:r,backgroundColorStyles:a}=Et(me(e,"color")),{borderClasses:o}=Xn(e),{dimensionStyles:i}=so(e),{elevationClasses:l}=en(e),{locationStyles:c}=ro(e),{positionClasses:u}=ao(e),{roundedClasses:f}=tn(e);return Ze(()=>m(e.tag,{class:["v-sheet",s.value,r.value,o.value,l.value,u.value,f.value,e.class],style:[a.value,i.value,c.value,e.style]},n)),{}}}),hd={};function Id(e,t){const n=gd;return E(),C(mn,null,{default:I(()=>[m(Je,{"no-gutters":""},{default:I(()=>[m(Ie,{class:"flex-grow-0 pl-4 pr-0 py-0","align-self":"center"},{default:I(()=>[m(n)]),_:1}),m(Ie,{class:"flex-grow-1"},{default:I(()=>[m(oo,{placeholder:"Add a comment...",variant:"flat","hide-details":""},{append:I(()=>[m(ze,{class:"mr-2",variant:"flat",text:"Post"})]),_:1})]),_:1})]),_:1})]),_:1})}const vd=J(hd,[["render",Id],["__scopeId","data-v-c74b305c"]]),Td={class:"ig-user-post__date"},Rd={class:"px-4 py-3"},yd={class:"text-grey"},Sd=F({__name:"InstagramPostDate",props:{date:{}},setup(e){const t=e,s=Oa().format(t.date,"fullDateWithWeekday").split(",").splice(1).join(",");return(r,a)=>(E(),ee("div",Td,[Y("div",Rd,[_t(r.$slots,"prepend"),Y("div",null,[Y("small",yd,xe(z(s)),1)])]),_t(r.$slots,"append")]))}}),bd={},Od={height:"24",viewBox:"0 0 24 24",width:"24"},Dd=Y("polygon",{fill:"none",points:"20 21 12 13.44 4 21 4 3 20 3 20 21",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),Cd=[Dd];function Ad(e,t){return E(),ee("svg",Od,Cd)}const Md=J(bd,[["render",Ad]]),wd={},Pd={height:"24",viewBox:"0 0 24 24",width:"24"},Ld=Y("line",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2",x1:"22",x2:"9.218",y1:"3",y2:"10.083"},null,-1),Nd=Y("polygon",{fill:"none",points:"11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2"},null,-1),Gd=[Ld,Nd];function kd(e,t){return E(),ee("svg",Pd,Gd)}const Bd=J(wd,[["render",kd]]),Ud={},Vd={height:"24",viewBox:"0 0 24 24",width:"24"},xd=Y("path",{d:"M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2"},null,-1),$d=[xd];function Fd(e,t){return E(),ee("svg",Vd,$d)}const Hd=J(Ud,[["render",Fd]]),qd={},Yd={height:"24",viewBox:"0 0 24 24",width:"24"},zd=Y("path",{d:"M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"},null,-1),Wd=[zd];function jd(e,t){return E(),ee("svg",Yd,Wd)}const ms=J(qd,[["render",jd]]),Xd={},Qd=e=>(zn("data-v-db3b146e"),e=e(),Wn(),e),Kd=Qd(()=>Y("div",{class:"font-weight-bold text-subtitle-2 mt-2 mb-n2"},"0 likes",-1));function Zd(e,t){const n=ms,s=Hd,r=Bd,a=Md;return E(),C(mn,null,{default:I(()=>[m(Je,{"no-gutters":"",class:"mt-2"},{default:I(()=>[m(Ie,null,{default:I(()=>[m(n,{class:"mr-2"}),m(s,{class:"mr-2"}),m(r)]),_:1}),m(Ie,{class:"text-right"},{default:I(()=>[m(a)]),_:1})]),_:1}),Kd]),_:1})}const Jd=J(Xd,[["render",Zd],["__scopeId","data-v-db3b146e"]]),ef={},tf={class:"ig-user-comments"};function nf(e,t){return E(),ee("div",tf,[m(qt,{class:"ma-0"}),_t(e.$slots,"default",{},void 0,!0),m(qt,{class:"ma-0"})])}const sf=J(ef,[["render",nf],["__scopeId","data-v-8cdf3a73"]]),ps=F({__name:"contenteditable",props:{tag:String,contenteditable:{type:[Boolean,String],default:!0},modelValue:String,noHtml:{type:Boolean,default:!0},noNl:{type:Boolean,default:!1}},emits:{returned:String,"update:modelValue":String},setup(e,{emit:t}){const n=e;function s(u,f,d){return u.split(f).join(d)}const r=X();function a(){return n.noHtml?r.value.innerText:r.value.innerHTML}function o(u){n.noHtml?r.value.innerText=u:r.value.innerHTML=u}function i(u){t("update:modelValue",a())}function l(u){u.preventDefault();let f=(u.originalEvent||u).clipboardData.getData("text/plain");n.noNl&&(f=s(f,`\r
`," "),f=s(f,`
`," "),f=s(f,"\r"," ")),window.document.execCommand("insertText",!1,f)}function c(u){u.key=="Enter"&&n.noNl&&(u.preventDefault(),t("returned",a()))}return Mt(()=>{var u;o((u=n.modelValue)!=null?u:"")}),De(()=>n.modelValue,(u,f)=>{u!=a()&&o(u??"")}),De(()=>n.noHtml,(u,f)=>{var d;o((d=n.modelValue)!=null?d:"")}),De(()=>n.tag,(u,f)=>{var d;o((d=n.modelValue)!=null?d:"")},{flush:"post"}),(u,f)=>(E(),C(Da(e.tag),{contenteditable:e.contenteditable,onInput:i,onBlur:i,onPaste:l,onKeypress:c,ref_key:"element",ref:r},null,40,["contenteditable"]))}}),rf=F({__name:"InstagramUserProfileUsername",props:{profile:{},editable:{type:Boolean},size:{default:"medium"}},emits:["update"],setup(e,{emit:t}){const n=e,s=X(n.profile.username??"");function r(){n.profile.updateUsername(s.value)}return(a,o)=>(E(),ee("div",{class:it(["ig-profile__header__username",{"font-weight-bold text-subtitle-2":a.size==="medium"}])},[m(z(ps),{tag:"span",contenteditable:a.editable,spellcheck:"false",modelValue:z(s),"onUpdate:modelValue":o[0]||(o[0]=i=>ot(s)?s.value=i:null),"no-html":"","no-nl":"",onBlur:r},null,8,["contenteditable","modelValue"]),a.profile.verified?(E(),C(Qe,{key:0,icon:"mdi-check-decagram"})):Q("",!0)],2))}}),pn=J(rf,[["__scopeId","data-v-fdb8e722"]]),af=F({__name:"InstagramUserAvatar",props:{avatar:{},size:{default:120}},async setup(e){let t,n;const s=e;let r;return s.avatar&&(r=([t,n]=Hn(()=>qn(s.avatar)),t=await t,n(),t)),(a,o)=>(E(),C(io,{size:a.size,class:"ig-profile-avatar"},{default:I(()=>[z(r)?(E(),C(Rr,{key:0,src:z(r),cover:""},null,8,["src"])):Q("",!0)]),_:1},8,["size"]))}}),Lt=J(af,[["__scopeId","data-v-7867abbf"]]),of={class:"px-4 py-3"},lf=["textContent"],cf=F({__name:"InstagramPostComment",props:{media:{},profile:{}},setup(e){return(t,n)=>{const s=Lt,r=pn;return E(),C(mn,{class:"ig-user-comment fill-height"},{default:I(()=>[Y("div",of,[m(Je,null,{default:I(()=>[m(Ie,{class:"flex-grow-0"},{default:I(()=>[m(s,{avatar:t.profile.avatar,size:32},null,8,["avatar"])]),_:1}),m(Ie,{class:"flex-grow-1 pl-1","align-self":"center"},{default:I(()=>[m(r,{size:"medium",class:"d-inline mr-1",profile:t.profile},null,8,["profile"]),Y("p",{textContent:xe(t.media.caption)},null,8,lf)]),_:1})]),_:1})])]),_:1})}}}),uf=J(cf,[["__scopeId","data-v-ef44e427"]]),df={class:"px-4 py-3"},ff=F({__name:"InstagramUserHeader",props:{profile:{}},setup(e){return(t,n)=>{const s=Lt,r=pn;return E(),ee("div",df,[m(Je,null,{default:I(()=>[m(Ie,{class:"flex-grow-0"},{default:I(()=>[m(s,{avatar:t.profile.avatar,size:32},null,8,["avatar"])]),_:1}),m(Ie,{class:"flex-grow-1 pl-1","align-self":"center"},{default:I(()=>[m(r,{size:"medium",profile:t.profile},null,8,["profile"])]),_:1})]),_:1})])}}}),mf={class:"ig-media-detail__media"},pf={class:"ig-media-detail__interaction"},_f=F({__name:"InstagramPostDetail",props:{media:{},profile:{}},setup(e){return(t,n)=>{const s=_s,r=ff,a=uf,o=sf,i=Jd,l=Sd,c=vd;return E(),C(sn,{class:"ig-media-detail"},{default:I(()=>[m(Je,{class:"ma-0"},{default:I(()=>[m(Ie,{class:"pa-0","align-self":"center"},{default:I(()=>[Y("div",mf,[m(s,{media:t.media,profile:t.profile},null,8,["media","profile"])])]),_:1}),m(Ie,{class:"pa-0",style:{"max-width":"405px"}},{default:I(()=>[Y("div",pf,[m(r,{profile:t.profile},null,8,["profile"]),m(o,null,{default:I(()=>[m(a,{profile:t.profile,media:t.media},null,8,["profile","media"])]),_:1}),m(l,{date:t.media.date},{prepend:I(()=>[m(i)]),append:I(()=>[m(qt,{class:"ma-0"})]),_:1},8,["date"]),m(c)])]),_:1})]),_:1})]),_:1})}}}),gf=J(_f,[["__scopeId","data-v-c9f1ff10"]]),Ef=F({__name:"InstagramMediaAlbumCurrentIndex",props:{index:{},max:{}},setup(e){return(t,n)=>(E(),C(lo,{class:"ig-media__badge-index",color:"transparent",content:`${t.index} / ${t.max}`},null,8,["content"]))}}),hf=J(Ef,[["__scopeId","data-v-87d5ead7"]]);/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const ge={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},ur={itemsToShow:{default:ge.itemsToShow,type:Number},itemsToScroll:{default:ge.itemsToScroll,type:Number},wrapAround:{default:ge.wrapAround,type:Boolean},throttle:{default:ge.throttle,type:Number},snapAlign:{default:ge.snapAlign,validator(e){return["start","end","center","center-even","center-odd"].includes(e)}},transition:{default:ge.transition,type:Number},breakpoints:{default:ge.breakpoints,type:Object},autoplay:{default:ge.autoplay,type:Number},pauseAutoplayOnHover:{default:ge.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:ge.mouseDrag,type:Boolean},touchDrag:{default:ge.touchDrag,type:Boolean},dir:{default:ge.dir,validator(e){return["rtl","ltr"].includes(e)}},i18n:{default:ge.i18n,type:Object},settings:{default(){return{}},type:Object}};function If({config:e,slidesCount:t}){const{snapAlign:n,wrapAround:s,itemsToShow:r=1}=e;if(s)return Math.max(t-1,0);let a;switch(n){case"start":a=t-r;break;case"end":a=t-1;break;case"center":case"center-odd":a=t-Math.ceil((r-.5)/2);break;case"center-even":a=t-Math.ceil(r/2);break;default:a=0;break}return Math.max(a,0)}function vf({config:e,slidesCount:t}){const{wrapAround:n,snapAlign:s,itemsToShow:r=1}=e;let a=0;if(n||r>t)return a;switch(s){case"start":a=0;break;case"end":a=r-1;break;case"center":case"center-odd":a=Math.floor((r-1)/2);break;case"center-even":a=Math.floor((r-2)/2);break;default:a=0;break}return a}function xn({val:e,max:t,min:n}){return t<n?e:Math.min(Math.max(e,n),t)}function Tf({config:e,currentSlide:t,slidesCount:n}){const{snapAlign:s,wrapAround:r,itemsToShow:a=1}=e;let o=t;switch(s){case"center":case"center-odd":o-=(a-1)/2;break;case"center-even":o-=(a-2)/2;break;case"end":o-=a-1;break}return r?o:xn({val:o,max:n-a,min:0})}function pa(e){return e?e.reduce((t,n)=>{var s;return n.type===Ae?[...t,...pa(n.children)]:((s=n.type)===null||s===void 0?void 0:s.name)==="CarouselSlide"?[...t,n]:t},[]):[]}function $n({val:e,max:t,min:n=0}){return e>t?$n({val:e-(t+1),max:t,min:n}):e<n?$n({val:e+(t+1),max:t,min:n}):e}function Rf(e,t){let n;return t?function(...s){const r=this;n||(e.apply(r,s),n=!0,setTimeout(()=>n=!1,t))}:e}function yf(e,t){let n;return function(...s){n&&clearTimeout(n),n=setTimeout(()=>{e(...s),n=null},t)}}function Sf(e="",t={}){return Object.entries(t).reduce((n,[s,r])=>n.replace(`{${s}}`,String(r)),e)}var bf=F({name:"ARIA",setup(){const e=Ve("config",Ot(Object.assign({},ge))),t=Ve("currentSlide",X(0)),n=Ve("slidesCount",X(0));return()=>We("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},Sf(e.i18n.itemXofY,{currentSlide:t.value+1,slidesCount:n.value}))}}),Of=F({name:"Carousel",props:ur,setup(e,{slots:t,emit:n,expose:s}){var r;const a=X(null),o=X([]),i=X(0),l=X(0),c=Ot(Object.assign({},ge));let u=Object.assign({},ge),f;const d=X((r=e.modelValue)!==null&&r!==void 0?r:0),_=X(0),p=X(0),g=X(0),M=X(0);let S,A;ke("config",c),ke("slidesCount",l),ke("currentSlide",d),ke("maxSlide",g),ke("minSlide",M),ke("slideWidth",i);function L(){f=Object.assign({},e.breakpoints),u=Object.assign(Object.assign(Object.assign({},u),e),{i18n:Object.assign(Object.assign({},u.i18n),e.i18n),breakpoints:void 0}),R(u)}function B(){if(!f||!Object.keys(f).length)return;const H=Object.keys(f).map(de=>Number(de)).sort((de,Ue)=>+Ue-+de);let ie=Object.assign({},u);H.some(de=>{const Ue=window.matchMedia(`(min-width: ${de}px)`).matches;return Ue&&(ie=Object.assign(Object.assign({},ie),f[de])),Ue}),R(ie)}function R(H){Object.entries(H).forEach(([ie,de])=>c[ie]=de)}const y=yf(()=>{B(),U()},16);function U(){if(!a.value)return;const H=a.value.getBoundingClientRect();i.value=H.width/c.itemsToShow}function T(){l.value<=0||(p.value=Math.ceil((l.value-1)/2),g.value=If({config:c,slidesCount:l.value}),M.value=vf({config:c,slidesCount:l.value}),c.wrapAround||(d.value=xn({val:d.value,max:g.value,min:M.value})))}Mt(()=>{Er(()=>U()),setTimeout(()=>U(),1e3),B(),x(),window.addEventListener("resize",y,{passive:!0}),n("init")}),Ca(()=>{A&&clearTimeout(A),S&&clearInterval(S),window.removeEventListener("resize",y,{passive:!0})});let O=!1;const V={x:0,y:0},P={x:0,y:0},N=Ot({x:0,y:0}),Z=X(!1),b=X(!1),q=()=>{Z.value=!0},h=()=>{Z.value=!1};function D(H){["INPUT","TEXTAREA","SELECT"].includes(H.target.tagName)||(O=H.type==="touchstart",O||H.preventDefault(),!(!O&&H.button!==0||ae.value)&&(V.x=O?H.touches[0].clientX:H.clientX,V.y=O?H.touches[0].clientY:H.clientY,document.addEventListener(O?"touchmove":"mousemove",G,!0),document.addEventListener(O?"touchend":"mouseup",k,!0)))}const G=Rf(H=>{b.value=!0,P.x=O?H.touches[0].clientX:H.clientX,P.y=O?H.touches[0].clientY:H.clientY;const ie=P.x-V.x,de=P.y-V.y;N.y=de,N.x=ie},c.throttle);function k(){const H=c.dir==="rtl"?-1:1,ie=Math.sign(N.x)*.4,de=Math.round(N.x/i.value+ie)*H;if(de&&!O){const Ue=_n=>{_n.stopPropagation(),window.removeEventListener("click",Ue,!0)};window.addEventListener("click",Ue,!0)}_e(d.value-de),N.x=0,N.y=0,b.value=!1,document.removeEventListener(O?"touchmove":"mousemove",G,!0),document.removeEventListener(O?"touchend":"mouseup",k,!0)}function x(){!c.autoplay||c.autoplay<=0||(S=setInterval(()=>{c.pauseAutoplayOnHover&&Z.value||oe()},c.autoplay))}function K(){S&&(clearInterval(S),S=null),x()}const ae=X(!1);function _e(H){const ie=c.wrapAround?H:xn({val:H,max:g.value,min:M.value});d.value===ie||ae.value||(n("slide-start",{slidingToIndex:H,currentSlideIndex:d.value,prevSlideIndex:_.value,slidesCount:l.value}),ae.value=!0,_.value=d.value,d.value=ie,A=setTimeout(()=>{if(c.wrapAround){const de=$n({val:ie,max:g.value,min:0});de!==d.value&&(d.value=de,n("loop",{currentSlideIndex:d.value,slidingToIndex:H}))}n("update:modelValue",d.value),n("slide-end",{currentSlideIndex:d.value,prevSlideIndex:_.value,slidesCount:l.value}),ae.value=!1,K()},c.transition))}function oe(){_e(d.value+c.itemsToScroll)}function qe(){_e(d.value-c.itemsToScroll)}const w={slideTo:_e,next:oe,prev:qe};ke("nav",w),ke("isSliding",ae);const j=$(()=>Tf({config:c,currentSlide:d.value,slidesCount:l.value}));ke("slidesToScroll",j);const ye=$(()=>{const H=c.dir==="rtl"?-1:1,ie=j.value*i.value*H;return{transform:`translateX(${N.x-ie}px)`,transition:`${ae.value?c.transition:0}ms`,margin:c.wrapAround?`0 -${l.value*i.value}px`:"",width:"100%"}});function Me(){L(),B(),T(),U(),K()}Object.keys(ur).forEach(H=>{["modelValue"].includes(H)||De(()=>e[H],Me)}),De(()=>e.modelValue,H=>{H!==d.value&&_e(Number(H))}),De(l,T),n("before-init"),L();const ue={config:c,slidesCount:l,slideWidth:i,next:oe,prev:qe,slideTo:_e,currentSlide:d,maxSlide:g,minSlide:M,middleSlide:p};s({updateBreakpointsConfigs:B,updateSlidesData:T,updateSlideWidth:U,initDefaultConfigs:L,restartCarousel:Me,slideTo:_e,next:oe,prev:qe,nav:w,data:ue});const Ge=t.default||t.slides,Tt=t.addons,Nt=Ot(ue);return()=>{const H=pa(Ge==null?void 0:Ge(Nt)),ie=(Tt==null?void 0:Tt(Nt))||[];H.forEach((gn,En)=>gn.props.index=En);let de=H;if(c.wrapAround){const gn=H.map((hn,Rt)=>Is(hn,{index:-H.length+Rt,isClone:!0,key:`clone-before-${Rt}`})),En=H.map((hn,Rt)=>Is(hn,{index:H.length+Rt,isClone:!0,key:`clone-after-${Rt}`}));de=[...gn,...H,...En]}o.value=H,l.value=Math.max(H.length,1);const Ue=We("ol",{class:"carousel__track",style:ye.value,onMousedownCapture:c.mouseDrag?D:null,onTouchstartPassiveCapture:c.touchDrag?D:null},de),_n=We("div",{class:"carousel__viewport"},Ue);return We("section",{ref:a,class:{carousel:!0,"is-sliding":ae.value,"is-dragging":b.value,"is-hover":Z.value,"carousel--rtl":c.dir==="rtl"},dir:c.dir,"aria-label":c.i18n.ariaGallery,tabindex:"0",onMouseenter:q,onMouseleave:h},[_n,ie,We(bf)])}}}),dr;(function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"})(dr||(dr={}));var Df=F({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:t}){const n=Ve("config",Ot(Object.assign({},ge))),s=Ve("currentSlide",X(0)),r=Ve("slidesToScroll",X(0)),a=Ve("isSliding",X(!1)),o=()=>e.index===s.value,i=()=>e.index===s.value-1,l=()=>e.index===s.value+1,c=()=>{const u=Math.floor(r.value),f=Math.ceil(r.value+n.itemsToShow-1);return e.index>=u&&e.index<=f};return()=>{var u;return We("li",{style:{width:`${100/n.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":c(),"carousel__slide--active":o(),"carousel__slide--prev":i(),"carousel__slide--next":l(),"carousel__slide--sliding":a.value},"aria-hidden":!c()},(u=t.default)===null||u===void 0?void 0:u.call(t))}}});const Cf=F({__name:"InstagramMediaAlbum",props:{media:{},profile:{}},setup(e){return(t,n)=>{const s=_s,r=hf,a=fn;return E(),C(a,{type:"album",media:t.media},{default:I(()=>[m(z(Of),{modelValue:t.media.listIndex,"onUpdate:modelValue":n[0]||(n[0]=o=>t.media.listIndex=o)},{default:I(()=>[(E(!0),ee(Ae,null,Kt(t.media.list,(o,i)=>(E(),C(z(Df),{key:i},{default:I(()=>[m(s,{"context-menu":!1,media:o,profile:t.profile},null,8,["media","profile"])]),_:2},1024))),128))]),_:1},8,["modelValue"]),m(r,{index:t.media.currentIndex,max:t.media.itemsCount},null,8,["index","max"])]),_:1},8,["media"])}}}),Af=J(Cf,[["__scopeId","data-v-0ee6629b"]]),Mf=F({__name:"InstagramPost",props:{profile:{},media:{},contextMenu:{type:Boolean},detailOnClick:{type:Boolean}},setup(e){return(t,n)=>{const s=ds,r=ma,a=Af,o=fa,i=gf;return E(),ee(Ae,null,[(E(),C(gt,null,{default:I(()=>[t.media.type==="image"?(E(),C(s,{key:0,"detail-on-click":t.detailOnClick,"context-menu":t.contextMenu,media:t.media},null,8,["detail-on-click","context-menu","media"])):Q("",!0)]),_:1})),(E(),C(gt,null,{default:I(()=>[t.media.type==="video"?(E(),C(r,{key:0,"detail-on-click":t.detailOnClick,"context-menu":t.contextMenu,media:t.media,"cover-selector":""},null,8,["detail-on-click","context-menu","media"])):Q("",!0)]),_:1})),t.media.type==="album"?(E(),C(a,{key:0,"detail-on-click":t.detailOnClick,"context-menu":t.contextMenu,media:t.media,profile:t.profile},null,8,["detail-on-click","context-menu","media","profile"])):Q("",!0),t.media.type==="iframe"?(E(),C(o,{key:1,"detail-on-click":t.detailOnClick,"context-menu":t.contextMenu,media:t.media},null,8,["detail-on-click","context-menu","media"])):Q("",!0),t.detailOnClick?(E(),C(Qn,{key:2,activator:"parent"},{default:I(()=>[m(i,{media:t.media,profile:t.profile},null,8,["media","profile"])]),_:1})):Q("",!0)],64)}}}),_s=J(Mf,[["__scopeId","data-v-ff1b3d9c"]]),wf=F({__name:"InstagramUserMediaGrid",props:{user:{},mode:{}},setup(e){const t=e,n=X(),s=X(!1);function r(){t.user.save()}function a(){s.value=!0}function o(){s.value=!1}return(i,l)=>{const c=_s,u=ud,f=da;return E(),C(yr,{class:"ig-profile-page__media-grid-container px-0"},{default:I(()=>[Y("div",{class:it(["ig-profile-page__media-grid",{"ig-profile-page__media-grid--dragging":z(s)}]),ref_key:"gridListRef",ref:n},[t.user.media[t.mode].length>0?(E(),C(z(Aa),{key:0,list:t.user.media[t.mode],"onUpdate:list":[l[0]||(l[0]=d=>t.user.media[t.mode]=d),r],axis:"xy",class:"v-row","use-drag-handle":"","press-delay":100,"press-threshold":100,onSortStart:a,onSortEnd:o},{default:I(()=>[(E(!0),ee(Ae,null,Kt(t.user.media[t.mode],(d,_)=>(E(),C(z(Ma),{key:d.id,index:_,class:"ig-profile-page__media-grid__item v-col v-col-4"},{default:I(()=>[m(z(wa),{class:"ig-profile-page__media-grid__drag-handle"},{default:I(()=>[m(Qe,{icon:"mdi-drag",color:"white"})]),_:1}),i.mode==="posts"?(E(),C(c,{key:0,profile:i.user.profile,media:d,"context-menu":"","detail-on-click":""},null,8,["profile","media"])):Q("",!0),i.mode==="reels"?(E(),C(u,{key:1,profile:i.user.profile,media:d,"context-menu":""},null,8,["profile","media"])):Q("",!0)]),_:2},1032,["index"]))),128))]),_:1},8,["list"])):(E(),C(sn,{key:1,height:500},{default:I(()=>[m(f)]),_:1}))],2)]),_:1})}}}),Pf={class:"ig-profile-page__tabs"},Lf=["onClick"],Nf=F({__name:"InstagramUserTabs",props:{media:{},active:{}},emits:["select"],setup(e,{emit:t}){const n=t,s=e,r=$(()=>{let a=[{name:"posts",label:"Posts",icon:"mdi-grid"}];return s.media.reels.length>0&&a.push({name:"reels",label:"Reels",icon:"mdi-play-box-multiple-outline"}),a});return(a,o)=>(E(),ee("div",Pf,[(E(!0),ee(Ae,null,Kt(z(r),(i,l)=>(E(),ee("div",{key:l,class:it(["ig-profile-page__tabs__tab",{"ig-profile-page__tabs__tab--active":a.active===i.name}]),onClick:c=>n("select",i.name)},[m(Qe,{size:"15"},{default:I(()=>[te(xe(i.icon),1)]),_:2},1024),te(" "+xe(i.label),1)],10,Lf))),128))]))}}),Gf=J(Nf,[["__scopeId","data-v-757b7330"]]),kf=["href"],Bf=F({__name:"InstagramUserProfileWebsite",props:{user:{}},setup(e){const t=e,n=$(()=>new URL(t.user.profile.website).host);return(s,r)=>s.user.profile.website?(E(),ee("a",{key:0,class:"ig-profile-page__header__website",href:t.user.profile.website,target:"_blank"},[m(Qe,{icon:"mdi-link-variant",size:16}),te(" "+xe(z(n)),1)],8,kf)):Q("",!0)}}),Uf=J(Bf,[["__scopeId","data-v-d4878ecb"]]),Vf=F({__name:"InstagramUserProfileBiography",props:{biography:{}},emits:["update"],setup(e,{emit:t}){const n=e,s=t,r=X(n.biography??"");function a(){s("update",r.value)}return(o,i)=>(E(),C(z(ps),{tag:"p",class:"ig-profile-page__header__biography",contenteditable:"",spellcheck:"false",modelValue:z(r),"onUpdate:modelValue":i[0]||(i[0]=l=>ot(r)?r.value=l:null),"no-html":!0,onBlur:a},null,8,["modelValue"]))}}),xf=F({__name:"InstagramUserProfileName",props:{user:{}},emits:["update"],setup(e,{emit:t}){const n=e,s=X(n.user.profile.name??"");function r(){n.user.profile.updateName(s.value)}return(a,o)=>z(s)?(E(),C(z(ps),{key:0,tag:"p",class:"ig-profile-page__header__name",contenteditable:"",spellcheck:"false",modelValue:z(s),"onUpdate:modelValue":o[0]||(o[0]=i=>ot(s)?s.value=i:null),"no-html":"","no-nl":"",onBlur:r},null,8,["modelValue"])):Q("",!0)}}),$f=J(xf,[["__scopeId","data-v-27a3da69"]]),Ff={class:"ig-profile-page__header__inner"},Hf=F({__name:"InstagramUserProfileInner",props:{user:{}},setup(e){return(t,n)=>{const s=$f,r=Vf,a=Uf;return E(),ee("div",Ff,[m(s,{user:t.user},null,8,["user"]),m(r,{biography:t.user.profile.biography,onUpdate:n[0]||(n[0]=o=>t.user.profile.updateBiography(o))},null,8,["biography"]),m(a,{user:t.user},null,8,["user"])])}}}),_a=J(Hf,[["__scopeId","data-v-ed409611"]]),gs=e=>(zn("data-v-c9df75a0"),e=e(),Wn(),e),qf=["textContent"],Yf=gs(()=>Y("span",null,"posts",-1)),zf=["textContent"],Wf=gs(()=>Y("span",null,"followers",-1)),jf=["textContent"],Xf=gs(()=>Y("span",null,"following",-1)),Qf=F({__name:"InstagramUserProfileStats",props:{profile:{},mobile:{type:Boolean}},setup(e){return(t,n)=>(E(),ee("ul",{class:it(["ig-profile-page__header__stats",{"ig-profile-page__header__stats--mobile":t.mobile}])},[Y("li",null,[Y("b",{textContent:xe(t.profile.posts_count)},null,8,qf),te(),Yf]),Y("li",null,[Y("b",{textContent:xe(t.profile.followers_count)},null,8,zf),te(),Wf]),Y("li",null,[Y("b",{textContent:xe(t.profile.follows_count)},null,8,jf),te(),Xf])],2))}}),ga=J(Qf,[["__scopeId","data-v-c9df75a0"]]),Ea=F({__name:"InstagramUserProfileAvatarEditor",props:{user:{},size:{default:120}},setup(e){const t=e,{files:n,open:s,reset:r,onChange:a}=wt({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return a(async o=>{if(!o)return;const i=o[0];await t.user.profile.updateAvatar(i)}),(o,i)=>{const l=Lt;return E(),C(gt,null,{default:I(()=>[m(l,{onDblclick:z(s),avatar:o.user.profile.avatar,size:o.size},null,8,["onDblclick","avatar","size"])]),_:1})}}}),Kf={class:"ig-profile-page__header"},Zf={class:"ig-profile-page__header__top py-4"},Jf={class:"mt-2 mb-8"},em={class:"my-4 mt-n6"},tm=F({__name:"InstagramUserProfileMobile",props:{user:{}},setup(e){return(t,n)=>{const s=Pa("router-link"),r=pn,a=Ea,o=ga,i=_a;return E(),ee("div",Kf,[Y("div",Zf,[m(s,{to:{name:"index"}},{default:I(()=>[m(Qe,{icon:"mdi-arrow-left",class:"mr-4",style:{"margin-top":"-2px"}})]),_:1}),m(r,{editable:"",profile:t.user.profile,size:"large",class:"mb-5"},null,8,["profile"])]),Y("div",Jf,[m(Je,null,{default:I(()=>[m(Ie,{cols:"3",class:"ig-profile-page__header__avatar text-left"},{default:I(()=>[m(a,{size:72,user:t.user},null,8,["user"])]),_:1}),m(Ie,{cols:"9","align-self":"center"},{default:I(()=>[m(o,{mobile:"",profile:t.user.profile},null,8,["profile"])]),_:1})]),_:1})]),Y("div",em,[m(i,{user:t.user},null,8,["user"])])])}}}),nm=J(tm,[["__scopeId","data-v-3de81c3a"]]),sm={class:"ig-profile-page__header py-12"},rm=F({__name:"InstagramUserProfileDesktop",props:{user:{}},setup(e){return(t,n)=>{const s=Ea,r=pn,a=ga,o=_a;return E(),ee("div",sm,[m(Je,null,{default:I(()=>[m(Ie,{cols:"4",class:"ig-profile-page__header__avatar text-center"},{default:I(()=>[m(s,{user:t.user},null,8,["user"])]),_:1}),m(Ie,{cols:"8"},{default:I(()=>[m(r,{editable:"",profile:t.user.profile,size:"large",class:"mb-5"},null,8,["profile"]),m(a,{profile:t.user.profile,class:"mb-5"},null,8,["profile"]),m(o,{user:t.user},null,8,["user"])]),_:1})]),_:1})])}}}),am=J(rm,[["__scopeId","data-v-615a5d1b"]]),om=F({__name:"InstagramUserProfile",props:{user:{}},setup(e){return(t,n)=>{const s=am,r=nm;return t.$vuetify.display.smAndUp?(E(),C(s,{key:0,user:t.user},null,8,["user"])):(E(),C(r,{key:1,user:t.user},null,8,["user"]))}}}),im=F({__name:"InstagramUser",props:{user:{}},setup(e){const t=X("posts");return(n,s)=>{const r=om,a=Gf,o=wf;return E(),C(mn,{color:"transparent",class:"ig-profile-page"},{default:I(()=>[m(yr,{class:"py-0"},{default:I(()=>[m(r,{user:n.user},null,8,["user"]),m(a,{media:n.user.media,active:z(t),onSelect:s[0]||(s[0]=i=>t.value=i)},null,8,["media","active"]),m(o,{user:n.user,mode:z(t)},null,8,["user","mode"])]),_:1})]),_:1})}}}),lm={},cm=e=>(zn("data-v-46aaa085"),e=e(),Wn(),e),um=cm(()=>Y("p",{class:"mt-3"},[Y("a",{href:"https://github.com/dxlliv/planner",target:"_blank"},[Y("strong",null,"Planner")]),te(" is currently under development."),Y("br"),te(" Star the project and ask for new features! ")],-1)),dm={class:"mt-5"};function fm(e,t){return E(),ee(Ae,null,[um,Y("div",dm,[m(ze,{border:"",href:"https://patreon.com/dxlliv",target:"_blank"},{default:I(()=>[te("Become a Patron")]),_:1})])],64)}const mm=J(lm,[["render",fm],["__scopeId","data-v-46aaa085"]]),pm=Y("p",null,[te(" Some changes have been made to the profile"),Y("br"),te(" and have now been stored in your browser. ")],-1),_m=F({__name:"InstagramUserExport",emits:["close"],setup(e,{emit:t}){const n=t;return(s,r)=>{const a=mm;return E(),C(Qn,{"content-class":"ig-user-export","max-width":700,onClose:r[0]||(r[0]=o=>n("close"))},{default:I(()=>[m(sn,{height:"70vh"},{default:I(()=>[m(Sr,{textContent:"Profile export"}),m(Je,{class:"ma-0"},{default:I(()=>[m(Ie,{"align-self":"center",class:"text-center"},{default:I(()=>[pm,m(a)]),_:1})]),_:1})]),_:1})]),_:1})}}}),gm=F({__name:"InstagramMediaCreate",emits:["close"],setup(e,{emit:t}){const n=t;function s(r){n("close")}return(r,a)=>{const o=da;return E(),C(Qn,{"content-class":"ig-media-create","max-width":700,onClose:a[0]||(a[0]=i=>n("close"))},{default:I(()=>[m(sn,{height:"70vh"},{default:I(()=>[m(Sr,{textContent:"Create new post"}),m(o,{class:"mx-4",onAdd:s})]),_:1})]),_:1})}}}),Em={},hm={height:"24",viewBox:"0 0 24 24",width:"24"},Im=Y("polygon",{fill:"none",points:"13.941 13.953 7.581 16.424 10.06 10.056 16.42 7.585 13.941 13.953",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),vm=Y("polygon",{"fill-rule":"evenodd",points:"10.06 10.056 13.949 13.945 7.581 16.424 10.06 10.056"},null,-1),Tm=Y("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),Rm=[Im,vm,Tm];function ym(e,t){return E(),ee("svg",hm,Rm)}const ha=J(Em,[["render",ym]]),Sm={},bm={height:"24",viewBox:"0 0 24 24",width:"24"},Om=Y("path",{d:"M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),Dm=Y("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"6.545",x2:"17.455",y1:"12.001",y2:"12.001"},null,-1),Cm=Y("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"12.003",x2:"12.003",y1:"6.545",y2:"17.455"},null,-1),Am=[Om,Dm,Cm];function Mm(e,t){return E(),ee("svg",bm,Am)}const Ia=J(Sm,[["render",Mm]]),wm={},Pm={height:"22",viewBox:"0 0 24 24",width:"24"},Lm=Y("path",{d:"M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2"},null,-1),Nm=[Lm];function Gm(e,t){return E(),ee("svg",Pm,Nm)}const va=J(wm,[["render",Gm]]),At={docs:"https://dxlliv.github.io/planner/docs/",source:"https://github.com/dxlliv/planner",support:"https://patreon.com/dxlliv"},km=He({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...jn(),...lt(),...co(),...Jt(),...Zt(),...hr({name:"bottom-navigation"}),...nn({tag:"header"}),...uo({modelValue:!0,selectedClass:"v-btn--selected"}),...Yn()},"VBottomNavigation"),Bm=Ke()({name:"VBottomNavigation",props:km(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:s}=La(),{borderClasses:r}=Xn(e),{backgroundColorClasses:a,backgroundColorStyles:o}=Et(me(e,"bgColor")),{densityClasses:i}=fo(e),{elevationClasses:l}=en(e),{roundedClasses:c}=tn(e),{ssrBootStyles:u}=Kn(),f=$(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),d=me(e,"active"),{layoutItemStyles:_}=Ir({id:e.name,order:$(()=>parseInt(e.order,10)),position:$(()=>"bottom"),layoutSize:$(()=>d.value?f.value:0),elementSize:f,active:d,absolute:me(e,"absolute")});return mo(e,po),vr({VBtn:{color:me(e,"color"),density:me(e,"density"),stacked:$(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),Ze(()=>m(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":d.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},s.value,a.value,r.value,i.value,l.value,c.value,e.class],style:[o.value,_.value,{height:Be(f.value),transform:`translateY(${Be(d.value?0:100,"%")})`},u.value,e.style]},{default:()=>[n.default&&m("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),Um=F({__name:"InstagramNavigationDrawerHorizontal",props:{user:{}},emits:["create","export"],setup(e,{emit:t}){const n=t;return(s,r)=>{const a=va,o=ms,i=Ia,l=ha,c=Lt;return E(),C(Bm,{class:"ig-navigation-drawer ig-navigation-drawer--horizontal",height:"50"},{default:I(()=>[m(ze,{to:{name:"index"}},{default:I(()=>[m(a)]),_:1}),m(ze,{href:z(At).support,target:"_blank"},{default:I(()=>[m(o)]),_:1},8,["href"]),m(ze,{onClick:r[0]||(r[0]=u=>n("create"))},{default:I(()=>[m(i)]),_:1}),m(ze,{href:z(At).docs},{default:I(()=>[m(l)]),_:1},8,["href"]),m(ze,{to:s.user.route},{default:I(()=>[s.user.ready?(E(),C(c,{key:0,avatar:s.user.profile.avatar,size:26},null,8,["avatar"])):Q("",!0)]),_:1},8,["to"])]),_:1})}}}),Vm=J(Um,[["__scopeId","data-v-360dbf3a"]]),xm={},$m={height:"24",viewBox:"0 0 24 24",width:"24"},Fm=Y("path",{d:"M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),Hm=Y("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"16.511",x2:"22",y1:"16.511",y2:"22"},null,-1),qm=[Fm,Hm];function Ym(e,t){return E(),ee("svg",$m,qm)}const zm=J(xm,[["render",Ym]]);function Wm(e){let{rootEl:t,isSticky:n,layoutItemStyles:s}=e;const r=je(!1),a=je(0),o=$(()=>{const c=typeof r.value=="boolean"?"top":r.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[c]:Be(a.value)}:{top:s.value.top}]});Mt(()=>{De(n,c=>{c?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Tr(()=>{window.removeEventListener("scroll",l)});let i=0;function l(){const c=i>window.scrollY?"up":"down",u=t.value.getBoundingClientRect(),f=parseFloat(s.value.top??0),d=window.scrollY-Math.max(0,a.value-f),_=u.height+Math.max(a.value,f)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;u.height<window.innerHeight-f?(r.value="top",a.value=f):c==="up"&&r.value==="bottom"||c==="down"&&r.value==="top"?(a.value=window.scrollY+u.top-p,r.value=!0):c==="down"&&_<=0?(a.value=0,r.value="bottom"):c==="up"&&d<=0&&(p?r.value!=="top"&&(a.value=-d+p+f,r.value="top"):(a.value=u.top+d,r.value="top")),i=window.scrollY}return{isStuck:r,stickyStyles:o}}const jm=100,Xm=20;function fr(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function mr(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const s=fr(t),r=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(r-s)*Math.abs(r),n===e.length-1&&(t*=.5)}return fr(t)*1e3}function Qm(){const e={};function t(r){Array.from(r.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new Na(Xm))).push([r.timeStamp,a])})}function n(r){Array.from(r.changedTouches).forEach(a=>{delete e[a.identifier]})}function s(r){var c;const a=(c=e[r])==null?void 0:c.values().reverse();if(!a)throw new Error(`No samples for touch id ${r}`);const o=a[0],i=[],l=[];for(const u of a){if(o[0]-u[0]>jm)break;i.push({t:u[0],d:u[1].clientX}),l.push({t:u[0],d:u[1].clientY})}return{x:mr(i),y:mr(l),get direction(){const{x:u,y:f}=this,[d,_]=[Math.abs(u),Math.abs(f)];return d>_&&u>=0?"right":d>_&&u<=0?"left":_>d&&f>=0?"down":_>d&&f<=0?"up":Km()}}}return{addMovement:t,endTouch:n,getVelocity:s}}function Km(){throw new Error}function Zm(e){let{isActive:t,isTemporary:n,width:s,touchless:r,position:a}=e;Mt(()=>{window.addEventListener("touchstart",S,{passive:!0}),window.addEventListener("touchmove",A,{passive:!1}),window.addEventListener("touchend",L,{passive:!0})}),Tr(()=>{window.removeEventListener("touchstart",S),window.removeEventListener("touchmove",A),window.removeEventListener("touchend",L)});const o=$(()=>["left","right"].includes(a.value)),{addMovement:i,endTouch:l,getVelocity:c}=Qm();let u=!1;const f=je(!1),d=je(0),_=je(0);let p;function g(R,y){return(a.value==="left"?R:a.value==="right"?document.documentElement.clientWidth-R:a.value==="top"?R:a.value==="bottom"?document.documentElement.clientHeight-R:dt())-(y?s.value:0)}function M(R){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const U=a.value==="left"?(R-_.value)/s.value:a.value==="right"?(document.documentElement.clientWidth-R-_.value)/s.value:a.value==="top"?(R-_.value)/s.value:a.value==="bottom"?(document.documentElement.clientHeight-R-_.value)/s.value:dt();return y?Math.max(0,Math.min(1,U)):U}function S(R){if(r.value)return;const y=R.changedTouches[0].clientX,U=R.changedTouches[0].clientY,T=25,O=a.value==="left"?y<T:a.value==="right"?y>document.documentElement.clientWidth-T:a.value==="top"?U<T:a.value==="bottom"?U>document.documentElement.clientHeight-T:dt(),V=t.value&&(a.value==="left"?y<s.value:a.value==="right"?y>document.documentElement.clientWidth-s.value:a.value==="top"?U<s.value:a.value==="bottom"?U>document.documentElement.clientHeight-s.value:dt());(O||V||t.value&&n.value)&&(u=!0,p=[y,U],_.value=g(o.value?y:U,t.value),d.value=M(o.value?y:U),l(R),i(R))}function A(R){const y=R.changedTouches[0].clientX,U=R.changedTouches[0].clientY;if(u){if(!R.cancelable){u=!1;return}const O=Math.abs(y-p[0]),V=Math.abs(U-p[1]);(o.value?O>V&&O>3:V>O&&V>3)?(f.value=!0,u=!1):(o.value?V:O)>3&&(u=!1)}if(!f.value)return;R.preventDefault(),i(R);const T=M(o.value?y:U,!1);d.value=Math.max(0,Math.min(1,T)),T>1?_.value=g(o.value?y:U,!0):T<0&&(_.value=g(o.value?y:U,!1))}function L(R){if(u=!1,!f.value)return;i(R),f.value=!1;const y=c(R.changedTouches[0].identifier),U=Math.abs(y.x),T=Math.abs(y.y);(o.value?U>T&&U>400:T>U&&T>3)?t.value=y.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||dt()):t.value=d.value>.5}const B=$(()=>f.value?{transform:a.value==="left"?`translateX(calc(-100% + ${d.value*s.value}px))`:a.value==="right"?`translateX(calc(100% - ${d.value*s.value}px))`:a.value==="top"?`translateY(calc(-100% + ${d.value*s.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${d.value*s.value}px))`:dt(),transition:"none"}:void 0);return{isDragging:f,dragProgress:d,dragStyles:B}}function dt(){throw new Error}const Jm=["start","end","left","right","top","bottom"],ep=He({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Jm.includes(e)},sticky:Boolean,...jn(),...lt(),...Ga(),...Jt(),...hr(),...Zt(),...nn({tag:"nav"}),...Yn()},"VNavigationDrawer"),tp=Ke()({name:"VNavigationDrawer",props:ep(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:s,slots:r}=t;const{isRtl:a}=Qt(),{themeClasses:o}=gr(e),{borderClasses:i}=Xn(e),{backgroundColorClasses:l,backgroundColorStyles:c}=Et(me(e,"color")),{elevationClasses:u}=en(e),{displayClasses:f,mobile:d}=ka(e),{roundedClasses:_}=tn(e),p=_o(),g=_r(e,"modelValue",null,x=>!!x),{ssrBootStyles:M}=Kn(),{scopeId:S}=go(),A=X(),L=je(!1),B=$(()=>e.rail&&e.expandOnHover&&L.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),R=$(()=>Eo(e.location,a.value)),y=$(()=>!e.permanent&&(d.value||e.temporary)),U=$(()=>e.sticky&&!y.value&&R.value!=="bottom");In(()=>e.expandOnHover&&e.rail!=null,()=>{De(L,x=>s("update:rail",!x))}),In(()=>!e.disableResizeWatcher,()=>{De(y,x=>!e.permanent&&Er(()=>g.value=!x))}),In(()=>!e.disableRouteWatcher&&!!p,()=>{De(p.currentRoute,()=>y.value&&(g.value=!1))}),De(()=>e.permanent,x=>{x&&(g.value=!0)}),Ba(()=>{e.modelValue!=null||y.value||(g.value=e.permanent||!d.value)});const{isDragging:T,dragProgress:O,dragStyles:V}=Zm({isActive:g,isTemporary:y,width:B,touchless:me(e,"touchless"),position:R}),P=$(()=>{const x=y.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):B.value;return T.value?x*O.value:x}),{layoutItemStyles:N,layoutItemScrimStyles:Z}=Ir({id:e.name,order:$(()=>parseInt(e.order,10)),position:R,layoutSize:P,elementSize:B,active:$(()=>g.value||T.value),disableTransitions:$(()=>T.value),absolute:$(()=>e.absolute||U.value&&typeof b.value!="string")}),{isStuck:b,stickyStyles:q}=Wm({rootEl:A,isSticky:U,layoutItemStyles:N}),h=Et($(()=>typeof e.scrim=="string"?e.scrim:null)),D=$(()=>({...T.value?{opacity:O.value*.2,transition:"none"}:void 0,...Z.value}));vr({VList:{bgColor:"transparent"}});function G(){L.value=!0}function k(){L.value=!1}return Ze(()=>{const x=r.image||e.image;return m(Ae,null,[m(e.tag,An({ref:A,onMouseenter:G,onMouseleave:k,class:["v-navigation-drawer",`v-navigation-drawer--${R.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":L.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":y.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":U.value},o.value,l.value,i.value,f.value,u.value,_.value,e.class],style:[c.value,N.value,V.value,M.value,q.value,e.style]},S,n),{default:()=>{var K,ae,_e,oe;return[x&&m("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?(K=r.image)==null?void 0:K.call(r,{image:e.image}):m("img",{src:e.image,alt:""},null)]),r.prepend&&m("div",{class:"v-navigation-drawer__prepend"},[(ae=r.prepend)==null?void 0:ae.call(r)]),m("div",{class:"v-navigation-drawer__content"},[(_e=r.default)==null?void 0:_e.call(r)]),r.append&&m("div",{class:"v-navigation-drawer__append"},[(oe=r.append)==null?void 0:oe.call(r)])]}}),m(Ua,{name:"fade-transition"},{default:()=>[y.value&&(T.value||g.value)&&!!e.scrim&&m("div",An({class:["v-navigation-drawer__scrim",h.backgroundColorClasses.value],style:[D.value,h.backgroundColorStyles.value],onClick:()=>g.value=!1},S),null)]})])}),{isStuck:b}}}),np=F({__name:"InstagramNavigationDrawerVertical",props:{user:{},nav:{}},emits:["create","export"],setup(e,{emit:t}){const n=t;return(s,r)=>{const a=ho,o=va,i=ha,l=zm,c=ms,u=Ia,f=Lt;return E(),C(tp,{class:"ig-navigation-drawer",permanent:s.$vuetify.display.smAndUp,rail:s.$vuetify.display.mdAndDown,width:244,"rail-width":72},{default:I(()=>[m(Dt,{class:"pt-7 pb-3 hidden-md-and-down"},{default:I(()=>[m(Ee,null,{default:I(()=>[m(a)]),_:1})]),_:1}),m(Dt,{density:"compact",nav:"",class:"mt-2 mt-lg-0"},{default:I(()=>[m(Ee,{title:"Home",to:{name:"index"}},{prepend:I(()=>[m(o)]),_:1}),(E(!0),ee(Ae,null,Kt(s.nav,d=>(E(),C(Ee,xa(Va(d.item)),{prepend:I(()=>[d.icon==="IconExplore"?(E(),C(i,{key:0})):Q("",!0),d.icon==="IconMagnify"?(E(),C(l,{key:1})):Q("",!0),d.icon==="IconHeart"?(E(),C(c,{key:2})):Q("",!0)]),_:2},1040))),256)),m(Ee,{title:"Create",onClick:r[0]||(r[0]=d=>n("create"))},{prepend:I(()=>[m(u)]),_:1}),s.user.ready?(E(),C(Ee,{key:0,title:"Profile",to:s.user.route},{prepend:I(()=>[(E(),C(gt,null,{default:I(()=>[m(f,{avatar:s.user.profile.avatar,size:26},null,8,["avatar"])]),_:1}))]),_:1},8,["to"])):Q("",!0)]),_:1}),m(Dt,{density:"compact",nav:"",class:"ig-navigation-drawer__list-bottom"},{default:I(()=>[s.user.hasLocalChanges?(E(),C(Ee,{key:0,title:"Export","base-color":"primary",onClick:r[1]||(r[1]=d=>n("export"))},{prepend:I(()=>[m(Qe,{icon:"mdi-pencil-ruler-outline"})]),_:1})):Q("",!0)]),_:1})]),_:1},8,["permanent","rail"])}}}),sp=F({__name:"InstagramNavigationDrawer",setup(e){const t=Fn(),n=$(()=>t.user),s=[{item:{title:"Source",href:At.source,target:"_blank"},icon:"IconMagnify"},{item:{title:"Readme",href:At.docs},icon:"IconExplore"},{item:{title:"Support",href:At.support,target:"_blank"},icon:"IconHeart"}],r=X(!1),a=X(!1);return(o,i)=>{const l=np,c=Vm,u=gm,f=_m;return E(),ee(Ae,null,[m(l,{class:"hidden-xs",user:z(n),nav:s,onCreate:i[0]||(i[0]=d=>r.value=!0),onExport:i[1]||(i[1]=d=>a.value=!0)},null,8,["user"]),m(c,{class:"hidden-sm-and-up",user:z(n),onCreate:i[2]||(i[2]=d=>r.value=!0),onExport:i[3]||(i[3]=d=>a.value=!0)},null,8,["user"]),m(u,{modelValue:z(r),"onUpdate:modelValue":i[4]||(i[4]=d=>ot(r)?r.value=d:null),onClose:i[5]||(i[5]=d=>r.value=!1)},null,8,["modelValue"]),m(f,{modelValue:z(a),"onUpdate:modelValue":i[6]||(i[6]=d=>ot(a)?a.value=d:null)},null,8,["modelValue"])],64)}}}),rp=J(sp,[["__scopeId","data-v-b3e72c89"]]),ap=He({...lt(),...$a()},"VLayout"),op=Ke()({name:"VLayout",props:ap(),setup(e,t){let{slots:n}=t;const{layoutClasses:s,layoutStyles:r,getLayoutItem:a,items:o,layoutRef:i}=Fa(e);return Ze(()=>{var l;return m("div",{ref:i,class:[s.value,e.class],style:[r.value,e.style]},[(l=n.default)==null?void 0:l.call(n)])}),{getLayoutItem:a,items:o}}}),ip=He({scrollable:Boolean,...lt(),...nn({tag:"main"})},"VMain"),lp=Ke()({name:"VMain",props:ip(),setup(e,t){let{slots:n}=t;const{mainStyles:s}=Ha(),{ssrBootStyles:r}=Kn();return Ze(()=>m(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[s.value,r.value,e.style]},{default:()=>{var a,o;return[e.scrollable?m("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}}),cp={};function up(e,t){const n=rp,s=Io;return E(),C(op,null,{default:I(()=>[m(n),m(lp,null,{default:I(()=>[_t(e.$slots,"default"),m(s,{class:"mt-1"})]),_:3})]),_:3})}const dp=J(cp,[["render",up]]),pp=F({__name:"PageUser",setup(e){const t=Ya(),n=qa(),s=Fn(),r=n.params.platform,o=(r?r.toString():t.platform.default)+"/"+n.params.username.toString(),i=$(()=>s.user);return s.loadUserPage(o),(l,c)=>{const u=im;return E(),C(dp,null,{default:I(()=>[z(i).ready?(E(),C(u,{key:0,user:z(i)},null,8,["user"])):Q("",!0)]),_:1})}}});export{pp as default};
