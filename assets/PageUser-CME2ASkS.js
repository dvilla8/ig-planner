import{L as ur,N as Ss,p as ne,O as Ce,h as ve,k as N,P as rt,o as A,c as ee,d as j,f as _,x as Z,Q as St,R as Bt,T as bs,U as ge,l as Ie,V as Ba,j as Rs,W as Ue,X as Ze,Y as sn,D as Re,n as Jt,i as Vt,Z as an,_ as Wl,$ as En,a0 as Ql,m as tn,r as Q,a1 as Je,a2 as Zl,a3 as Kl,a4 as Se,a5 as Jl,a6 as on,a7 as Va,a8 as cr,A as Mn,a9 as Tt,aa as Jn,ab as Cs,u as Os,b as $,w as V,e as ae,ac as eu,ad as tu,ae as nu,t as ft,y as Ds,s as K,af as ru,S as kt,v as J,E as er,z as ln,ag as $a,ah as Fa,ai as Ri,aj as su,ak as Ua,al as iu,am as au,an as ou,ao as Wr,ap as Ya,aq as yn,F as qe,ar as lu,as as Ci,I as dr,J as uu,K as cu,at as du,au as za,av as Ha,aw as fu,ax as vu,ay as pu,az as mu,aA as gu,aB as hu,aC as _u,aD as Eu,aE as yu,aF as Iu,aG as Tu,aH as Su,aI as bu,aJ as Ru}from"./index-Mdjq9faP.js";import{l as at,n as An,o as Ln,p as un,q as $t,r as Ps,s as fr,t as Nn,v as cn,w as Ft,x as qa,y as ja,z as On,A as vr,B as pr,C as xt,D as ws,E as Xa,R as Ms,F as Wa,G as As,H as Qa,I as Za,i as He,J as Mt,b as et,a as Pe,V as In,_ as oe,c as Ka,d as Cu,K as Ja,L as Ou,M as Du,N as Pu,O as wu,g as Mu,P as Ls,Q as Oi,j as eo,h as Ns,m as Au,S as Lu,u as to,e as Di,f as Nu,T as ku,U as no,W as xu,k as Gu}from"./VContainer-v-bwuWuX.js";const ro=ur.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),so=ur.reduce((e,t)=>{const n="offset"+Ss(t);return e[n]={type:[String,Number],default:null},e},{}),io=ur.reduce((e,t)=>{const n="order"+Ss(t);return e[n]={type:[String,Number],default:null},e},{}),Pi={col:Object.keys(ro),offset:Object.keys(so),order:Object.keys(io)};function Bu(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const s=t.replace(e,"");r+=`-${s}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const Vu=["auto","start","end","center","baseline","stretch"],$u=ne({cols:{type:[Boolean,String,Number],default:!1},...ro,offset:{type:[String,Number],default:null},...so,order:{type:[String,Number],default:null},...io,alignSelf:{type:String,default:null,validator:e=>Vu.includes(e)},...Ce(),...at()},"VCol"),Dn=ve()({name:"VCol",props:$u(),setup(e,t){let{slots:n}=t;const r=N(()=>{const s=[];let i;for(i in Pi)Pi[i].forEach(o=>{const l=e[o],u=Bu(i,o,l);u&&s.push(u)});const a=s.some(o=>o.startsWith("v-col-"));return s.push({"v-col":!a||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return rt(e.tag,{class:[r.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),ks=["start","end","center"],ao=["space-between","space-around","space-evenly"];function xs(e,t){return ur.reduce((n,r)=>{const s=e+Ss(r);return n[s]=t(),n},{})}const Fu=[...ks,"baseline","stretch"],oo=e=>Fu.includes(e),lo=xs("align",()=>({type:String,default:null,validator:oo})),Uu=[...ks,...ao],uo=e=>Uu.includes(e),co=xs("justify",()=>({type:String,default:null,validator:uo})),Yu=[...ks,...ao,"stretch"],fo=e=>Yu.includes(e),vo=xs("alignContent",()=>({type:String,default:null,validator:fo})),wi={align:Object.keys(lo),justify:Object.keys(co),alignContent:Object.keys(vo)},zu={align:"align",justify:"justify",alignContent:"align-content"};function Hu(e,t,n){let r=zu[e];if(n!=null){if(t){const s=t.replace(e,"");r+=`-${s}`}return r+=`-${n}`,r.toLowerCase()}}const qu=ne({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:oo},...lo,justify:{type:String,default:null,validator:uo},...co,alignContent:{type:String,default:null,validator:fo},...vo,...Ce(),...at()},"VRow"),Gs=ve()({name:"VRow",props:qu(),setup(e,t){let{slots:n}=t;const r=N(()=>{const s=[];let i;for(i in wi)wi[i].forEach(a=>{const o=e[a],l=Hu(i,a,o);l&&s.push(l)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return rt(e.tag,{class:["v-row",r.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}});function ju(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(r){return r.split(" ").map(function(s){return s?""+e+s:""}).join(" ")}).join(" ")}function Xu(e,t){return t.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function yt(e,t){return function(n){n&&(e[t]=n)}}function Wu(e,t,n){return function(r){r&&(e[t][n]=r)}}function Mi(e,t){return function(n){var r=n.prototype;e.forEach(function(s){t(r,s)})}}var Qu="function",Zu="object",Ku="string",Ju="number",po="undefined",ec=typeof document!==po&&document,tc=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],wr=1e-7,Fn={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function nc(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)r[s]=i[a];return r}function mo(e){return typeof e===po}function it(e){return e&&typeof e===Zu}function go(e){return Array.isArray(e)}function Gt(e){return typeof e===Ku}function rc(e){return typeof e===Ju}function ho(e){return typeof e===Qu}function sc(e,t){var n=e===""||e==" ",r=t===""||t==" ";return r&&n||e===t}function _o(e,t,n,r,s){var i=Bs(e,t,n);return i?n:ic(e,t,n+1,r,s)}function Bs(e,t,n){if(!e.ignore)return null;var r=t.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(r)}function ic(e,t,n,r,s){for(var i=function(u){var c=t[u].trim();if(c===e.close&&!Bs(e,t,u))return{value:u};var f=u,d=tr(s,function(p){var v=p.open;return v===c});if(d&&(f=_o(d,t,u,r,s)),f===-1)return a=u,"break";u=f,a=u},a,o=n;o<r;++o){var l=i(o);if(o=a,typeof l=="object")return l.value;if(l==="break")break}return-1}function Vs(e,t){var n=Gt(t)?{separator:t}:t,r=n.separator,s=r===void 0?",":r,i=n.isSeparateFirst,a=n.isSeparateOnlyOpenClose,o=n.isSeparateOpenClose,l=o===void 0?a:o,u=n.openCloseCharacters,c=u===void 0?tc:u,f=c.map(function(C){var T=C.open,R=C.close;return T===R?T:T+"|"+R}).join("|"),d="(\\s*"+s+"\\s*|"+f+"|\\s+)",p=new RegExp(d,"g"),v=e.split(p).filter(function(C){return C&&C!=="undefined"}),m=v.length,E=[],g=[];function h(){return g.length?(E.push(g.join("")),g=[],!0):!1}for(var y=function(C){var T=v[C].trim(),R=C,k=tr(c,function(F){var P=F.open;return P===T}),M=tr(c,function(F){var P=F.close;return P===T});if(k){if(R=_o(k,v,C,m,c),R!==-1&&l)return h()&&i||(E.push(v.slice(C,R+1).join("")),C=R,i)?(S=C,"break"):(S=C,"continue")}else if(M&&!Bs(M,v,C)){var O=nc(c);return O.splice(c.indexOf(M),1),{value:Vs(e,{separator:s,isSeparateFirst:i,isSeparateOnlyOpenClose:a,isSeparateOpenClose:l,openCloseCharacters:O})}}else if(sc(T,s)&&!a)return h(),i?(S=C,"break"):(S=C,"continue");R===-1&&(R=m-1),g.push(v.slice(C,R+1).join("")),C=R,S=C},S,I=0;I<m;++I){var b=y(I);if(I=S,typeof b=="object")return b.value;if(b==="break")break}return g.length&&E.push(g.join("")),E}function ac(e){return Vs(e,"")}function _n(e){return Vs(e,",")}function oc(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function Eo(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2],s=t[3];return{prefix:n,unit:s,value:parseFloat(r)}}function lc(e){return e.replace(/[\s-_]+([^\s-_])/g,function(t,n){return n.toUpperCase()})}function Mr(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(n,r,s){return""+r+t+s.toLowerCase()})}function Qr(){return Date.now?Date.now():new Date().getTime()}function mr(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=0;s<r;++s)if(t(e[s],s,e))return s;return n}function uc(e,t,n){n===void 0&&(n=-1);for(var r=e.length,s=r-1;s>=0;--s)if(t(e[s],s,e))return s;return n}function cc(e,t,n){var r=uc(e,t);return r>-1?e[r]:n}function tr(e,t,n){var r=mr(e,t);return r>-1?e[r]:n}function Zr(e){return Object.keys(e)}function dc(e){var t=Zr(e);return t.map(function(n){return e[n]})}function Tn(e,t){var n=Eo(e),r=n.value,s=n.unit;if(it(t)){var i=t[s];if(i){if(ho(i))return i(r);if(Fn[s])return Fn[s](r,i)}}else if(s==="%")return r*t/100;return Fn[s]?Fn[s](r):r}function Ar(e,t){if(!t)return e;var n=1/t;return Math.round(e/t)/n}function fc(e){return e.reduce(function(t,n){return t.concat(n)},[])}function vc(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function pc(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function mc(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function Oe(e,t,n,r){e.addEventListener(t,n,r)}function ye(e,t,n,r){e.removeEventListener(t,n,r)}function $s(e){return(e==null?void 0:e.ownerDocument)||ec}function Lr(e){var t;return((t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function gc(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function Fs(e){return it(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}var hc=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(n){return this.values[this.keys.indexOf(n)]},t.set=function(n,r){var s=this.keys,i=this.values,a=s.indexOf(n),o=a===-1?s.length:a;s[o]=n,i[o]=r},e}(),_c=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(n){return this.object[n]},t.set=function(n,r){this.object[n]=r},e}(),Ec=typeof Map=="function",yc=function(){function e(){}var t=e.prototype;return t.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},t.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},t.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},e}();function Ic(e,t){var n=[],r=[];return e.forEach(function(s){var i=s[0],a=s[1],o=new yc;n[i]=o,r[a]=o}),n.forEach(function(s,i){s.connect(n[i-1])}),e.filter(function(s,i){return!t[i]}).map(function(s,i){var a=s[0],o=s[1];if(a===o)return[0,0];var l=n[a],u=r[o-1],c=l.getIndex();l.disconnect(),u?l.connect(u,u.next):l.connect(void 0,n[0]);var f=l.getIndex();return[c,f]})}var Tc=function(){function e(n,r,s,i,a,o,l,u){this.prevList=n,this.list=r,this.added=s,this.removed=i,this.changed=a,this.maintained=o,this.changedBeforeAdded=l,this.fixed=u}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var n=Ic(this.changedBeforeAdded,this.fixed),r=this.changed,s=[];this.cacheOrdered=n.filter(function(i,a){var o=i[0],l=i[1],u=r[a],c=u[0],f=u[1];if(o!==l)return s.push([c,f]),!0}),this.cachePureChanged=s},e}();function yo(e,t,n){var r=Ec?Map:n?_c:hc,s=n||function(h){return h},i=[],a=[],o=[],l=e.map(s),u=t.map(s),c=new r,f=new r,d=[],p=[],v={},m=[],E=0,g=0;return l.forEach(function(h,y){c.set(h,y)}),u.forEach(function(h,y){f.set(h,y)}),l.forEach(function(h,y){var S=f.get(h);typeof S>"u"?(++g,a.push(y)):v[S]=g}),u.forEach(function(h,y){var S=c.get(h);typeof S>"u"?(i.push(y),++E):(o.push([S,y]),g=v[y]||0,d.push([S-g,y-E]),p.push(y===S),S!==y&&m.push([S,y]))}),a.reverse(),new Tc(e,t,i,a,m,o,d,p)}var Kr=function(e,t){return Kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Kr(e,t)};function kn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Kr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var st=function(){return st=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},st.apply(this,arguments)};function Io(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Ai(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Li(e){var t=0;return e.map(function(n){return n==null?"$compat".concat(++t):"".concat(n)})}function To(e){var t=[];return e.forEach(function(n){t=t.concat(go(n)?To(n):n)}),t}function Nr(e,t){if(!t)return e;for(var n in t)mo(e[n])&&(e[n]=t[n]);return e}function nr(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function Ni(e){var t=e.className,n=Io(e,["className"]);return t!=null&&(n.class=t),delete n.style,delete n.children,n}function ki(e){var t={},n={};for(var r in e)r.indexOf("on")===0?n[r]=e[r]:t[r]=e[r];return[t,n]}function gr(e){if(!e)return null;var t=e.b;return Fs(t)?t:gr(e.c)}function So(e){var t=e.parentNode;t&&t.removeChild(e)}function bo(e){e.forEach(function(t){t()})}function Sc(){return this.constructor(this.props,this.context)}var Us=0,hr=function(){function e(n,r,s,i,a,o,l){l===void 0&&(l={}),this.t=n,this.d=r,this.k=s,this.i=i,this.c=a,this.ref=o,this.ps=l,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=e.prototype;return t.s=function(){return!0},t.u=function(n,r,s,i,a){var o=this,l=o.d,u=dc(r).filter(function(v){return v.$_req}),c=To(u.map(function(v){return v.$_subs})),f=tr(c,function(v){return v.d===l});if(o.b&&!Gt(s)&&!a&&!o.s(s.props,i)&&!f){var d=c.reduce(function(v,m){var E=m.d;return v[0]?v[0].d===E&&v.push(m):E>l&&v.push(m),v},[]);return d.forEach(function(v){xn(v,v._ps,[v.o],n,r,!0)}),!1}o.o=s,o.ss(i);var p=o.ps;return Gt(s)||(o.ps=s.props,o.ref=s.ref),Ys(this),o.r(n,r,o.b?p:{},i),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var n=this,r=n.ref,s=n.fr;r&&r(s?s.current:n.b)},e}();function Ro(){return Object.__CROACT_CURRENT_INSTNACE__}function bc(){return Us}function Rc(e){Us=e}function Ys(e){return Object.__CROACT_CURRENT_INSTNACE__=e,Us=0,e}var zs=function(){function e(n,r){n===void 0&&(n={}),this.props=n,this.context=r,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=e.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(n,r){return this.props!==n||this.state!==r},t.setState=function(n,r,s){var i=this;i.$_timer||(i.$_state={}),clearTimeout(i.$_timer),i.$_timer=0,i.$_state=st(st({},i.$_state),n),s?i.$_setState(r,s):i.$_timer=window.setTimeout(function(){i.$_timer=0,i.$_setState(r,s)})},t.forceUpdate=function(n){this.setState({},n,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(n,r){},t.componentWillUnmount=function(){},t.$_setState=function(n,r){var s=[],i=this.$_p,a=xn(i.c,[i],[i.o],s,i._cs,st(st({},this.state),this.$_state),r);a&&(n&&s.push(n),bo(s),Ys(null))},e}(),Co=function(e){kn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,s){return nr(this.props,r)||nr(this.state,s)},t}(zs);function Hs(e){var t=function(n){t.current=n};return t.current=e,t}function Cc(e){return e._fr=!0,e}function Oc(e,t,n,r){var s,i;return!((s=e==null?void 0:e.prototype)===null||s===void 0)&&s.render?i=new e(t,n):(i=new zs(t,n),i.constructor=e,e._fr?(r.fr=Hs(),i.render=function(){return this.constructor(this.props,r.fr)}):i.render=Sc),i.$_p=r,i}var Dc=function(e){kn(t,e);function t(r,s,i,a,o,l,u){u===void 0&&(u={});var c=e.call(this,r,s,i,a,o,l,Nr(u,r.defaultProps))||this;return c.typ="comp",c._usefs=[],c._uefs=[],c._defs=[],c}var n=t.prototype;return n.s=function(r,s){var i=this.b;return i.shouldComponentUpdate(Nr(r,this.t.defaultProps),s||i.state)!==!1},n.r=function(r,s,i){var a,o,l=this,u=l.t;l.ps=Nr(l.ps,l.t.defaultProps);var c=l.ps,f=!l.b,d=u.contextType,p=l.b,v=d==null?void 0:d.get(l);l._cs=s,f?(p=Oc(u,c,v,l),l.b=p):(p.props=c,p.context=v);var m=p.state;l._usefs=[],l._uefs=[];var E=p.render();((o=(a=E==null?void 0:E.props)===null||a===void 0?void 0:a.children)===null||o===void 0?void 0:o.length)===0&&(E.props.children=l.ps.children);var g=st(st({},s),p.$_cs);xn(l,l._ps,E?[E]:[],r,g),f?l._uefs.push(function(){d==null||d.register(l),p.componentDidMount()}):l._uefs.push(function(){p.componentDidUpdate(i,m)}),r.push(function(){l._usefs.forEach(function(h){h()}),f?l.md():l.ud(),l._defs=l._uefs.map(function(h){return h()})})},n.ss=function(r){var s=this.b;!s||!r||(s.state=r)},n.un=function(){var r,s=this;s._ps.forEach(function(a){a.un()});var i=s.t;(r=i.contextType)===null||r===void 0||r.unregister(s),clearTimeout(s.b.$_timer),s._defs.forEach(function(a){a&&a()}),s.b.componentWillUnmount()},t}(hr);function Pc(e,t,n){var r=qs(Ni(e),Ni(t)),s=r.added,i=r.removed,a=r.changed;for(var o in s)n.setAttribute(o,s[o]);for(var l in a)n.setAttribute(l,a[l][1]);for(var u in i)n.removeAttribute(u)}function wc(e,t,n){var r=qs(e,t),s=r.added,i=r.removed;for(var a in i)n.e(a,!0);for(var o in s)n.e(o)}function qs(e,t){var n=Zr(e),r=Zr(t),s=yo(n,r,function(l){return l}),i={},a={},o={};return s.added.forEach(function(l){var u=r[l];i[u]=t[u]}),s.removed.forEach(function(l){var u=n[l];a[u]=e[u]}),s.maintained.forEach(function(l){var u=l[0],c=n[u],f=[e[c],t[c]];e[c]!==t[c]&&(o[c]=f)}),{added:i,removed:a,changed:o}}function Mc(e,t,n){var r=n.style,s=qs(e,t),i=s.added,a=s.removed,o=s.changed;for(var l in i){var u=Mr(l,"-");r.setProperty(u,i[l])}for(var l in o){var c=Mr(l,"-");r.setProperty(c,o[l][1])}for(var l in a){var f=Mr(l,"-");r.removeProperty(f)}}function Ac(e){return e.replace(/^on/g,"").toLowerCase()}var Lc=function(e){kn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="elem",r._es={},r._svg=!1,r}var n=t.prototype;return n.e=function(r,s){var i=this,a=i._es,o=i.b,l=Ac(r);s?(ye(o,l,a[r]),delete a[r]):(a[r]=function(u){var c,f;(f=(c=i.ps)[r])===null||f===void 0||f.call(c,u)},Oe(o,l,a[r]))},n.s=function(r){return nr(this.ps,r)},n.r=function(r,s,i){var a,o=this,l=!o.b,u=o.ps;if(l){var c=gr(o.c),f=!1;o._svg||o.t==="svg"?f=!0:f=c&&c.ownerSVGElement,o._svg=f;var d=(a=o._hyd)===null||a===void 0?void 0:a.splice(0,1)[0],p=o.t;if(d)o._hyd=[].slice.call(d.children||[]);else{var v=$s(c);f?d=v.createElementNS("http://www.w3.org/2000/svg",p):d=v.createElement(p)}o.b=d}xn(o,o._ps,u.children,r,s);var m=o.b,E=ki(i),g=E[0],h=E[1],y=ki(u),S=y[0],I=y[1];return Pc(g,S,m),wc(h,I,o),Mc(i.style||{},u.style||{},m),r.push(function(){l?o.md():o.ud()}),!0},n.un=function(){var r=this,s=r._es,i=r.b;for(var a in s)ye(i,a,s[a]);r._ps.forEach(function(o){o.un()}),r._es={},r._sel||So(i)},t}(hr);function Pn(e){if(!e||Fs(e))return e;var t=e.$_p._ps;return t.length?Pn(t[0].b):null}function Oo(e){if(e){if(e.b&&Fs(e.b))return e;var t=e._ps;return t.length?Oo(t[0]):null}}function Ye(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=t||{},i=s.key,a=s.ref,o=Io(s,["key","ref"]);return{type:e,key:i,ref:a,props:st(st({},o),{children:fc(n).filter(function(l){return l!=null&&l!==!1})})}}var Do=function(e){kn(t,e);function t(r,s){s===void 0&&(s=0);var i=e.call(this,"container",s,"container",0,null)||this;return i.typ="container",i.b=r,i}var n=t.prototype;return n.r=function(){return!0},n.un=function(){},t}(hr),Nc=function(e){kn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.typ="text",r}var n=t.prototype;return n.r=function(r){var s,i=this,a=!i.b;if(a){var o=gr(i.c),l=(s=i._hyd)===null||s===void 0?void 0:s.splice(0,1)[0];i.b=l||$s(o).createTextNode(i.t.replace("text_",""))}return r.push(function(){a?i.md():i.ud()}),!0},n.un=function(){So(this.b)},t}(hr);function kc(e,t,n){var r=n.map(function(l){return Gt(l)?null:l.key}),s=Li(t.map(function(l){return l.k})),i=Li(r),a=yo(s,i,function(l){return l});a.removed.forEach(function(l){t.splice(l,1)[0].un()}),a.ordered.forEach(function(l){var u=l[0],c=l[1],f=t.splice(u,1)[0];t.splice(c,0,f);var d=Pn(f.b),p=Pn(t[c+1]&&t[c+1].b);d&&d.parentNode.insertBefore(d,p)}),a.added.forEach(function(l){t.splice(l,0,xi(n[l],r[l],l,e))});var o=a.maintained.filter(function(l){l[0];var u=l[1],c=n[u],f=t[u],d=Gt(c)?"text_".concat(c):c.type;return d!==f.t?(f.un(),t.splice(u,1,xi(c,r[u],u,e)),!0):(f.i=u,!1)});return Ai(Ai([],a.added,!0),o.map(function(l){l[0];var u=l[1];return u}),!0)}function xc(e,t){for(var n=e._ps,r=n.length,s=t.i+1;s<r;++s){var i=Pn(n[s].b);if(i)return i}return null}function xi(e,t,n,r){var s=r.d+1;if(Gt(e)||rc(e))return new Nc("text_".concat(e),s,t,n,r,null,{});var i=e.type,a=typeof i=="string"?Lc:Dc;return new a(i,s,t,n,r,e.ref,e.props)}function xn(e,t,n,r,s,i,a){var o=kc(e,t,n),l=e._hyd,u=t.filter(function(f,d){return f._hyd=l,f.u(r,s,n[d],i,a)});e.typ==="container"&&e._sel&&t.forEach(function(f){var d=Oo(f);d&&(d._sel=!0)}),e._hyd=null;var c=gr(e);return c&&o.reverse().forEach(function(f){var d=t[f],p=Pn(d.b);if(p&&c!==p&&!p.parentNode){var v=xc(e,d);c.insertBefore(p,v)}}),u.length>0}function Gc(e,t,n,r){n===void 0&&(n=t.__CROACT__),r===void 0&&(r={});var s=!!n;n||(n=new Do(t));var i=[];return xn(n,n._ps,e?[e]:[],i,r,void 0,void 0),bo(i),Ys(null),s||(t.__CROACT__=n),n}function Gi(e,t,n){return!n&&e&&(n=new Do(t.parentElement),n._hyd=[t],n._sel=!0),Gc(e,t,n),n}function Po(e){var t=Ro(),n=t._hs||(t._hs=[]),r=bc(),s=n[r];if(Rc(r+1),s){if(!nr(s.deps,e.deps))return s.updated=!1,s;n[r]=e}else n.push(e);return e.value=e.func(),e.updated=!0,e}function Bc(e,t){var n=Po({func:e,deps:t});return n.value}function Vc(e){return Bc(function(){return Hs(e)},[])}function wo(e,t,n){var r=Ro(),s=Po({func:function(){return e},deps:t}),i=n?r._usefs:r._uefs;s.updated?i.push(function(){return s.effect&&s.effect(),s.effect=e(),s.effect}):i.push(function(){return s.effect})}function $c(e,t,n){wo(function(){e==null||e(t())},n,!0)}var Jr=function(e,t){return Jr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Jr(e,t)};function Fc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Jr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Uc=function(e){Fc(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={scrollPos:0},r.width=0,r.height=0,r._zoom=0,r._rulerScale=0,r._observer=null,r._checkResize=function(){r.resize()},r}var n=t.prototype;return n.render=function(){var r=this.props;return this._zoom=r.zoom,Ye("canvas",{ref:yt(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var r=this.props;this.state.scrollPos=r.defaultScrollPos||0;var s=this.canvasElement,i=s.getContext("2d",{alpha:!0});this.canvasContext=i,r.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(s,{box:"border-box"})):this.resize()},n.componentDidUpdate=function(){this.resize()},n.componentWillUnmount=function(){var r;this.state.scrollPos=0,(r=this._observer)===null||r===void 0||r.disconnect()},n.getScrollPos=function(){return this.state.scrollPos},n.scroll=function(r,s){this.draw({scrollPos:r,zoom:s})},n.resize=function(r){var s=this.canvasElement,i=this.props,a=i.width,o=i.height,l=i.scrollPos,u=this._getRulerScale();this.width=a||s.offsetWidth,this.height=o||s.offsetHeight,s.width=this.width*u,s.height=this.height*u,this.draw({scrollPos:l,zoom:r})},n.draw=function(r){r===void 0&&(r={});var s=this.props,i=r.zoom,a=i===void 0?this._zoom:i,o=r.scrollPos,l=o===void 0?this.state.scrollPos:o,u=r.marks,c=u===void 0?s.marks:u,f=r.selectedRanges,d=f===void 0?s.selectedRanges:f,p=r.segment,v=p===void 0?s.segment||10:p,m=r.unit,E=m===void 0?s.unit:m;this._zoom=a;var g=s,h=g.type,y=g.backgroundColor,S=g.lineColor,I=g.textColor,b=g.textBackgroundColor,C=g.direction,T=g.negativeRuler,R=T===void 0?!0:T,k=g.textFormat,M=g.range,O=M===void 0?[-1/0,1/0]:M,F=g.rangeBackgroundColor,P=g.selectedBackgroundColor,Y=g.lineWidth,D=Y===void 0?1:Y,L=g.selectedRangesText,G=g.selectedRangesTextColor,B=G===void 0?"#44aaff":G,z=g.selectedRangesTextOffset,W=z===void 0?[0,0]:z,ie=g.markColor,Ee=ie===void 0?"#ff5":ie,te=this._getRulerScale(),Le=this.width,x=this.height,X=this.state;X.scrollPos=l;var U=this.canvasContext,re=h==="horizontal",le=R!==!1,Be=s.font||"10px sans-serif",ot=s.textAlign||"left",Ht=s.textOffset||[0,0],H=re?x:Le,se=Tn("".concat(s.mainLineSize||"100%"),H),ce=Tn("".concat(s.longLineSize||10),H),je=Tn("".concat(s.shortLineSize||7),H),pe=s.lineOffset||[0,0];switch(y==="transparent"?U.clearRect(0,0,Le*te,x*te):(U.rect(0,0,Le*te,x*te),U.fillStyle=y,U.fill()),U.save(),U.scale(te,te),U.strokeStyle=S,U.lineWidth=D,U.font=Be,U.fillStyle=I,U.textAlign=ot,C){case"start":U.textBaseline="top";break;case"center":U.textBaseline="middle";break;case"end":U.textBaseline="bottom";break}U.translate(.5,0),U.beginPath();for(var mt=re?Le:x,gt=a*E,bt=Math.floor(l*a/gt),Rt=Math.ceil((l*a+mt)/gt),gi=Rt-bt,hi=Math.max(["left","center","right"].indexOf(ot)-1,-1),ht=re?x:Le,fn=[],Ct=0;Ct<=gi;++Ct){var qt=(Ct+bt)*E,Or="".concat(qt);k&&(Or=k(qt));var Yl=U.measureText(Or).width;fn.push({color:I,offset:Ht,backgroundColor:b,value:qt,text:Or,textSize:Yl})}if(P!=="transparent"&&(d!=null&&d.length)&&d.forEach(function(Ne){var Ve=Math.max(Ne[0],O[0],R?-1/0:0),Xe=Math.min(Ne[1],O[1]),lt=(Ve-l)*a,ut=(Xe-Ve)*a;L&&Ne.forEach(function(tt){var nt="".concat(tt);k&&(nt=k(tt));var ct=U.measureText(nt).width,_t=tt*a,$n=_t+ct;cc(fn,function(Xt,pn){var Ot=Xt.value,jl=Xt.textSize,bi=Ot*a,Xl=bi+jl;bi<=$n&&_t<=Xl&&fn.splice(pn,1)}),fn.push({value:tt,color:B,offset:W,text:nt,textSize:ct})}),!(ut<=0)&&(U.save(),U.fillStyle=P,re?U.fillRect(lt,0,ut,ht):U.fillRect(0,lt,ht,ut),U.restore())}),F!=="transparent"&&O[0]!==-1/0&&O[1]!==1/0){var _i=(O[0]-l)*a,Ei=(O[1]-O[0])*a;U.save(),U.fillStyle=F,re?U.fillRect(_i,0,Ei,ht):U.fillRect(0,_i,ht,Ei),U.restore()}for(var Ct=0;Ct<=gi;++Ct){var qt=Ct+bt;if(!(!le&&qt<0))for(var yi=qt*E,zl=(yi-l)*a,jt=0;jt<v;++jt){var Bn=zl+jt/v*gt,Ii=yi+jt/v*E;if(!(Bn<0||Bn>=mt||Ii<O[0]||Ii>O[1])){var Vn=jt===0?se:jt%2===0?ce:je,vn=0;switch(C){case"start":vn=0;break;case"center":vn=ht/2-Vn/2;break;case"end":vn=ht-Vn;break}var Ti=re?[Bn+pe[0],vn+pe[1]]:[vn+pe[0],Bn+pe[1]],Dr=Ti[0],Pr=Ti[1],Si=re?[Dr,Pr+Vn]:[Dr+Vn,Pr],Hl=Si[0],ql=Si[1];U.moveTo(Dr+pe[0],Pr+pe[1]),U.lineTo(Hl+pe[0],ql+pe[1])}}}U.stroke(),U.beginPath(),U.strokeStyle=Ee,U.lineWidth=1,(c||[]).forEach(function(Ne){var Ve=(-l+Ne)*a;if(!(Ve<0||Ve>=mt||Ne<O[0]||Ne>O[1])){var Xe=re?[Ve+pe[0],pe[1]]:[pe[0],Ve+pe[1]],lt=Xe[0],ut=Xe[1],tt=re?[lt,ut+H]:[lt+H,ut],nt=tt[0],ct=tt[1];U.moveTo(lt+pe[0],ut+pe[1]),U.lineTo(nt+pe[0],ct+pe[1])}}),U.stroke(),fn.forEach(function(Ne){var Ve=Ne.value,Xe=Ne.offset,lt=Ne.backgroundColor,ut=Ne.color,tt=Ne.text,nt=Ne.textSize;if(!(!le&&Ve<0)){var ct=(Ve-l)*a;if(!(ct<-gt||ct>=mt+E*a||Ve<O[0]||Ve>O[1])){var _t=0;switch(C){case"start":_t=17;break;case"center":_t=ht/2;break;case"end":_t=ht-17;break}var $n=re?[ct+hi*-3,_t]:[_t,ct+hi*3],Xt=$n[0],pn=$n[1];if(lt){var Ot=0;switch(ot){case"left":Ot=0;break;case"center":Ot=-nt/2;break;case"right":Ot=-nt;break}U.save(),U.fillStyle=lt,re?U.fillRect(Xt+Xe[0]+Ot,0,nt,se):(U.translate(0,pn+Xe[1]),U.rotate(-Math.PI/2),U.fillRect(Ot,0,nt,se)),U.restore()}U.save(),U.fillStyle=ut,re?U.fillText(tt,Xt+Xe[0],pn+Xe[1]):(U.translate(Xt+Xe[0],pn+Xe[1]),U.rotate(-Math.PI/2),U.fillText(tt,0,0)),U.restore()}}}),U.restore()},n._getRulerScale=function(){var r=this.props.defaultPixelScale||2;if(!this._rulerScale){var s=window.devicePixelRatio>1;if(!s&&window.matchMedia){var i=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");s=i&&i.matches}this._rulerScale=s?3:r}return this._rulerScale},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555",defaultScrollPos:0,markColor:"#f55",marks:[]},t}(Co),Mo=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","defaultScrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","warpSelf","selectedBackgroundColor","selectedRanges","defaultPixelScale","useResizeObserver","selectedRangesText","selectedRangesTextColor","selectedRangesTextOffset","marks","markColor"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var es=function(){return es=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},es.apply(this,arguments)};function Yc(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)r[s]=i[a];return r}var zc=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(it(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(it(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var i=this._events[n];if(i){var a=mr(i,function(o){return o.listener===r});a>-1&&i.splice(a,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(i){s._addEvent(n,i,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var i=this._events[n];if(!n||!i)return!0;var a=!1;return r.eventType=n,r.stop=function(){a=!0},r.currentTarget=this,Yc(i).forEach(function(o){o.listener(r),o.once&&s.off(n,o.listener)}),!a},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var i=this._events;i[n]=i[n]||[];var a=i[n];a.push(es({listener:r},s))},e}();const Hc=zc;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ts=function(e,t){return ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},ts(e,t)};function qc(e,t){ts(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var me=function(){return me=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},me.apply(this,arguments)};function jc(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=Math.atan2(r,n);return s>=0?s:s+Math.PI*2}function kr(e){return jc([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function Xc(e){return e.touches&&e.touches.length>=2}function Un(e){return e?e.touches?Qc(e.touches):[Ao(e)]:[]}function Wc(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function Bi(e,t,n){var r=n.length,s=Sn(e,r),i=s.clientX,a=s.clientY,o=s.originalClientX,l=s.originalClientY,u=Sn(t,r),c=u.clientX,f=u.clientY,d=Sn(n,r),p=d.clientX,v=d.clientY,m=i-c,E=a-f,g=i-p,h=a-v;return{clientX:o,clientY:l,deltaX:m,deltaY:E,distX:g,distY:h}}function xr(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function Qc(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(Ao(e[r]));return n}function Ao(e){return{clientX:e.clientX,clientY:e.clientY}}function Sn(e,t){t===void 0&&(t=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(e.length,t),s=0;s<r;++s){var i=e[s];n.originalClientX+="originalClientX"in i?i.originalClientX:i.clientX,n.originalClientY+="originalClientY"in i?i.originalClientY:i.clientY,n.clientX+=i.clientX,n.clientY+=i.clientY}return t?{clientX:n.clientX/t,clientY:n.clientY/t,originalClientX:n.originalClientX/t,originalClientY:n.originalClientY/t}:n}var Gr=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),kr(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),kr(t)-kr(this.startClients)},e.prototype.getPosition=function(t,n){t===void 0&&(t=this.prevClients);var r=Bi(t||this.prevClients,this.prevClients,this.startClients),s=r.deltaX,i=r.deltaY;return this.movement+=Math.sqrt(s*s+i*i),this.prevClients=t,r},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var n=this.prevClients,r=this.startClients,s=Math.min(this.length,n.length),i=[],a=0;a<s;++a)i[a]=Bi([t[a]],[n[a]],[r[a]]);return i},e.prototype.getMovement=function(t){var n=this.movement;if(!t)return n;var r=Sn(t,this.length),s=Sn(this.prevClients,this.length),i=r.clientX-s.clientX,a=r.clientY-s.clientY;return Math.sqrt(i*i+a*a)+n},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),xr(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),xr(t)/xr(this.startClients)},e.prototype.move=function(t,n){this.startClients.forEach(function(r){r.clientX-=t,r.clientY-=n}),this.prevClients.forEach(function(r){r.clientX-=t,r.clientY-=n})},e}(),Vi=["textarea","input"],Zc=function(e){qc(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this)||this;s.options={},s.flag=!1,s.pinchFlag=!1,s.data={},s.isDrag=!1,s.isPinch=!1,s.clientStores=[],s.targets=[],s.prevTime=0,s.doubleFlag=!1,s._useMouse=!1,s._useTouch=!1,s._useDrag=!1,s._dragFlag=!1,s._isTrusted=!1,s._isMouseEvent=!1,s._isSecondaryButton=!1,s._preventMouseEvent=!1,s._prevInputEvent=null,s._isDragAPI=!1,s._isIdle=!0,s._window=window,s.onDragStart=function(d,p){if(p===void 0&&(p=!0),!(!s.flag&&d.cancelable===!1)){var v=d.type.indexOf("drag")>=-1;if(!(s.flag&&v)){s._isDragAPI=!0;var m=s.options,E=m.container,g=m.pinchOutside,h=m.preventWheelClick,y=m.preventRightClick,S=m.preventDefault,I=m.checkInput,b=m.dragFocusedInput,C=m.preventClickEventOnDragStart,T=m.preventClickEventOnDrag,R=m.preventClickEventByCondition,k=s._useTouch,M=!s.flag;if(s._isSecondaryButton=d.which===3||d.button===2,h&&(d.which===2||d.button===1)||y&&(d.which===3||d.button===2))return s.stop(),!1;if(M){var O=s._window.document.activeElement,F=d.target;if(F){var P=F.tagName.toLowerCase(),Y=Vi.indexOf(P)>-1,D=F.isContentEditable;if(Y||D){if(I||!b&&O===F)return!1;if(O&&(O===F||D&&O.isContentEditable&&O.contains(F)))if(b)F.blur();else return!1}else if((S||d.type==="touchstart")&&O){var L=O.tagName.toLowerCase();(O.isContentEditable||Vi.indexOf(L)>-1)&&O.blur()}(C||T||R)&&Oe(s._window,"click",s._onClick,!0)}s.clientStores=[new Gr(Un(d))],s._isIdle=!1,s.flag=!0,s.isDrag=!1,s._isTrusted=p,s._dragFlag=!0,s._prevInputEvent=d,s.data={},s.doubleFlag=Qr()-s.prevTime<200,s._isMouseEvent=Wc(d),!s._isMouseEvent&&s._preventMouseEvent&&(s._preventMouseEvent=!1);var G=s._preventMouseEvent||s.emit("dragStart",me(me({data:s.data,datas:s.data,inputEvent:d,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,isTrusted:p,isDouble:s.doubleFlag},s.getCurrentStore().getPosition()),{preventDefault:function(){d.preventDefault()},preventDrag:function(){s._dragFlag=!1}}));G===!1&&s.stop(),s._isMouseEvent&&s.flag&&S&&d.preventDefault()}if(!s.flag)return!1;var B=0;if(M?(s._attchDragEvent(),k&&g&&(B=setTimeout(function(){Oe(E,"touchstart",s.onDragStart,{passive:!1})}))):k&&g&&ye(E,"touchstart",s.onDragStart),s.flag&&Xc(d)){if(clearTimeout(B),M&&d.touches.length!==d.changedTouches.length)return;s.pinchFlag||s.onPinchStart(d)}}}},s.onDrag=function(d,p){if(s.flag){var v=s.options.preventDefault;!s._isMouseEvent&&v&&d.preventDefault(),s._prevInputEvent=d;var m=Un(d),E=s.moveClients(m,d,!1);if(s._dragFlag){if(s.pinchFlag||E.deltaX||E.deltaY){var g=s._preventMouseEvent||s.emit("drag",me(me({},E),{isScroll:!!p,inputEvent:d}));if(g===!1){s.stop();return}}s.pinchFlag&&s.onPinch(d,m)}s.getCurrentStore().getPosition(m,!0)}},s.onDragEnd=function(d){if(s.flag){var p=s.options,v=p.pinchOutside,m=p.container,E=p.preventClickEventOnDrag,g=p.preventClickEventOnDragStart,h=p.preventClickEventByCondition,y=s.isDrag;(E||g||h)&&requestAnimationFrame(function(){s._allowClickEvent()}),!h&&!g&&E&&!y&&s._allowClickEvent(),s._useTouch&&v&&ye(m,"touchstart",s.onDragStart),s.pinchFlag&&s.onPinchEnd(d);var S=d!=null&&d.touches?Un(d):[],I=S.length;I===0||!s.options.keepDragging?s.flag=!1:s._addStore(new Gr(S));var b=s._getPosition(),C=Qr(),T=!y&&s.doubleFlag;s._prevInputEvent=null,s.prevTime=y||T?0:C,s.flag||(s._dettachDragEvent(),s._preventMouseEvent||s.emit("dragEnd",me({data:s.data,datas:s.data,isDouble:T,isDrag:y,isClick:!y,isMouseEvent:s._isMouseEvent,isSecondaryButton:s._isSecondaryButton,inputEvent:d,isTrusted:s._isTrusted},b)),s.clientStores=[],s._isMouseEvent||(s._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){s._preventMouseEvent=!1})})),s._isIdle=!0)}},s.onBlur=function(){s.onDragEnd()},s._allowClickEvent=function(){ye(s._window,"click",s._onClick,!0)},s._onClick=function(d){s._allowClickEvent(),s._preventMouseEvent=!1;var p=s.options.preventClickEventByCondition;p!=null&&p(d)||(d.stopPropagation(),d.preventDefault())},s._onContextMenu=function(d){var p=s.options;p.preventRightClick?s.onDragEnd(d):d.preventDefault()},s._passCallback=function(){};var i=[].concat(n),a=i[0];s._window=gc(a)?a:Lr(a),s.options=me({checkInput:!1,container:a&&!("document"in a)?Lr(a):a,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},r);var o=s.options,l=o.container,u=o.events,c=o.checkWindowBlur;if(s._useDrag=u.indexOf("drag")>-1,s._useTouch=u.indexOf("touch")>-1,s._useMouse=u.indexOf("mouse")>-1,s.targets=i,s._useDrag&&i.forEach(function(d){Oe(d,"dragstart",s.onDragStart)}),s._useMouse&&(i.forEach(function(d){Oe(d,"mousedown",s.onDragStart),Oe(d,"mousemove",s._passCallback)}),Oe(l,"contextmenu",s._onContextMenu)),c&&Oe(Lr(),"blur",s.onBlur),s._useTouch){var f={passive:!1};i.forEach(function(d){Oe(d,"touchstart",s.onDragStart,f),Oe(d,"touchmove",s._passCallback,f)})}return s}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(r,s){return r+s.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(n,r,s,i){i===void 0&&(i=!0),this.flag&&(this.clientStores[0].move(n,r),i&&this.onDrag(s,!0))},t.prototype.move=function(n,r){var s=n[0],i=n[1],a=this.getCurrentStore(),o=a.prevClients;return this.moveClients(o.map(function(l){var u=l.clientX,c=l.clientY;return{clientX:u+s,clientY:c+i,originalClientX:u,originalClientY:c}}),r,!0)},t.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},t.prototype.setEventData=function(n){var r=this.data;for(var s in n)r[s]=n[s];return this},t.prototype.setEventDatas=function(n){return this.setEventData(n)},t.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),me(me({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var n=this,r=this.targets,s=this.options.container;this.off(),ye(this._window,"blur",this.onBlur),this._useDrag&&r.forEach(function(i){ye(i,"dragstart",n.onDragStart)}),this._useMouse&&(r.forEach(function(i){ye(i,"mousedown",n.onDragStart)}),ye(s,"contextmenu",this._onContextMenu)),this._useTouch&&(r.forEach(function(i){ye(i,"touchstart",n.onDragStart)}),ye(s,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(n){var r=this,s=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>s)){var i=new Gr(Un(n));this.pinchFlag=!0,this._addStore(i);var a=this.emit("pinchStart",me(me({data:this.data,datas:this.data,angle:i.getAngle(),touches:this.getCurrentStore().getPositions()},i.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));a===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(n,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var s=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",me(me({data:this.data,datas:this.data,movement:this.getMovement(r),angle:s.getAngle(r),rotation:s.getRotation(r),touches:s.getPositions(r),scale:s.getScale(r),distance:s.getDistance(r)},s.getPosition(r)),{inputEvent:n,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(n){if(this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var s=this.getCurrentStore();this.emit("pinchEnd",me(me({data:this.data,datas:this.data,isPinch:r,touches:s.getPositions()},s.getPosition()),{inputEvent:n}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(n,r,s){var i=this._getPosition(n,s),a=this.isDrag;(i.deltaX||i.deltaY)&&(this.isDrag=!0);var o=!1;return!a&&this.isDrag&&(o=!0),me(me({data:this.data,datas:this.data},i),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:r,isTrusted:this._isTrusted,isFirstDrag:o})},t.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},t.prototype._getPosition=function(n,r){var s=this.getCurrentStore(),i=s.getPosition(n,r),a=this.clientStores.slice(1).reduce(function(u,c){var f=c.getPosition();return u.distX+=f.distX,u.distY+=f.distY,u},i),o=a.distX,l=a.distY;return me(me({},i),{distX:o,distY:l})},t.prototype._attchDragEvent=function(){var n=this._window,r=this.options.container,s={passive:!1};this._isDragAPI&&(Oe(r,"dragover",this.onDrag,s),Oe(n,"dragend",this.onDragEnd)),this._useMouse&&(Oe(r,"mousemove",this.onDrag),Oe(n,"mouseup",this.onDragEnd)),this._useTouch&&(Oe(r,"touchmove",this.onDrag,s),Oe(n,"touchend",this.onDragEnd,s),Oe(n,"touchcancel",this.onDragEnd,s))},t.prototype._dettachDragEvent=function(){var n=this._window,r=this.options.container;this._isDragAPI&&(ye(r,"dragover",this.onDrag),ye(n,"dragend",this.onDragEnd)),this._useMouse&&(ye(r,"mousemove",this.onDrag),ye(n,"mouseup",this.onDragEnd)),this._useTouch&&(ye(r,"touchstart",this.onDragStart),ye(r,"touchmove",this.onDrag),ye(n,"touchend",this.onDragEnd),ye(n,"touchcancel",this.onDragEnd))},t}(Hc);function Kc(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var Jc=Kc;function ed(e){return Jc(e).toString(36)}function td(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function nd(e,t,n){return n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,s){var i=s.trim();return(i?_n(i):[""]).map(function(a){var o=a.trim();return o.indexOf("@")===0?o:o.indexOf(":global")>-1?o.replace(/\:global/g,""):o.indexOf(":host")>-1?"".concat(o.replace(/\:host/g,".".concat(e))):o?".".concat(e," ").concat(o):".".concat(e)}).join(", ")+" {"})}function rd(e,t,n,r,s){var i=$s(r),a=i.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",e),a.setAttribute("data-styled-count","1"),n.nonce&&a.setAttribute("nonce",n.nonce),a.innerHTML=nd(e,t,n),(s||i.head||i.body).appendChild(a),a}function sd(e){var t="rCS"+ed(e);return{className:t,inject:function(n,r){r===void 0&&(r={});var s=td(n),i=(s||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!i)i=rd(t,e,r,n,s);else{var a=parseFloat(i.getAttribute("data-styled-count"))||0;i.setAttribute("data-styled-count","".concat(a+1))}return{destroy:function(){var o,l=parseFloat(i.getAttribute("data-styled-count"))||0;l<=1?(i.remove?i.remove():(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=null):i.setAttribute("data-styled-count","".concat(l-1))}}}}}var ns=function(){return ns=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ns.apply(this,arguments)};function id(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function ad(e,t){var n=sd(t),r=n.className;return Cc(function(s,i){var a=s.className,o=a===void 0?"":a;s.cspNonce;var l=id(s,["className","cspNonce"]),u=Vc();return $c(i,function(){return u.current},[]),wo(function(){var c=n.inject(u.current,{nonce:s.cspNonce});return function(){c.destroy()}},[]),Ye(e,ns({ref:u,"data-styled-id":r,className:"".concat(o," ").concat(r)},l))})}function od(e,t,n,r,s,i){for(var a=0;a<s;++a){var o=n+a*s,l=r+a*s;e[o]+=e[l]*i,t[o]+=t[l]*i}}function ld(e,t,n,r,s){for(var i=0;i<s;++i){var a=n+i*s,o=r+i*s,l=e[a],u=t[a];e[a]=e[o],e[o]=l,t[a]=t[o],t[o]=u}}function ud(e,t,n,r,s){for(var i=0;i<r;++i){var a=n+i*r;e[a]/=s,t[a]/=s}}function cd(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=Lo(t),s=0;s<t;++s){var i=t*s+s;if(!Ar(n[i],wr)){for(var a=s+1;a<t;++a)if(n[t*s+a]){ld(n,r,s,a,t);break}}if(!Ar(n[i],wr))return[];ud(n,r,s,t,n[i]);for(var a=0;a<t;++a){var o=a,l=a+s*t,u=n[l];!Ar(u,wr)||s===a||od(n,r,o,s,t,-u)}}return r}function Ut(e,t,n){n===void 0&&(n=Math.sqrt(e.length));var r=[],s=e.length/n,i=t.length/s;if(s){if(!i)return e}else return t;for(var a=0;a<n;++a)for(var o=0;o<i;++o){r[o*n+a]=0;for(var l=0;l<s;++l)r[o*n+a]+=e[l*n+a]*t[o*s+l]}return r}function dd(e,t,n){n===void 0&&(n=t.length);var r=Ut(e,t,n),s=r[n-1];return r.map(function(i){return i/s})}function fd(e,t){return Ut(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function vd(e,t){return Ut(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function pd(e,t){return Ut(e,md(t,4))}function Yn(e,t){var n=t[0],r=n===void 0?1:n,s=t[1],i=s===void 0?1:s,a=t[2],o=a===void 0?1:a;return Ut(e,[r,0,0,0,0,i,0,0,0,0,o,0,0,0,0,1],4)}function Br(e,t){var n=t[0],r=n===void 0?0:n,s=t[1],i=s===void 0?0:s,a=t[2],o=a===void 0?0:a;return Ut(e,[1,0,0,0,0,1,0,0,0,0,1,0,r,i,o,1],4)}function rs(e,t){return Ut(e,t,4)}function md(e,t){var n=Math.cos(e),r=Math.sin(e),s=Lo(t);return s[0]=n,s[1]=r,s[t]=-r,s[t+1]=n,s}function Lo(e){for(var t=e*e,n=[],r=0;r<t;++r)n[r]=r%(e+1)?0:1;return n}var bn=function(){return bn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bn.apply(this,arguments)};function No(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function gd(e,t){return t===void 0&&(t=0),_d(Ed(e,t))}function $i(e,t){var n=dd(e,[t[0],t[1]||0,t[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function hd(e,t){t===void 0&&(t=document.body);for(var n=e,r=No();n;){var s=getComputedStyle(n).transform;if(r=rs(gd(s),r),n===t)break;n=n.parentElement}return r=cd(r,4),r[12]=0,r[13]=0,r[14]=0,r}function _d(e){var t=No();return e.forEach(function(n){var r=n.matrixFunction,s=n.functionValue;r&&(t=r(t,s))}),t}function Ed(e,t){t===void 0&&(t=0);var n=go(e)?e:ac(e);return n.map(function(r){var s=oc(r),i=s.prefix,a=s.value,o=null,l=i,u="";if(i==="translate"||i==="translateX"||i==="translate3d"){var c=it(t)?bn(bn({},t),{"o%":t["%"]}):{"%":t,"o%":t},f=_n(a).map(function(F,P){return P===0&&"x%"in c?c["%"]=t["x%"]:P===1&&"y%"in c?c["%"]=t["y%"]:c["%"]=t["o%"],Tn(F,c)}),d=f[0],p=f[1],v=p===void 0?0:p,m=f[2],E=m===void 0?0:m;o=Br,u=[d,v,E]}else if(i==="translateY"){var g=it(t)?bn({"%":t["y%"]},t):{"%":t},v=Tn(a,g);o=Br,u=[0,v,0]}else if(i==="translateZ"){var E=parseFloat(a);o=Br,u=[0,0,E]}else if(i==="scale"||i==="scale3d"){var h=_n(a).map(function(F){return parseFloat(F)}),y=h[0],S=h[1],I=S===void 0?y:S,b=h[2],C=b===void 0?1:b;o=Yn,u=[y,I,C]}else if(i==="scaleX"){var y=parseFloat(a);o=Yn,u=[y,1,1]}else if(i==="scaleY"){var I=parseFloat(a);o=Yn,u=[1,I,1]}else if(i==="scaleZ"){var C=parseFloat(a);o=Yn,u=[1,1,C]}else if(i==="rotate"||i==="rotateZ"||i==="rotateX"||i==="rotateY"){var T=Eo(a),R=T.unit,k=T.value,M=R==="rad"?k:k*Math.PI/180;i==="rotate"||i==="rotateZ"?(l="rotateZ",o=pd):i==="rotateX"?o=fd:i==="rotateY"&&(o=vd),u=M}else if(i==="matrix3d")o=rs,u=_n(a).map(function(F){return parseFloat(F)});else if(i==="matrix"){var O=_n(a).map(function(F){return parseFloat(F)});o=rs,u=[O[0],O[1],0,0,O[2],O[3],0,0,0,0,1,0,O[4],O[5],0,1]}else l="";return{name:i,functionName:l,value:a,matrixFunction:o,functionValue:u}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ss=function(){return ss=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ss.apply(this,arguments)};function yd(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)r[s]=i[a];return r}var Id=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(it(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(it(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var i=this._events[n];if(i){var a=mr(i,function(o){return o.listener===r});a>-1&&i.splice(a,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(i){s._addEvent(n,i,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var i=this._events[n];if(!n||!i)return!0;var a=!1;return r.eventType=n,r.stop=function(){a=!0},r.currentTarget=this,yd(i).forEach(function(o){o.listener(r),o.once&&s.off(n,o.listener)}),!a},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var i=this._events;i[n]=i[n]||[];var a=i[n];a.push(ss({listener:r},s))},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var is=function(e,t){return is=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},is(e,t)};function Td(e,t){is(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Qt=function(){return Qt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qt.apply(this,arguments)};function Sd(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function Vr(e){if(e){if(Gt(e))return document.querySelector(e)}else return null;if(ho(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var bd=function(e){Td(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r}var n=t.prototype;return n.dragStart=function(r,s){var i=Vr(s.container);if(!i){this._flag=!1;return}var a=0,o=0,l=0,u=0;if(i===document.body)l=window.innerWidth,u=window.innerHeight;else{var c=i.getBoundingClientRect();a=c.top,o=c.left,l=c.width,u=c.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:a,left:o,width:l,height:u},this._prevScrollPos=this._getScrollPosition([0,0],s)},n.drag=function(r,s){if(clearTimeout(this._timer),!!this._flag){var i=r.clientX,a=r.clientY,o=s.threshold,l=o===void 0?0:o,u=this,c=u._startRect,f=u._startPos,d=[0,0];return c.top>a-l?(f[1]>c.top||a<f[1])&&(d[1]=-1):c.top+c.height<a+l&&(f[1]<c.top+c.height||a>f[1])&&(d[1]=1),c.left>i-l?(f[0]>c.left||i<f[0])&&(d[0]=-1):c.left+c.width<i+l&&(f[0]<c.left+c.width||i>f[0])&&(d[0]=1),!d[0]&&!d[1]?!1:this._continueDrag(Qt(Qt({},s),{direction:d,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var s=this;if(this._isWait)return!1;var i=r.prevScrollPos,a=i===void 0?this._prevScrollPos:i,o=r.direction,l=r.throttleTime,u=l===void 0?0:l,c=r.inputEvent,f=r.isDrag,d=this._getScrollPosition(o||[0,0],r),p=d[0]-a[0],v=d[1]-a[1],m=o||[p?Math.abs(p)/p:0,v?Math.abs(v)/v:0];return this._prevScrollPos=d,!p&&!v?!1:(this.trigger("move",{offsetX:m[0]?p:0,offsetY:m[1]?v:0,inputEvent:c}),u&&f&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},u)),!0)},n.dragEnd=function(){this._flag=!1,clearTimeout(this._timer)},n._getScrollPosition=function(r,s){var i=s.container,a=s.getScrollPosition,o=a===void 0?Sd:a;return o({container:Vr(i),direction:r})},n._continueDrag=function(r){var s=this,i,a,o=r.container,l=r.direction,u=r.throttleTime,c=r.useScroll,f=r.isDrag,d=r.inputEvent;if(!(!this._flag||f&&this._isWait)){var p=Qr(),v=Math.max(u+this._prevTime-p,0);if(v>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){s._continueDrag(r)},v),!1;this._prevTime=p;var m=this._getScrollPosition(l,r);this._prevScrollPos=m,f&&(this._isWait=!0);var E={container:Vr(o),direction:l,inputEvent:d};return(a=(i=r).requestScroll)===null||a===void 0||a.call(i,E),this.trigger("scroll",E),this._isWait=!1,c||this.checkScroll(Qt(Qt({},r),{prevScrollPos:m,direction:l,inputEvent:d}))}},t}(Id),as=function(e,t){return as=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},as(e,t)};function Rd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");as(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var xe=function(){return xe=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xe.apply(this,arguments)};function Rn(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function dt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ju.apply(void 0,Rn(["scena-guides-"],e,!1))}var Cd=dt("guide","adder"),Od=dt("guides"),Dd=dt("guide"),Fi=dt("dragging"),Pd=dt("display-drag"),wd=Xu("scena-guides-",`
{
    position: relative;
    width: 100%;
    height: 100%;
}
canvas {
    position: relative;
}
.guide-origin {
    position: absolute;
    width: 1px;
    height: 1px;
    top: 0;
    left: 0;
    opacity: 0;
}
.guides {
    position: absolute;
    bottom: 0;
    right: 0;
    will-change: transform;
    z-index: 2000;
}
.guide-pos {
    position: absolute;
    font-weight: bold;
    font-size: 12px;
    color: #f33;
}
.horizontal .guide-pos {
    bottom: 100%;
    left: 50%;
    transform: translate(-50%);
}
.vertical .guide-pos {
    left: calc(100% + 2px);
    top: 50%;
    transform: translateY(-50%);
}
.display-drag {
    position: absolute;
    will-change: transform;
    z-index: 2000;
    font-weight: bold;
    font-size: 12px;
    display: none;
    left: 20px;
    top: -20px;
    color: #f33;
}
:host.horizontal .guides {
    width: 100%;
    height: 0;
}
:host.vertical .guides {
    height: 100%;
    width: 0;
}
:host.horizontal canvas {
    cursor: ns-resize;
}
:host.vertical canvas {
    cursor: ew-resize;
}
.guide {
    position: absolute;
    background: #f33;
    z-index: 2;
}
.guide.dragging:before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
:host.horizontal .guide {
    width: 100%;
    height: 1px;
    cursor: row-resize;
}
:host.vertical .guide {
    width: 1px;
    height: 100%;
    cursor: col-resize;
}
.mobile :host.horizontal .guide {
    transform: scale(1, 2);
}
.mobile :host.vertical .guide {
    transform: scale(2, 1);
}
:host.horizontal .guide:before {
    height: 20px;
}
:host.vertical .guide:before {
    width: 20px;
}
.adder {
    display: none;
}
.adder.dragging {
    display: block;
}
`),Md=Rn(["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides","scrollOptions","guideStyle","guidesOffset","digit","defaultGuidesPos","dragGuideStyle","displayGuidePos","guidePosFormat","guidePosStyle","lockGuides","guidesZoom"],Mo,!0),Ad=["getGuides","loadGuides","scroll","scrollGuides","resize","getElement","getRulerElement","forceUpdate","getRulerScrollPos","getGuideScrollPos","zoomTo","drawRuler"],Ld=["changeGuides","requestScroll","dragStart","drag","dragEnd","clickRuler"],Nd=ad("div",wd),kd=function(e){Rd(t,e);function t(r){var s=e.call(this,r)||this;return s.state={guides:[]},s.scrollPos=0,s.managerRef=Hs(),s.guideElements=[],s._isFirstMove=!1,s._zoom=1,s._guidesZoom=1,s._observer=null,s.onDragStart=function(i){var a=i.datas,o=i.inputEvent;s._isFirstMove=!0,s.movePos(i),s.props.onDragStart(xe(xe({},i),{dragElement:a.target})),s.gesto.isFlag()&&(o.stopPropagation(),o.preventDefault(),s._startDragScroll(i))},s._onDrag=function(i){s._isFirstMove&&(s._isFirstMove=!1,pc(i.datas.target,Fi));var a=s.movePos(i);if(s.props.onDrag(xe(xe({},i),{dragElement:i.datas.target})),!s.gesto.isFlag()){s._endDragScroll(i);return}return s._dragScroll(i),a},s.onDragEnd=function(i){var a=i.datas,o=i.isDouble,l=i.distX,u=i.distY,c=s.movePos(i),f=s.state.guides,d=s.props,p=d.onChangeGuides,v=d.displayDragPos,m=d.digit,E=d.lockGuides,g=d.guidesOffset,h=s._guidesZoom,y=parseFloat((c/h).toFixed(m||0)),S=s.scrollPos-(g||0);if(v&&(s.displayElement.style.cssText+="display: none;"),mc(a.target,Fi),s.props.onDragEnd(xe(xe({},i),{dragElement:a.target})),s._endDragScroll(i),a.fromRuler)s._isFirstMove&&s.props.onClickRuler(xe(xe({},i),{pos:0})),y>=S&&f.indexOf(y)<0&&s.setState({guides:Rn(Rn([],f,!0),[y],!1)},function(){p({guides:s.state.guides,distX:l,distY:u,index:f.length,isAdd:!0,isRemove:!1,isChange:!1})});else{var I=parseFloat(a.target.getAttribute("data-index")),b=!1,C=!1;f=Rn([],f,!0);var T=f.indexOf(y);if(o||y<S||T>-1&&T!==I){if(E&&(E===!0||E.indexOf("remove")>-1))return;f.splice(I,1),b=!0}else{if(T>-1)return;if(E&&(E===!0||E.indexOf("change")>-1))return;f[I]=y,C=!0}s.setState({guides:f},function(){var R=s.state.guides;p({distX:l,distY:u,guides:R,isAdd:!1,index:I,isChange:C,isRemove:b})})}},s._onCheck=function(){s.resize()},s.state.guides=r.defaultGuides||[],s.scrollPos=r.defaultGuidesPos||0,s}var n=t.prototype;return n.render=function(){var r=this.props,s=r.className,i=r.type,a=r.zoom,o=r.guidesZoom,l=r.style,u=r.rulerStyle,c=r.displayDragPos,f=r.cspNonce,d=r.dragGuideStyle,p=r.guidePosStyle,v=p===void 0?{}:p,m=this.props,E=this.getTranslateName(),g={};return Mo.forEach(function(h){h==="style"||h==="warpSelf"||h==="useResizeObserver"||(g[h]=m[h])}),this._zoom=a,this._guidesZoom=o||a,Ye(Nd,{ref:this.managerRef,cspNonce:f,className:"".concat(dt("manager",i)," ").concat(s),style:l},Ye("div",{className:dt("guide-origin"),ref:yt(this,"originElement")}),Ye(Uc,xe({ref:yt(this,"ruler"),style:u},g)),Ye("div",{className:Od,ref:yt(this,"guidesElement"),style:{transform:"".concat(E,"(").concat(-this.scrollPos*this._guidesZoom,"px)")}},c&&Ye("div",{className:Pd,ref:yt(this,"displayElement"),style:v||{}}),Ye("div",{className:Cd,ref:yt(this,"adderElement"),style:d}),this.renderGuides()))},n.drawRuler=function(r){this.ruler.draw(r)},n.renderGuides=function(){var r=this,s=this.props,i=s,a=i.type,o=i.showGuides,l=i.guideStyle,u=i.displayGuidePos,c=i.guidePosStyle,f=c===void 0?{}:c,d=i.guidesOffset,p=this._guidesZoom,v=this.getTranslateName(),m=this.state.guides,E=s.guidePosFormat||s.dragPosFormat||function(g){return g};if(this.guideElements=[],o)return m.map(function(g,h){var y=g+(d||0);return Ye("div",{className:dt("guide",a),ref:Wu(r,"guideElements",h),key:h,"data-index":h,"data-pos":g,style:xe(xe({},l),{transform:"".concat(v,"(").concat(y*p,"px) translateZ(0px)")})},u&&Ye("div",{className:dt("guide-pos"),style:f||{}},E(g)))})},n.componentDidMount=function(){var r=this;this.gesto=new Zc(this.managerRef.current,{container:document.body}).on("dragStart",function(s){var i=r.props,a=i.type,o=i.lockGuides,l=r._guidesZoom;if(o===!0){s.stop();return}var u=s.inputEvent,c=u.target,f=s.datas,d=r.ruler.canvasElement,p=r.guidesElement,v=a==="horizontal",m=r.originElement.getBoundingClientRect(),E=hd(r.managerRef.current),g=$i(E,[s.clientX-m.left,s.clientY-m.top]);g[0]-=p.offsetLeft,g[1]-=p.offsetTop,g[v?1:0]+=r.scrollPos*l,f.offsetPos=g,f.matrix=E;var h=o&&o.indexOf("add")>-1,y=o&&o.indexOf("remove")>-1,S=o&&o.indexOf("change")>-1;if(c===d){if(h){s.stop();return}f.fromRuler=!0,f.target=r.adderElement}else if(vc(c,Dd)){if(y&&S){s.stop();return}f.target=c}else return s.stop(),!1;r.onDragStart(s)}).on("drag",this._onDrag).on("dragEnd",this.onDragEnd),this.props.useResizeObserver?(this._observer=new ResizeObserver(this._onCheck),this._observer.observe(this.guidesElement,{box:"border-box"}),this._observer.observe(this.getRulerElement(),{box:"border-box"})):this._onCheck()},n.componentWillUnmount=function(){var r;this.gesto.unset(),(r=this._observer)===null||r===void 0||r.disconnect()},n.componentDidUpdate=function(r){var s=this.props.defaultGuides;r.defaultGuides!==s&&this.setState({guides:s||[]})},n.loadGuides=function(r){this.setState({guides:r})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(r,s){s===void 0&&(s=this._guidesZoom),this._setZoom({guidesZoom:s});var i=this.getTranslateName(),a=this.guidesElement;this.scrollPos=r,a.style.transform="".concat(i,"(").concat(-r*s,"px)");var o=this.state.guides,l=this.props.guidesOffset||0;this.guideElements.forEach(function(u,c){if(u){var f=o[c]+(l||0);u.style.transform="".concat(i,"(").concat(f*s,"px) translateZ(0px)"),u.style.display=-r+f<0?"none":"block"}})},n.zoomTo=function(r,s){s===void 0&&(s=r),this.scroll(this.getRulerScrollPos(),r),this.scrollGuides(this.getGuideScrollPos(),s)},n.getElement=function(){return this.managerRef.current},n.getRulerElement=function(){return this.ruler.canvasElement},n.getGuideScrollPos=function(){return this.scrollPos},n.getRulerScrollPos=function(){return this.ruler.getScrollPos()},n.scroll=function(r,s){s===void 0&&(s=this._zoom),this._setZoom({zoom:s}),this.ruler.scroll(r,s)},n.resize=function(r){r===void 0&&(r=this._zoom),this._setZoom({zoom:r}),this.ruler.resize(r)},n.movePos=function(r){var s=r.datas,i=r.distX,a=r.distY,o=this.props,l=o.type,u=o.snaps,c=o.snapThreshold,f=o.displayDragPos,d=o.digit,p=o.guidesOffset||0,v=this._guidesZoom,m=o.dragPosFormat||function(M){return M},E=l==="horizontal",g=$i(s.matrix,[i,a]),h=s.offsetPos,y=g[0]+h[0],S=g[1]+h[1],I=p*v,b=Math.round(E?S:y)-p,C=parseFloat((b/v).toFixed(d||0)),T=u.slice().sort(function(M,O){return Math.abs(C-M)-Math.abs(C-O)});if(T.length&&Math.abs(T[0]*v-b)<c&&(C=T[0],b=C*v),!s.fromRuler||!this._isFirstMove){if(f){var R=l==="horizontal"?[y,b+I]:[b+I,S];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) "+"translate(".concat(R.map(function(M){return"".concat(M,"px")}).join(", "),")"),this.displayElement.innerHTML="".concat(m(C))}var k=s.target;k.setAttribute("data-pos",C),k.style.transform="".concat(this.getTranslateName(),"(").concat(b+p*v,"px)")}return b},n.getTranslateName=function(){return this.props.type==="horizontal"?"translateY":"translateX"},n._startDragScroll=function(r){var s=this,i=this.props.scrollOptions;if(i){var a=r.datas,o=new bd;a.dragScroll=o,o.on("scroll",function(l){var u,c,f=l.container,d=l.direction;(c=(u=s.props).onRequestScroll)===null||c===void 0||c.call(u,{container:f,direction:d})}).on("move",function(l){var u=l.offsetX,c=l.offsetY,f=l.inputEvent;s.gesto.scrollBy(u,c,f.inputEvent,!0)}),o.dragStart(r,{container:i.container})}},n._dragScroll=function(r){var s=this.props.scrollOptions;if(s){var i=r.datas.dragScroll;i.drag(r,s)}},n._endDragScroll=function(r){var s;(s=r.datas.dragScroll)===null||s===void 0||s.dragEnd(),r.datas.dragScroll=null},n._setZoom=function(r){var s=r.zoom,i=r.guidesZoom;this.props.zoom;var a=!!this.props.guidesZoom;a?i&&(this._guidesZoom=i):(i&&(this._zoom=i,this._guidesZoom=i),s&&(this._guidesZoom=s)),s&&(this._zoom=s)},t.defaultProps={className:"",type:"horizontal",zoom:1,guidesZoom:0,style:{},snapThreshold:5,snaps:[],digit:0,onClickRuler:function(){},onChangeGuides:function(){},onRequestScroll:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(r){return r},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},guidePosStyle:{},defaultGuidesPos:0},t}(Co),os=function(e,t){return os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},os(e,t)};function js(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");os(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var rr=function(){return rr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rr.apply(this,arguments)};function xd(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,n,i):a(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}var ko=Md,xo=Ad,Go=Ld,Gd=function(e){js(t,e);function t(r){var s=e.call(this,r)||this;return s.state={},s.state=s.props,s}var n=t.prototype;return n.render=function(){return Ye(kd,rr({ref:yt(this,"guides")},this.state))},t}(zs);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ls=function(){return ls=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ls.apply(this,arguments)};function Bd(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)r[s]=i[a];return r}var Vd=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(it(n))for(var s in n)this.on(s,n[s]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(it(n))for(var s in n)this.off(s);else if(!r)this._events[n]=[];else{var i=this._events[n];if(i){var a=mr(i,function(o){return o.listener===r});a>-1&&i.splice(a,1)}}return this},t.once=function(n,r){var s=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(i){s._addEvent(n,i,{once:!0})})},t.emit=function(n,r){var s=this;r===void 0&&(r={});var i=this._events[n];if(!n||!i)return!0;var a=!1;return r.eventType=n,r.stop=function(){a=!0},r.currentTarget=this,Bd(i).forEach(function(o){o.listener(r),o.once&&s.off(n,o.listener)}),!a},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,s){var i=this._events;i[n]=i[n]||[];var a=i[n];a.push(ls({listener:r},s))},e}(),$d=function(e){js(t,e);function t(r,s){s===void 0&&(s={});var i=e.call(this)||this;i.containerProvider=null,i.selfElement=null,i._warp=!1;var a={};Go.forEach(function(l){a[lc("on ".concat(l))]=function(u){return i.trigger(l,u)}});var o;return s.warpSelf?(delete s.warpSelf,i._warp=!0,o=r):(o=document.createElement("div"),r.appendChild(o)),i.containerProvider=Gi(Ye(Gd,rr({ref:yt(i,"innerGuides")},a,s)),o),i}var n=t.prototype;return n.setState=function(r,s){this.innerGuides.setState(r,s)},n.forceUpdate=function(r){this.innerGuides.forceUpdate(r)},n.destroy=function(){var r,s=this.selfElement;Gi(null,s,this.containerProvider),this._warp||(r=s==null?void 0:s.parentElement)===null||r===void 0||r.removeChild(s),this.selfElement=null,this.innerGuides=null},n.getInnerGuides=function(){return this.innerGuides.guides},t=xd([Mi(xo,function(r,s){r[s]||(r[s]=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=this.getInnerGuides();if(!(!o||!o[s]))return o[s].apply(o,i)})}),Mi(ko,function(r,s){Object.defineProperty(r,s,{get:function(){return this.getInnerGuides().props[s]},set:function(i){var a;this.innerGuides.setState((a={},a[s]=i,a))},enumerable:!0,configurable:!0})})],t),t}(Vd),Fd=function(e){js(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}($d);const Ud=Fd;var us=function(){return us=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},us.apply(this,arguments)};function cs(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var wn=cs([],ko,!0);wn.splice(wn.indexOf("style"),1);var Bo={},Xs={};wn.forEach(function(e){Xs[e]=function(t){this.$_guides[e]=t}});Xs.vueStyle=function(e){this.$_guides.style=e};xo.forEach(function(e){Bo[e]=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=this.$_guides)[e].apply(t,n)}});var Ws={name:"guides",methods:Bo,watch:Xs,props:cs(cs([],wn,!0),["vueStyle"],!1),mounted:function(){var e=this,t={},n=this.$props;wn.forEach(function(a){var o=n[a];mo(o)||(t[a]=n[a])});var r=this.$refs,s=r.container;t.style=n.vueStyle,t.warpSelf=!0,this.$_guides=new Ud(s,t);var i=this.$_guides;Go.forEach(function(a){i.on(a,function(o){e.$emit(a,us({},o))})})},beforeUnmount:function(){this.$_guides.destroy()}};const Yd={ref:"container"};function zd(e,t,n,r,s,i){return A(),ee("div",Yd,null,512)}Ws.render=zd;Ws.__file="src/Guides.vue";const Ui=Ws,Hd={class:"tool-guides"},qd=j({__name:"ToolGuides",setup(e){return document.body.classList.add("tool-guides--enabled"),(t,n)=>(A(),ee("div",Hd,[_(Z(Ui),{type:"horizontal"}),_(Z(Ui),{type:"vertical"})]))}});/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const jd=e=>e instanceof HTMLElement,Xd=(e,t=[],n=[])=>{const r={...e},s=[],i=[],a=()=>({...r}),o=()=>{const v=[...s];return s.length=0,v},l=()=>{const v=[...i];i.length=0,v.forEach(({type:m,data:E})=>{u(m,E)})},u=(v,m,E)=>{if(E&&!document.hidden){i.push({type:v,data:m});return}p[v]&&p[v](m),s.push({type:v,data:m})},c=(v,...m)=>d[v]?d[v](...m):null,f={getState:a,processActionQueue:o,processDispatchQueue:l,dispatch:u,query:c};let d={};t.forEach(v=>{d={...v(r),...d}});let p={};return n.forEach(v=>{p={...v(u,c,r),...p}}),f},Wd=(e,t,n)=>{if(typeof n=="function"){e[t]=n;return}Object.defineProperty(e,t,{...n})},ue=(e,t)=>{for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])},It=e=>{const t={};return ue(e,n=>{Wd(t,n,e[n])}),t},he=(e,t,n=null)=>{if(n===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},Qd="http://www.w3.org/2000/svg",Zd=["svg","path"],Yi=e=>Zd.includes(e),sr=(e,t,n={})=>{typeof t=="object"&&(n=t,t=null);const r=Yi(e)?document.createElementNS(Qd,e):document.createElement(e);return t&&(Yi(e)?he(r,"class",t):r.className=t),ue(n,(s,i)=>{he(r,s,i)}),r},Kd=e=>(t,n)=>{typeof n<"u"&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},Jd=(e,t)=>(n,r)=>(typeof r<"u"?t.splice(r,0,n):t.push(n),n),ef=(e,t)=>n=>(t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n),tf=typeof window<"u"&&typeof window.document<"u",Vo=()=>tf,nf=Vo()?sr("svg"):{},rf="children"in nf?e=>e.children.length:e=>e.childNodes.length,$o=(e,t,n,r)=>{const s=n[0]||e.left,i=n[1]||e.top,a=s+e.width,o=i+e.height*(r[1]||1),l={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:s,top:i,right:a,bottom:o}};return t.filter(u=>!u.isRectIgnored()).map(u=>u.rect).forEach(u=>{zi(l.inner,{...u.inner}),zi(l.outer,{...u.outer})}),Hi(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,Hi(l.outer),l},zi=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},Hi=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Dt=e=>typeof e=="number",sf=(e,t,n,r=.001)=>Math.abs(e-t)<r&&Math.abs(n)<r,af=({stiffness:e=.5,damping:t=.75,mass:n=10}={})=>{let r=null,s=null,i=0,a=!1;const u=It({interpolate:(c,f)=>{if(a)return;if(!(Dt(r)&&Dt(s))){a=!0,i=0;return}const d=-(s-r)*e;i+=d/n,s+=i,i*=t,sf(s,r,i)||f?(s=r,i=0,a=!0,u.onupdate(s),u.oncomplete(s)):u.onupdate(s)},target:{set:c=>{if(Dt(c)&&!Dt(s)&&(s=c),r===null&&(r=c,s=c),r=c,s===r||typeof r>"u"){a=!0,i=0,u.onupdate(s),u.oncomplete(s);return}a=!1},get:()=>r},resting:{get:()=>a},onupdate:c=>{},oncomplete:c=>{}});return u},of=e=>e<.5?2*e*e:-1+(4-2*e)*e,lf=({duration:e=500,easing:t=of,delay:n=0}={})=>{let r=null,s,i,a=!0,o=!1,l=null;const c=It({interpolate:(f,d)=>{a||l===null||(r===null&&(r=f),!(f-r<n)&&(s=f-r-n,s>=e||d?(s=1,i=o?0:1,c.onupdate(i*l),c.oncomplete(i*l),a=!0):(i=s/e,c.onupdate((s>=0?t(o?1-i:i):0)*l))))},target:{get:()=>o?0:l,set:f=>{if(l===null){l=f,c.onupdate(f),c.oncomplete(f);return}f<l?(l=1,o=!0):(o=!1,l=f),a=!1,r=null}},resting:{get:()=>a},onupdate:f=>{},oncomplete:f=>{}});return c},qi={spring:af,tween:lf},uf=(e,t,n)=>{const r=e[t]&&typeof e[t][n]=="object"?e[t][n]:e[t]||e,s=typeof r=="string"?r:r.type,i=typeof r=="object"?{...r}:{};return qi[s]?qi[s](i):null},Qs=(e,t,n,r=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(s=>{e.forEach(i=>{let a=i,o=()=>n[i],l=u=>n[i]=u;typeof i=="object"&&(a=i.key,o=i.getter||o,l=i.setter||l),!(s[a]&&!r)&&(s[a]={get:o,set:l})})})},cf=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r})=>{const s={...t},i=[];return ue(e,(a,o)=>{const l=uf(o);if(!l)return;l.onupdate=c=>{t[a]=c},l.target=s[a],Qs([{key:a,setter:c=>{l.target!==c&&(l.target=c)},getter:()=>t[a]}],[n,r],t,!0),i.push(l)}),{write:a=>{let o=document.hidden,l=!0;return i.forEach(u=>{u.resting||(l=!1),u.interpolate(a,o)}),l},destroy:()=>{}}},df=e=>(t,n)=>{e.addEventListener(t,n)},ff=e=>(t,n)=>{e.removeEventListener(t,n)},vf=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,viewState:s,view:i})=>{const a=[],o=df(i.element),l=ff(i.element);return r.on=(u,c)=>{a.push({type:u,fn:c}),o(u,c)},r.off=(u,c)=>{a.splice(a.findIndex(f=>f.type===u&&f.fn===c),1),l(u,c)},{write:()=>!0,destroy:()=>{a.forEach(u=>{l(u.type,u.fn)})}}},pf=({mixinConfig:e,viewProps:t,viewExternalAPI:n})=>{Qs(e,n,t)},we=e=>e!=null,mf={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},gf=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,view:s})=>{const i={...t},a={};Qs(e,[n,r],t);const o=()=>[t.translateX||0,t.translateY||0],l=()=>[t.scaleX||0,t.scaleY||0],u=()=>s.rect?$o(s.rect,s.childViews,o(),l()):null;return n.rect={get:u},r.rect={get:u},e.forEach(c=>{t[c]=typeof i[c]>"u"?mf[c]:i[c]}),{write:()=>{if(hf(a,t))return _f(s.element,t),Object.assign(a,{...t}),!0},destroy:()=>{}}},hf=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in t)if(t[n]!==e[n])return!0;return!1},_f=(e,{opacity:t,perspective:n,translateX:r,translateY:s,scaleX:i,scaleY:a,rotateX:o,rotateY:l,rotateZ:u,originX:c,originY:f,width:d,height:p})=>{let v="",m="";(we(c)||we(f))&&(m+=`transform-origin: ${c||0}px ${f||0}px;`),we(n)&&(v+=`perspective(${n}px) `),(we(r)||we(s))&&(v+=`translate3d(${r||0}px, ${s||0}px, 0) `),(we(i)||we(a))&&(v+=`scale3d(${we(i)?i:1}, ${we(a)?a:1}, 1) `),we(u)&&(v+=`rotateZ(${u}rad) `),we(o)&&(v+=`rotateX(${o}rad) `),we(l)&&(v+=`rotateY(${l}rad) `),v.length&&(m+=`transform:${v};`),we(t)&&(m+=`opacity:${t};`,t===0&&(m+="visibility:hidden;"),t<1&&(m+="pointer-events:none;")),we(p)&&(m+=`height:${p}px;`),we(d)&&(m+=`width:${d}px;`);const E=e.elementCurrentStyle||"";(m.length!==E.length||m!==E)&&(e.style.cssText=m,e.elementCurrentStyle=m)},Ef={styles:gf,listeners:vf,animations:cf,apis:pf},ji=(e={},t={},n={})=>(t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),_e=({tag:e="div",name:t=null,attributes:n={},read:r=()=>{},write:s=()=>{},create:i=()=>{},destroy:a=()=>{},filterFrameActionsForChild:o=(p,v)=>v,didCreateView:l=()=>{},didWriteView:u=()=>{},ignoreRect:c=!1,ignoreRectUpdate:f=!1,mixins:d=[]}={})=>(p,v={})=>{const m=sr(e,`filepond--${t}`,n),E=window.getComputedStyle(m,null),g=ji();let h=null,y=!1;const S=[],I=[],b={},C={},T=[s],R=[r],k=[a],M=()=>m,O=()=>S.concat(),F=()=>b,P=x=>(X,U)=>X(x,U),Y=()=>h||(h=$o(g,S,[0,0],[1,1]),h),D=()=>E,L=()=>{h=null,S.forEach(U=>U._read()),!(f&&g.width&&g.height)&&ji(g,m,E);const X={root:te,props:v,rect:g};R.forEach(U=>U(X))},G=(x,X,U)=>{let re=X.length===0;return T.forEach(le=>{le({props:v,root:te,actions:X,timestamp:x,shouldOptimize:U})===!1&&(re=!1)}),I.forEach(le=>{le.write(x)===!1&&(re=!1)}),S.filter(le=>!!le.element.parentNode).forEach(le=>{le._write(x,o(le,X),U)||(re=!1)}),S.forEach((le,Be)=>{le.element.parentNode||(te.appendChild(le.element,Be),le._read(),le._write(x,o(le,X),U),re=!1)}),y=re,u({props:v,root:te,actions:X,timestamp:x}),re},B=()=>{I.forEach(x=>x.destroy()),k.forEach(x=>{x({root:te,props:v})}),S.forEach(x=>x._destroy())},z={element:{get:M},style:{get:D},childViews:{get:O}},W={...z,rect:{get:Y},ref:{get:F},is:x=>t===x,appendChild:Kd(m),createChildView:P(p),linkView:x=>(S.push(x),x),unlinkView:x=>{S.splice(S.indexOf(x),1)},appendChildView:Jd(m,S),removeChildView:ef(m,S),registerWriter:x=>T.push(x),registerReader:x=>R.push(x),registerDestroyer:x=>k.push(x),invalidateLayout:()=>m.layoutCalculated=!1,dispatch:p.dispatch,query:p.query},ie={element:{get:M},childViews:{get:O},rect:{get:Y},resting:{get:()=>y},isRectIgnored:()=>c,_read:L,_write:G,_destroy:B},Ee={...z,rect:{get:()=>g}};Object.keys(d).sort((x,X)=>x==="styles"?1:X==="styles"?-1:0).forEach(x=>{const X=Ef[x]({mixinConfig:d[x],viewProps:v,viewState:C,viewInternalAPI:W,viewExternalAPI:ie,view:It(Ee)});X&&I.push(X)});const te=It(W);i({root:te,props:v});const Le=rf(m);return S.forEach((x,X)=>{te.appendChild(x.element,Le+X)}),l(te),It(ie)},yf=(e,t,n=60)=>{const r="__framePainter";if(window[r]){window[r].readers.push(e),window[r].writers.push(t);return}window[r]={readers:[e],writers:[t]};const s=window[r],i=1e3/n;let a=null,o=null,l=null,u=null;const c=()=>{document.hidden?(l=()=>window.setTimeout(()=>f(performance.now()),i),u=()=>window.clearTimeout(o)):(l=()=>window.requestAnimationFrame(f),u=()=>window.cancelAnimationFrame(o))};document.addEventListener("visibilitychange",()=>{u&&u(),c(),f(performance.now())});const f=d=>{o=l(f),a||(a=d);const p=d-a;p<=i||(a=d-p%i,s.readers.forEach(v=>v()),s.writers.forEach(v=>v(d)))};return c(),f(performance.now()),{pause:()=>{u(o)}}},Ae=(e,t)=>({root:n,props:r,actions:s=[],timestamp:i,shouldOptimize:a})=>{s.filter(o=>e[o.type]).forEach(o=>e[o.type]({root:n,props:r,action:o.data,timestamp:i,shouldOptimize:a})),t&&t({root:n,props:r,actions:s,timestamp:i,shouldOptimize:a})},Xi=(e,t)=>t.parentNode.insertBefore(e,t),Wi=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),_r=e=>Array.isArray(e),vt=e=>e==null,If=e=>e.trim(),Er=e=>""+e,Tf=(e,t=",")=>vt(e)?[]:_r(e)?e:Er(e).split(t).map(If).filter(n=>n.length),Fo=e=>typeof e=="boolean",Uo=e=>Fo(e)?e:e==="true",Me=e=>typeof e=="string",Yo=e=>Dt(e)?e:Me(e)?Er(e).replace(/[a-z]+/gi,""):0,Zn=e=>parseInt(Yo(e),10),Qi=e=>parseFloat(Yo(e)),dn=e=>Dt(e)&&isFinite(e)&&Math.floor(e)===e,Zi=(e,t=1e3)=>{if(dn(e))return e;let n=Er(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Zn(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Zn(n)*t):Zn(n)},Pt=e=>typeof e=="function",Sf=e=>{let t=self,n=e.split("."),r=null;for(;r=n.shift();)if(t=t[r],!t)return null;return t},Ki={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},bf=e=>{const t={};return t.url=Me(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},ue(Ki,n=>{t[n]=Rf(n,e[n],Ki[n],t.timeout,t.headers)}),t.process=e.process||Me(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},Rf=(e,t,n,r,s)=>{if(t===null)return null;if(typeof t=="function")return t;const i={url:n==="GET"||n==="PATCH"?`?${e}=`:"",method:n,headers:s,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(Me(t))return i.url=t,i;if(Object.assign(i,t),Me(i.headers)){const a=i.headers.split(/:(.+)/);i.headers={header:a[0],value:a[1]}}return i.withCredentials=Uo(i.withCredentials),i},Cf=e=>bf(e),Of=e=>e===null,be=e=>typeof e=="object"&&e!==null,Df=e=>be(e)&&Me(e.url)&&be(e.process)&&be(e.revert)&&be(e.restore)&&be(e.fetch),ds=e=>_r(e)?"array":Of(e)?"null":dn(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":Df(e)?"api":typeof e,Pf=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),wf={array:Tf,boolean:Uo,int:e=>ds(e)==="bytes"?Zi(e):Zn(e),number:Qi,float:Qi,bytes:Zi,string:e=>Pt(e)?e:Er(e),function:e=>Sf(e),serverapi:Cf,object:e=>{try{return JSON.parse(Pf(e))}catch{return null}}},Mf=(e,t)=>wf[t](e),zo=(e,t,n)=>{if(e===t)return e;let r=ds(e);if(r!==n){const s=Mf(e,n);if(r=ds(s),s===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;e=s}return e},Af=(e,t)=>{let n=e;return{enumerable:!0,get:()=>n,set:r=>{n=zo(r,e,t)}}},Lf=e=>{const t={};return ue(e,n=>{const r=e[n];t[n]=Af(r[0],r[1])}),It(t)},Nf=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Lf(e)}),yr=(e,t="-")=>e.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(t),kf=(e,t)=>{const n={};return ue(t,r=>{n[r]={get:()=>e.getState().options[r],set:s=>{e.dispatch(`SET_${yr(r,"_").toUpperCase()}`,{value:s})}}}),n},xf=e=>(t,n,r)=>{const s={};return ue(e,i=>{const a=yr(i,"_").toUpperCase();s[`SET_${a}`]=o=>{try{r.options[i]=o.value}catch{}t(`DID_SET_${a}`,{value:r.options[i]})}}),s},Gf=e=>t=>{const n={};return ue(e,r=>{n[`GET_${yr(r,"_").toUpperCase()}`]=s=>t.options[r]}),n},ze={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Zs=()=>Math.random().toString(36).substring(2,11),Ks=(e,t)=>e.splice(t,1),Bf=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},Ir=()=>{const e=[],t=(r,s)=>{Ks(e,e.findIndex(i=>i.event===r&&(i.cb===s||!s)))},n=(r,s,i)=>{e.filter(a=>a.event===r).map(a=>a.cb).forEach(a=>Bf(()=>a(...s),i))};return{fireSync:(r,...s)=>{n(r,s,!0)},fire:(r,...s)=>{n(r,s,!1)},on:(r,s)=>{e.push({event:r,cb:s})},onOnce:(r,s)=>{e.push({event:r,cb:(...i)=>{t(r,s),s(...i)}})},off:t}},Ho=(e,t,n)=>{Object.getOwnPropertyNames(e).filter(r=>!n.includes(r)).forEach(r=>Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r)))},Vf=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],ke=e=>{const t={};return Ho(e,t,Vf),t},$f=e=>{e.forEach((t,n)=>{t.released&&Ks(e,n)})},q={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Te={INPUT:1,LIMBO:2,LOCAL:3},qo=e=>/[^0-9]+/.exec(e),jo=()=>qo(1.1.toLocaleString())[0],Ff=()=>{const e=jo(),t=1e3.toLocaleString();return t!=="1000"?qo(t)[0]:e==="."?",":"."},w={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Js=[],We=(e,t,n)=>new Promise((r,s)=>{const i=Js.filter(o=>o.key===e).map(o=>o.cb);if(i.length===0){r(t);return}const a=i.shift();i.reduce((o,l)=>o.then(u=>l(u,n)),a(t,n)).then(o=>r(o)).catch(o=>s(o))}),Yt=(e,t,n)=>Js.filter(r=>r.key===e).map(r=>r.cb(t,n)),Uf=(e,t)=>Js.push({key:e,cb:t}),Yf=e=>Object.assign(Zt,e),ir=()=>({...Zt}),zf=e=>{ue(e,(t,n)=>{Zt[t]&&(Zt[t][0]=zo(n,Zt[t][0],Zt[t][1]))})},Zt={id:[null,w.STRING],name:["filepond",w.STRING],disabled:[!1,w.BOOLEAN],className:[null,w.STRING],required:[!1,w.BOOLEAN],captureMethod:[null,w.STRING],allowSyncAcceptAttribute:[!0,w.BOOLEAN],allowDrop:[!0,w.BOOLEAN],allowBrowse:[!0,w.BOOLEAN],allowPaste:[!0,w.BOOLEAN],allowMultiple:[!1,w.BOOLEAN],allowReplace:[!0,w.BOOLEAN],allowRevert:[!0,w.BOOLEAN],allowRemove:[!0,w.BOOLEAN],allowProcess:[!0,w.BOOLEAN],allowReorder:[!1,w.BOOLEAN],allowDirectoriesOnly:[!1,w.BOOLEAN],storeAsFile:[!1,w.BOOLEAN],forceRevert:[!1,w.BOOLEAN],maxFiles:[null,w.INT],checkValidity:[!1,w.BOOLEAN],itemInsertLocationFreedom:[!0,w.BOOLEAN],itemInsertLocation:["before",w.STRING],itemInsertInterval:[75,w.INT],dropOnPage:[!1,w.BOOLEAN],dropOnElement:[!0,w.BOOLEAN],dropValidation:[!1,w.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],w.ARRAY],instantUpload:[!0,w.BOOLEAN],maxParallelUploads:[2,w.INT],allowMinimumUploadDuration:[!0,w.BOOLEAN],chunkUploads:[!1,w.BOOLEAN],chunkForce:[!1,w.BOOLEAN],chunkSize:[5e6,w.INT],chunkRetryDelays:[[500,1e3,3e3],w.ARRAY],server:[null,w.SERVER_API],fileSizeBase:[1e3,w.INT],labelFileSizeBytes:["bytes",w.STRING],labelFileSizeKilobytes:["KB",w.STRING],labelFileSizeMegabytes:["MB",w.STRING],labelFileSizeGigabytes:["GB",w.STRING],labelDecimalSeparator:[jo(),w.STRING],labelThousandsSeparator:[Ff(),w.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',w.STRING],labelInvalidField:["Field contains invalid files",w.STRING],labelFileWaitingForSize:["Waiting for size",w.STRING],labelFileSizeNotAvailable:["Size not available",w.STRING],labelFileCountSingular:["file in list",w.STRING],labelFileCountPlural:["files in list",w.STRING],labelFileLoading:["Loading",w.STRING],labelFileAdded:["Added",w.STRING],labelFileLoadError:["Error during load",w.STRING],labelFileRemoved:["Removed",w.STRING],labelFileRemoveError:["Error during remove",w.STRING],labelFileProcessing:["Uploading",w.STRING],labelFileProcessingComplete:["Upload complete",w.STRING],labelFileProcessingAborted:["Upload cancelled",w.STRING],labelFileProcessingError:["Error during upload",w.STRING],labelFileProcessingRevertError:["Error during revert",w.STRING],labelTapToCancel:["tap to cancel",w.STRING],labelTapToRetry:["tap to retry",w.STRING],labelTapToUndo:["tap to undo",w.STRING],labelButtonRemoveItem:["Remove",w.STRING],labelButtonAbortItemLoad:["Abort",w.STRING],labelButtonRetryItemLoad:["Retry",w.STRING],labelButtonAbortItemProcessing:["Cancel",w.STRING],labelButtonUndoItemProcessing:["Undo",w.STRING],labelButtonRetryItemProcessing:["Retry",w.STRING],labelButtonProcessItem:["Upload",w.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',w.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',w.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',w.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',w.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',w.STRING],oninit:[null,w.FUNCTION],onwarning:[null,w.FUNCTION],onerror:[null,w.FUNCTION],onactivatefile:[null,w.FUNCTION],oninitfile:[null,w.FUNCTION],onaddfilestart:[null,w.FUNCTION],onaddfileprogress:[null,w.FUNCTION],onaddfile:[null,w.FUNCTION],onprocessfilestart:[null,w.FUNCTION],onprocessfileprogress:[null,w.FUNCTION],onprocessfileabort:[null,w.FUNCTION],onprocessfilerevert:[null,w.FUNCTION],onprocessfile:[null,w.FUNCTION],onprocessfiles:[null,w.FUNCTION],onremovefile:[null,w.FUNCTION],onpreparefile:[null,w.FUNCTION],onupdatefiles:[null,w.FUNCTION],onreorderfiles:[null,w.FUNCTION],beforeDropFile:[null,w.FUNCTION],beforeAddFile:[null,w.FUNCTION],beforeRemoveFile:[null,w.FUNCTION],beforePrepareFile:[null,w.FUNCTION],stylePanelLayout:[null,w.STRING],stylePanelAspectRatio:[null,w.STRING],styleItemPanelAspectRatio:[null,w.STRING],styleButtonRemoveItemPosition:["left",w.STRING],styleButtonProcessItemPosition:["right",w.STRING],styleLoadIndicatorPosition:["right",w.STRING],styleProgressIndicatorPosition:["right",w.STRING],styleButtonRemoveItemAlign:[!1,w.BOOLEAN],files:[[],w.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],w.ARRAY]},wt=(e,t)=>vt(t)?e[0]||null:dn(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(n=>n.id===t)||null),Xo=e=>{if(vt(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},Qe=e=>e.filter(t=>!t.archived),Hf={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let zn=null;const qf=()=>{if(zn===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,zn=t.files.length===1}catch{zn=!1}return zn},jf=[q.LOAD_ERROR,q.PROCESSING_ERROR,q.PROCESSING_REVERT_ERROR],Xf=[q.LOADING,q.PROCESSING,q.PROCESSING_QUEUED,q.INIT],Wf=[q.PROCESSING_COMPLETE],Qf=e=>jf.includes(e.status),Zf=e=>Xf.includes(e.status),Kf=e=>Wf.includes(e.status),Ji=e=>be(e.options.server)&&(be(e.options.server.process)||Pt(e.options.server.process)),Jf=e=>({GET_STATUS:()=>{const t=Qe(e.items),{EMPTY:n,ERROR:r,BUSY:s,IDLE:i,READY:a}=Hf;return t.length===0?n:t.some(Qf)?r:t.some(Zf)?s:t.some(Kf)?a:i},GET_ITEM:t=>wt(e.items,t),GET_ACTIVE_ITEM:t=>wt(Qe(e.items),t),GET_ACTIVE_ITEMS:()=>Qe(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const n=wt(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:t=>{const n=wt(e.items,t);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:Xo(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>Qe(e.items).filter(n=>n.status===t),GET_TOTAL_ITEMS:()=>Qe(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&qf()&&!Ji(e),IS_ASYNC:()=>Ji(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),ev=e=>{const t=Qe(e.items).length;if(!e.options.allowMultiple)return t===0;const n=e.options.maxFiles;return n===null||t<n},Wo=(e,t,n)=>Math.max(Math.min(n,e),t),tv=(e,t,n)=>e.splice(t,0,n),nv=(e,t,n)=>vt(t)?null:typeof n>"u"?(e.push(t),t):(n=Wo(n,0,e.length),tv(e,n,t),t),fs=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),Gn=e=>e.split("/").pop().split("?").shift(),Tr=e=>e.split(".").pop(),rv=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},mn=(e,t="")=>(t+e).slice(-t.length),Qo=(e=new Date)=>`${e.getFullYear()}-${mn(e.getMonth()+1,"00")}-${mn(e.getDate(),"00")}_${mn(e.getHours(),"00")}-${mn(e.getMinutes(),"00")}-${mn(e.getSeconds(),"00")}`,nn=(e,t,n=null,r=null)=>{const s=typeof n=="string"?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return s.lastModifiedDate=new Date,e._relativePath&&(s._relativePath=e._relativePath),Me(t)||(t=Qo()),t&&r===null&&Tr(t)?s.name=t:(r=r||rv(s.type),s.name=t+(r?"."+r:"")),s},sv=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Zo=(e,t)=>{const n=sv();if(n){const r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},iv=(e,t)=>{const n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return Zo(n,t)},Ko=e=>(/^data:(.+);/.exec(e)||[])[1]||null,av=e=>e.split(",")[1].replace(/\s/g,""),ov=e=>atob(av(e)),lv=e=>{const t=Ko(e),n=ov(e);return iv(n,t)},uv=(e,t,n)=>nn(lv(e),t,null,n),cv=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return t.length?decodeURI(t[t.length-1]):null},dv=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},fv=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,ei=e=>{const t={source:null,name:null,size:null},n=e.split(`
`);for(let r of n){const s=cv(r);if(s){t.name=s;continue}const i=dv(r);if(i){t.size=i;continue}const a=fv(r);if(a){t.source=a;continue}}return t},vv=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>t.progress,r=()=>{t.request&&t.request.abort&&t.request.abort()},s=()=>{const o=t.source;a.fire("init",o),o instanceof File?a.fire("load",o):o instanceof Blob?a.fire("load",nn(o,o.name)):fs(o)?a.fire("load",uv(o)):i(o)},i=o=>{if(!e){a.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(o,l=>{t.duration=Date.now()-t.timestamp,t.complete=!0,l instanceof Blob&&(l=nn(l,l.name||Gn(o))),a.fire("load",l instanceof Blob?l:l?l.body:null)},l=>{a.fire("error",typeof l=="string"?{type:"error",code:0,body:l}:l)},(l,u,c)=>{if(c&&(t.size=c),t.duration=Date.now()-t.timestamp,!l){t.progress=null;return}t.progress=u/c,a.fire("progress",t.progress)},()=>{a.fire("abort")},l=>{const u=ei(typeof l=="string"?l:l.headers);a.fire("meta",{size:t.size||u.size,filename:u.name,source:u.source})})},a={...Ir(),setSource:o=>t.source=o,getProgress:n,abort:r,load:s};return a},ea=e=>/GET|HEAD/.test(e),At=(e,t,n)=>{const r={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{s=!0,a.abort()}};let s=!1,i=!1;n={method:"POST",headers:{},withCredentials:!1,...n},t=encodeURI(t),ea(n.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const a=new XMLHttpRequest,o=ea(n.method)?a:a.upload;return o.onprogress=l=>{s||r.onprogress(l.lengthComputable,l.loaded,l.total)},a.onreadystatechange=()=>{a.readyState<2||a.readyState===4&&a.status===0||i||(i=!0,r.onheaders(a))},a.onload=()=>{a.status>=200&&a.status<300?r.onload(a):r.onerror(a)},a.onerror=()=>r.onerror(a),a.onabort=()=>{s=!0,r.onabort()},a.ontimeout=()=>r.ontimeout(a),a.open(n.method,t,!0),dn(n.timeout)&&(a.timeout=n.timeout),Object.keys(n.headers).forEach(l=>{const u=unescape(encodeURIComponent(n.headers[l]));a.setRequestHeader(l,u)}),n.responseType&&(a.responseType=n.responseType),n.withCredentials&&(a.withCredentials=!0),a.send(e),r},de=(e,t,n,r)=>({type:e,code:t,body:n,headers:r}),Lt=e=>t=>{e(de("error",0,"Timeout",t.getAllResponseHeaders()))},ta=e=>/\?/.test(e),Cn=(...e)=>{let t="";return e.forEach(n=>{t+=ta(t)&&ta(n)?n.replace(/\?/,"&"):n}),t},$r=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Me(t.url))return null;const n=t.onload||(s=>s),r=t.onerror||(s=>null);return(s,i,a,o,l,u)=>{const c=At(s,Cn(e,t.url),{...t,responseType:"blob"});return c.onload=f=>{const d=f.getAllResponseHeaders(),p=ei(d).name||Gn(s);i(de("load",f.status,t.method==="HEAD"?null:nn(n(f.response),p),d))},c.onerror=f=>{a(de("error",f.status,r(f.response)||f.statusText,f.getAllResponseHeaders()))},c.onheaders=f=>{u(de("headers",f.status,null,f.getAllResponseHeaders()))},c.ontimeout=Lt(a),c.onprogress=o,c.onabort=l,c}},$e={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},pv=(e,t,n,r,s,i,a,o,l,u,c)=>{const f=[],{chunkTransferId:d,chunkServer:p,chunkSize:v,chunkRetryDelays:m}=c,E={serverId:d,aborted:!1},g=t.ondata||(P=>P),h=t.onload||((P,Y)=>Y==="HEAD"?P.getResponseHeader("Upload-Offset"):P.response),y=t.onerror||(P=>null),S=P=>{const Y=new FormData;be(s)&&Y.append(n,JSON.stringify(s));const D=typeof t.headers=="function"?t.headers(r,s):{...t.headers,"Upload-Length":r.size},L={...t,headers:D},G=At(g(Y),Cn(e,t.url),L);G.onload=B=>P(h(B,L.method)),G.onerror=B=>a(de("error",B.status,y(B.response)||B.statusText,B.getAllResponseHeaders())),G.ontimeout=Lt(a)},I=P=>{const Y=Cn(e,p.url,E.serverId),L={headers:typeof t.headers=="function"?t.headers(E.serverId):{...t.headers},method:"HEAD"},G=At(null,Y,L);G.onload=B=>P(h(B,L.method)),G.onerror=B=>a(de("error",B.status,y(B.response)||B.statusText,B.getAllResponseHeaders())),G.ontimeout=Lt(a)},b=Math.floor(r.size/v);for(let P=0;P<=b;P++){const Y=P*v,D=r.slice(Y,Y+v,"application/offset+octet-stream");f[P]={index:P,size:D.size,offset:Y,data:D,file:r,progress:0,retries:[...m],status:$e.QUEUED,error:null,request:null,timeout:null}}const C=()=>i(E.serverId),T=P=>P.status===$e.QUEUED||P.status===$e.ERROR,R=P=>{if(E.aborted)return;if(P=P||f.find(T),!P){f.every(z=>z.status===$e.COMPLETE)&&C();return}P.status=$e.PROCESSING,P.progress=null;const Y=p.ondata||(z=>z),D=p.onerror||(z=>null),L=Cn(e,p.url,E.serverId),G=typeof p.headers=="function"?p.headers(P):{...p.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":P.offset,"Upload-Length":r.size,"Upload-Name":r.name},B=P.request=At(Y(P.data),L,{...p,headers:G});B.onload=()=>{P.status=$e.COMPLETE,P.request=null,O()},B.onprogress=(z,W,ie)=>{P.progress=z?W:null,M()},B.onerror=z=>{P.status=$e.ERROR,P.request=null,P.error=D(z.response)||z.statusText,k(P)||a(de("error",z.status,D(z.response)||z.statusText,z.getAllResponseHeaders()))},B.ontimeout=z=>{P.status=$e.ERROR,P.request=null,k(P)||Lt(a)(z)},B.onabort=()=>{P.status=$e.QUEUED,P.request=null,l()}},k=P=>P.retries.length===0?!1:(P.status=$e.WAITING,clearTimeout(P.timeout),P.timeout=setTimeout(()=>{R(P)},P.retries.shift()),!0),M=()=>{const P=f.reduce((D,L)=>D===null||L.progress===null?null:D+L.progress,0);if(P===null)return o(!1,0,0);const Y=f.reduce((D,L)=>D+L.size,0);o(!0,P,Y)},O=()=>{f.filter(Y=>Y.status===$e.PROCESSING).length>=1||R()},F=()=>{f.forEach(P=>{clearTimeout(P.timeout),P.request&&P.request.abort()})};return E.serverId?I(P=>{E.aborted||(f.filter(Y=>Y.offset<P).forEach(Y=>{Y.status=$e.COMPLETE,Y.progress=Y.size}),O())}):S(P=>{E.aborted||(u(P),E.serverId=P,O())}),{abort:()=>{E.aborted=!0,F()}}},mv=(e,t,n,r)=>(s,i,a,o,l,u,c)=>{if(!s)return;const f=r.chunkUploads,d=f&&s.size>r.chunkSize,p=f&&(d||r.chunkForce);if(s instanceof Blob&&p)return pv(e,t,n,s,i,a,o,l,u,c,r);const v=t.ondata||(I=>I),m=t.onload||(I=>I),E=t.onerror||(I=>null),g=typeof t.headers=="function"?t.headers(s,i)||{}:{...t.headers},h={...t,headers:g};var y=new FormData;be(i)&&y.append(n,JSON.stringify(i)),(s instanceof Blob?[{name:null,file:s}]:s).forEach(I=>{y.append(n,I.file,I.name===null?I.file.name:`${I.name}${I.file.name}`)});const S=At(v(y),Cn(e,t.url),h);return S.onload=I=>{a(de("load",I.status,m(I.response),I.getAllResponseHeaders()))},S.onerror=I=>{o(de("error",I.status,E(I.response)||I.statusText,I.getAllResponseHeaders()))},S.ontimeout=Lt(o),S.onprogress=l,S.onabort=u,S},gv=(e="",t,n,r)=>typeof t=="function"?(...s)=>t(n,...s,r):!t||!Me(t.url)?null:mv(e,t,n,r),gn=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Me(t.url))return(s,i)=>i();const n=t.onload||(s=>s),r=t.onerror||(s=>null);return(s,i,a)=>{const o=At(s,e+t.url,t);return o.onload=l=>{i(de("load",l.status,n(l.response),l.getAllResponseHeaders()))},o.onerror=l=>{a(de("error",l.status,r(l.response)||l.statusText,l.getAllResponseHeaders()))},o.ontimeout=Lt(a),o}},Jo=(e=0,t=1)=>e+Math.random()*(t-e),hv=(e,t=1e3,n=0,r=25,s=250)=>{let i=null;const a=Date.now(),o=()=>{let l=Date.now()-a,u=Jo(r,s);l+u>t&&(u=l+u-t);let c=l/t;if(c>=1||document.hidden){e(1);return}e(c),i=setTimeout(o,u)};return t>0&&o(),{clear:()=>{clearTimeout(i)}}},_v=(e,t)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:r}=t,s=(c,f)=>{const d=()=>{n.duration===0||n.progress===null||u.fire("progress",u.getProgress())},p=()=>{n.complete=!0,u.fire("load-perceived",n.response.body)};u.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=hv(v=>{n.perceivedProgress=v,n.perceivedDuration=Date.now()-n.timestamp,d(),n.response&&n.perceivedProgress===1&&!n.complete&&p()},r?Jo(750,1500):0),n.request=e(c,f,v=>{n.response=be(v)?v:{type:"load",code:200,body:`${v}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,u.fire("load",n.response.body),(!r||r&&n.perceivedProgress===1)&&p()},v=>{n.perceivedPerformanceUpdater.clear(),u.fire("error",be(v)?v:{type:"error",code:0,body:`${v}`})},(v,m,E)=>{n.duration=Date.now()-n.timestamp,n.progress=v?m/E:null,d()},()=>{n.perceivedPerformanceUpdater.clear(),u.fire("abort",n.response?n.response.body:null)},v=>{u.fire("transfer",v)})},i=()=>{n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},a=()=>{i(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},o=r?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,l=r?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,u={...Ir(),process:s,abort:i,getProgress:o,getDuration:l,reset:a};return u},el=e=>e.substring(0,e.lastIndexOf("."))||e,Ev=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||fs(e)?t[0]=e.name||Qo():fs(e)?(t[1]=e.length,t[2]=Ko(e)):Me(e)&&(t[0]=Gn(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},rn=e=>!!(e instanceof File||e instanceof Blob&&e.name),tl=e=>{if(!be(e))return e;const t=_r(e)?[]:{};for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];t[n]=r&&be(r)?tl(r):r}return t},yv=(e=null,t=null,n=null)=>{const r=Zs(),s={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?q.PROCESSING_COMPLETE:q.INIT,activeLoader:null,activeProcessor:null};let i=null;const a={},o=T=>s.status=T,l=(T,...R)=>{s.released||s.frozen||b.fire(T,...R)},u=()=>Tr(s.file.name),c=()=>s.file.type,f=()=>s.file.size,d=()=>s.file,p=(T,R,k)=>{if(s.source=T,b.fireSync("init"),s.file){b.fireSync("load-skip");return}s.file=Ev(T),R.on("init",()=>{l("load-init")}),R.on("meta",M=>{s.file.size=M.size,s.file.filename=M.filename,M.source&&(e=Te.LIMBO,s.serverFileReference=M.source,s.status=q.PROCESSING_COMPLETE),l("load-meta")}),R.on("progress",M=>{o(q.LOADING),l("load-progress",M)}),R.on("error",M=>{o(q.LOAD_ERROR),l("load-request-error",M)}),R.on("abort",()=>{o(q.INIT),l("load-abort")}),R.on("load",M=>{s.activeLoader=null;const O=P=>{s.file=rn(P)?P:s.file,e===Te.LIMBO&&s.serverFileReference?o(q.PROCESSING_COMPLETE):o(q.IDLE),l("load")},F=P=>{s.file=M,l("load-meta"),o(q.LOAD_ERROR),l("load-file-error",P)};if(s.serverFileReference){O(M);return}k(M,O,F)}),R.setSource(T),s.activeLoader=R,R.load()},v=()=>{s.activeLoader&&s.activeLoader.load()},m=()=>{if(s.activeLoader){s.activeLoader.abort();return}o(q.INIT),l("load-abort")},E=(T,R)=>{if(s.processingAborted){s.processingAborted=!1;return}if(o(q.PROCESSING),i=null,!(s.file instanceof Blob)){b.on("load",()=>{E(T,R)});return}T.on("load",O=>{s.transferId=null,s.serverFileReference=O}),T.on("transfer",O=>{s.transferId=O}),T.on("load-perceived",O=>{s.activeProcessor=null,s.transferId=null,s.serverFileReference=O,o(q.PROCESSING_COMPLETE),l("process-complete",O)}),T.on("start",()=>{l("process-start")}),T.on("error",O=>{s.activeProcessor=null,o(q.PROCESSING_ERROR),l("process-error",O)}),T.on("abort",O=>{s.activeProcessor=null,s.serverFileReference=O,o(q.IDLE),l("process-abort"),i&&i()}),T.on("progress",O=>{l("process-progress",O)});const k=O=>{s.archived||T.process(O,{...a})},M=console.error;R(s.file,k,M),s.activeProcessor=T},g=()=>{s.processingAborted=!1,o(q.PROCESSING_QUEUED)},h=()=>new Promise(T=>{if(!s.activeProcessor){s.processingAborted=!0,o(q.IDLE),l("process-abort"),T();return}i=()=>{T()},s.activeProcessor.abort()}),y=(T,R)=>new Promise((k,M)=>{const O=s.serverFileReference!==null?s.serverFileReference:s.transferId;if(O===null){k();return}T(O,()=>{s.serverFileReference=null,s.transferId=null,k()},F=>{if(!R){k();return}o(q.PROCESSING_REVERT_ERROR),l("process-revert-error"),M(F)}),o(q.IDLE),l("process-revert")}),S=(T,R,k)=>{const M=T.split("."),O=M[0],F=M.pop();let P=a;M.forEach(Y=>P=P[Y]),JSON.stringify(P[F])!==JSON.stringify(R)&&(P[F]=R,l("metadata-update",{key:O,value:a[O],silent:k}))},b={id:{get:()=>r},origin:{get:()=>e,set:T=>e=T},serverId:{get:()=>s.serverFileReference},transferId:{get:()=>s.transferId},status:{get:()=>s.status},filename:{get:()=>s.file.name},filenameWithoutExtension:{get:()=>el(s.file.name)},fileExtension:{get:u},fileType:{get:c},fileSize:{get:f},file:{get:d},relativePath:{get:()=>s.file._relativePath},source:{get:()=>s.source},getMetadata:T=>tl(T?a[T]:a),setMetadata:(T,R,k)=>{if(be(T)){const M=T;return Object.keys(M).forEach(O=>{S(O,M[O],R)}),T}return S(T,R,k),R},extend:(T,R)=>C[T]=R,abortLoad:m,retryLoad:v,requestProcessing:g,abortProcessing:h,load:p,process:E,revert:y,...Ir(),freeze:()=>s.frozen=!0,release:()=>s.released=!0,released:{get:()=>s.released},archive:()=>s.archived=!0,archived:{get:()=>s.archived}},C=It(b);return C},Iv=(e,t)=>vt(t)?0:Me(t)?e.findIndex(n=>n.id===t):-1,na=(e,t)=>{const n=Iv(e,t);if(!(n<0))return e[n]||null},ra=(e,t,n,r,s,i)=>{const a=At(null,e,{method:"GET",responseType:"blob"});return a.onload=o=>{const l=o.getAllResponseHeaders(),u=ei(l).name||Gn(e);t(de("load",o.status,nn(o.response,u),l))},a.onerror=o=>{n(de("error",o.status,o.statusText,o.getAllResponseHeaders()))},a.onheaders=o=>{i(de("headers",o.status,null,o.getAllResponseHeaders()))},a.ontimeout=Lt(n),a.onprogress=r,a.onabort=s,a},sa=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),Tv=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&sa(location.href)!==sa(e),Hn=e=>(...t)=>Pt(e)?e(...t):e,Sv=e=>!rn(e.file),Fr=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:Qe(t.items)})},0)},ia=(e,...t)=>new Promise(n=>{if(!e)return n(!0);const r=e(...t);if(r==null)return n(!0);if(typeof r=="boolean")return n(r);typeof r.then=="function"&&r.then(n)}),Ur=(e,t)=>{e.items.sort((n,r)=>t(ke(n),ke(r)))},Fe=(e,t)=>({query:n,success:r=()=>{},failure:s=()=>{},...i}={})=>{const a=wt(e.items,n);if(!a){s({error:de("error",0,"Item not found"),file:null});return}t(a,r,s,i||{})},bv=(e,t,n)=>({ABORT_ALL:()=>{Qe(n.items).forEach(r=>{r.freeze(),r.abortLoad(),r.abortProcessing()})},DID_SET_FILES:({value:r=[]})=>{const s=r.map(a=>({source:a.source?a.source:a,options:a.options}));let i=Qe(n.items);i.forEach(a=>{s.find(o=>o.source===a.source||o.source===a.file)||e("REMOVE_ITEM",{query:a,remove:!1})}),i=Qe(n.items),s.forEach((a,o)=>{i.find(l=>l.source===a.source||l.file===a.source)||e("ADD_ITEM",{...a,interactionMethod:ze.NONE,index:o})})},DID_UPDATE_ITEM_METADATA:({id:r,action:s,change:i})=>{i.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const a=na(n.items,r);if(!t("IS_ASYNC")){We("SHOULD_PREPARE_OUTPUT",!1,{item:a,query:t,action:s,change:i}).then(c=>{const f=t("GET_BEFORE_PREPARE_FILE");f&&(c=f(a,c)),c&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:a,success:d=>{e("DID_PREPARE_OUTPUT",{id:r,file:d})}},!0)});return}a.origin===Te.LOCAL&&e("DID_LOAD_ITEM",{id:a.id,error:null,serverFileReference:a.source});const o=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:r})},32)},l=c=>{a.revert(gn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(c?o:()=>{}).catch(()=>{})},u=c=>{a.abortProcessing().then(c?o:()=>{})};if(a.status===q.PROCESSING_COMPLETE)return l(n.options.instantUpload);if(a.status===q.PROCESSING)return u(n.options.instantUpload);n.options.instantUpload&&o()},0))},MOVE_ITEM:({query:r,index:s})=>{const i=wt(n.items,r);if(!i)return;const a=n.items.indexOf(i);s=Wo(s,0,n.items.length-1),a!==s&&n.items.splice(s,0,n.items.splice(a,1)[0])},SORT:({compare:r})=>{Ur(n,r),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:r,index:s,interactionMethod:i,success:a=()=>{},failure:o=()=>{}})=>{let l=s;if(s===-1||typeof s>"u"){const p=t("GET_ITEM_INSERT_LOCATION"),v=t("GET_TOTAL_ITEMS");l=p==="before"?0:v}const u=t("GET_IGNORED_FILES"),c=p=>rn(p)?!u.includes(p.name.toLowerCase()):!vt(p),d=r.filter(c).map(p=>new Promise((v,m)=>{e("ADD_ITEM",{interactionMethod:i,source:p.source||p,success:v,failure:m,index:l++,options:p.options||{}})}));Promise.all(d).then(a).catch(o)},ADD_ITEM:({source:r,index:s=-1,interactionMethod:i,success:a=()=>{},failure:o=()=>{},options:l={}})=>{if(vt(r)){o({error:de("error",0,"No source"),file:null});return}if(rn(r)&&n.options.ignoredFiles.includes(r.name.toLowerCase()))return;if(!ev(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const h=de("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:r,error:h}),o({error:h,file:null});return}const g=Qe(n.items)[0];if(g.status===q.PROCESSING_COMPLETE||g.status===q.PROCESSING_REVERT_ERROR){const h=t("GET_FORCE_REVERT");if(g.revert(gn(n.options.server.url,n.options.server.revert),h).then(()=>{h&&e("ADD_ITEM",{source:r,index:s,interactionMethod:i,success:a,failure:o,options:l})}).catch(()=>{}),h)return}e("REMOVE_ITEM",{query:g.id})}const u=l.type==="local"?Te.LOCAL:l.type==="limbo"?Te.LIMBO:Te.INPUT,c=yv(u,u===Te.INPUT?null:r,l.file);Object.keys(l.metadata||{}).forEach(g=>{c.setMetadata(g,l.metadata[g])}),Yt("DID_CREATE_ITEM",c,{query:t,dispatch:e});const f=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(s=f==="before"?-1:n.items.length),nv(n.items,c,s),Pt(f)&&r&&Ur(n,f);const d=c.id;c.on("init",()=>{e("DID_INIT_ITEM",{id:d})}),c.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:d})}),c.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:d})}),c.on("load-progress",g=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:d,progress:g})}),c.on("load-request-error",g=>{const h=Hn(n.options.labelFileLoadError)(g);if(g.code>=400&&g.code<500){e("DID_THROW_ITEM_INVALID",{id:d,error:g,status:{main:h,sub:`${g.code} (${g.body})`}}),o({error:g,file:ke(c)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:d,error:g,status:{main:h,sub:n.options.labelTapToRetry}})}),c.on("load-file-error",g=>{e("DID_THROW_ITEM_INVALID",{id:d,error:g.status,status:g.status}),o({error:g.status,file:ke(c)})}),c.on("load-abort",()=>{e("REMOVE_ITEM",{query:d})}),c.on("load-skip",()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:c,data:{source:r,success:a}})}),c.on("load",()=>{const g=h=>{if(!h){e("REMOVE_ITEM",{query:d});return}c.on("metadata-update",y=>{e("DID_UPDATE_ITEM_METADATA",{id:d,change:y})}),We("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:t}).then(y=>{const S=t("GET_BEFORE_PREPARE_FILE");S&&(y=S(c,y));const I=()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:c,data:{source:r,success:a}}),Fr(e,n)};if(y){e("REQUEST_PREPARE_OUTPUT",{query:d,item:c,success:b=>{e("DID_PREPARE_OUTPUT",{id:d,file:b}),I()}},!0);return}I()})};We("DID_LOAD_ITEM",c,{query:t,dispatch:e}).then(()=>{ia(t("GET_BEFORE_ADD_FILE"),ke(c)).then(g)}).catch(h=>{if(!h||!h.error||!h.status)return g(!1);e("DID_THROW_ITEM_INVALID",{id:d,error:h.error,status:h.status})})}),c.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:d})}),c.on("process-progress",g=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:d,progress:g})}),c.on("process-error",g=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:d,error:g,status:{main:Hn(n.options.labelFileProcessingError)(g),sub:n.options.labelTapToRetry}})}),c.on("process-revert-error",g=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:d,error:g,status:{main:Hn(n.options.labelFileProcessingRevertError)(g),sub:n.options.labelTapToRetry}})}),c.on("process-complete",g=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:d,error:null,serverFileReference:g}),e("DID_DEFINE_VALUE",{id:d,value:g})}),c.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:d})}),c.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:d}),e("DID_DEFINE_VALUE",{id:d,value:null})}),e("DID_ADD_ITEM",{id:d,index:s,interactionMethod:i}),Fr(e,n);const{url:p,load:v,restore:m,fetch:E}=n.options.server||{};c.load(r,vv(u===Te.INPUT?Me(r)&&Tv(r)&&E?$r(p,E):ra:u===Te.LIMBO?$r(p,m):$r(p,v)),(g,h,y)=>{We("LOAD_FILE",g,{query:t}).then(h).catch(y)})},REQUEST_PREPARE_OUTPUT:({item:r,success:s,failure:i=()=>{}})=>{const a={error:de("error",0,"Item not found"),file:null};if(r.archived)return i(a);We("PREPARE_OUTPUT",r.file,{query:t,item:r}).then(o=>{We("COMPLETE_PREPARE_OUTPUT",o,{query:t,item:r}).then(l=>{if(r.archived)return i(a);s(l)})})},COMPLETE_LOAD_ITEM:({item:r,data:s})=>{const{success:i,source:a}=s,o=t("GET_ITEM_INSERT_LOCATION");if(Pt(o)&&a&&Ur(n,o),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===Te.INPUT?null:a}),i(ke(r)),r.origin===Te.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===Te.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:a}),e("DID_DEFINE_VALUE",{id:r.id,value:r.serverId||a});return}t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id})},RETRY_ITEM_LOAD:Fe(n,r=>{r.retryLoad()}),REQUEST_ITEM_PREPARE:Fe(n,(r,s,i)=>{e("REQUEST_PREPARE_OUTPUT",{query:r.id,item:r,success:a=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:a}),s({file:r,output:a})},failure:i},!0)}),REQUEST_ITEM_PROCESSING:Fe(n,(r,s,i)=>{if(!(r.status===q.IDLE||r.status===q.PROCESSING_ERROR)){const o=()=>e("REQUEST_ITEM_PROCESSING",{query:r,success:s,failure:i}),l=()=>document.hidden?o():setTimeout(o,32);r.status===q.PROCESSING_COMPLETE||r.status===q.PROCESSING_REVERT_ERROR?r.revert(gn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(l).catch(()=>{}):r.status===q.PROCESSING&&r.abortProcessing().then(l);return}r.status!==q.PROCESSING_QUEUED&&(r.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),e("PROCESS_ITEM",{query:r,success:s,failure:i},!0))}),PROCESS_ITEM:Fe(n,(r,s,i)=>{const a=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",q.PROCESSING).length===a){n.processingQueue.push({id:r.id,success:s,failure:i});return}if(r.status===q.PROCESSING)return;const l=()=>{const c=n.processingQueue.shift();if(!c)return;const{id:f,success:d,failure:p}=c,v=wt(n.items,f);if(!v||v.archived){l();return}e("PROCESS_ITEM",{query:f,success:d,failure:p},!0)};r.onOnce("process-complete",()=>{s(ke(r)),l();const c=n.options.server;if(n.options.instantUpload&&r.origin===Te.LOCAL&&Pt(c.remove)){const p=()=>{};r.origin=Te.LIMBO,n.options.server.remove(r.source,p,p)}t("GET_ITEMS_BY_STATUS",q.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),r.onOnce("process-error",c=>{i({error:c,file:ke(r)}),l()});const u=n.options;r.process(_v(gv(u.server.url,u.server.process,u.name,{chunkTransferId:r.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(c,f,d)=>{We("PREPARE_OUTPUT",c,{query:t,item:r}).then(p=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:p}),f(p)}).catch(d)})}),RETRY_ITEM_PROCESSING:Fe(n,r=>{e("REQUEST_ITEM_PROCESSING",{query:r})}),REQUEST_REMOVE_ITEM:Fe(n,r=>{ia(t("GET_BEFORE_REMOVE_FILE"),ke(r)).then(s=>{s&&e("REMOVE_ITEM",{query:r})})}),RELEASE_ITEM:Fe(n,r=>{r.release()}),REMOVE_ITEM:Fe(n,(r,s,i,a)=>{const o=()=>{const u=r.id;na(n.items,u).archive(),e("DID_REMOVE_ITEM",{error:null,id:u,item:r}),Fr(e,n),s(ke(r))},l=n.options.server;r.origin===Te.LOCAL&&l&&Pt(l.remove)&&a.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:r.id}),l.remove(r.source,()=>o(),u=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:de("error",0,u,null),status:{main:Hn(n.options.labelFileRemoveError)(u),sub:n.options.labelTapToRetry}})})):((a.revert&&r.origin!==Te.LOCAL&&r.serverId!==null||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(gn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),o())}),ABORT_ITEM_LOAD:Fe(n,r=>{r.abortLoad()}),ABORT_ITEM_PROCESSING:Fe(n,r=>{if(r.serverId){e("REVERT_ITEM_PROCESSING",{id:r.id});return}r.abortProcessing().then(()=>{n.options.instantUpload&&e("REMOVE_ITEM",{query:r.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Fe(n,r=>{if(!n.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:r});return}const s=o=>{o&&e("REVERT_ITEM_PROCESSING",{query:r})},i=t("GET_BEFORE_REMOVE_FILE");if(!i)return s(!0);const a=i(ke(r));if(a==null)return s(!0);if(typeof a=="boolean")return s(a);typeof a.then=="function"&&a.then(s)}),REVERT_ITEM_PROCESSING:Fe(n,r=>{r.revert(gn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||Sv(r))&&e("REMOVE_ITEM",{query:r.id})}).catch(()=>{})}),SET_OPTIONS:({options:r})=>{const s=Object.keys(r),i=Rv.filter(o=>s.includes(o));[...i,...Object.keys(r).filter(o=>!i.includes(o))].forEach(o=>{e(`SET_${yr(o,"_").toUpperCase()}`,{value:r[o]})})}}),Rv=["server"],ti=e=>e,pt=e=>document.createElement(e),fe=(e,t)=>{let n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},aa=(e,t,n,r)=>{const s=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}},Cv=(e,t,n,r,s,i)=>{const a=aa(e,t,n,s),o=aa(e,t,n,r);return["M",a.x,a.y,"A",n,n,0,i,0,o.x,o.y].join(" ")},Ov=(e,t,n,r,s)=>{let i=1;return s>r&&s-r<=.5&&(i=0),r>s&&r-s>=.5&&(i=0),Cv(e,t,n,Math.min(.9999,r)*360,Math.min(.9999,s)*360,i)},Dv=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const n=sr("svg");e.ref.path=sr("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(e.ref.path),e.ref.svg=n,e.appendChild(n)},Pv=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const n=parseInt(he(e.ref.path,"stroke-width"),10),r=e.rect.element.width*.5;let s=0,i=0;t.spin?(s=0,i=.5):(s=0,i=t.progress);const a=Ov(r,r,r-n,s,i);he(e.ref.path,"d",a),he(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},oa=_e({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:Dv,write:Pv,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),wv=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},Mv=({root:e,props:t})=>{const{isDisabled:n}=t,r=e.query("GET_DISABLED")||t.opacity===0;r&&!n?(t.isDisabled=!0,he(e.element,"disabled","disabled")):!r&&n&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},nl=_e({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:wv,write:Mv}),rl=(e,t=".",n=1e3,r={})=>{const{labelBytes:s="bytes",labelKilobytes:i="KB",labelMegabytes:a="MB",labelGigabytes:o="GB"}=r;e=Math.round(Math.abs(e));const l=n,u=n*n,c=n*n*n;return e<l?`${e} ${s}`:e<u?`${Math.floor(e/l)} ${i}`:e<c?`${la(e/u,1,t)} ${a}`:`${la(e/c,2,t)} ${o}`},la=(e,t,n)=>e.toFixed(t).split(".").filter(r=>r!=="0").join(n),Av=({root:e,props:t})=>{const n=pt("span");n.className="filepond--file-info-main",he(n,"aria-hidden","true"),e.appendChild(n),e.ref.fileName=n;const r=pt("span");r.className="filepond--file-info-sub",e.appendChild(r),e.ref.fileSize=r,fe(r,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),fe(n,ti(e.query("GET_ITEM_NAME",t.id)))},vs=({root:e,props:t})=>{fe(e.ref.fileSize,rl(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),fe(e.ref.fileName,ti(e.query("GET_ITEM_NAME",t.id)))},ua=({root:e,props:t})=>{if(dn(e.query("GET_ITEM_SIZE",t.id))){vs({root:e,props:t});return}fe(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Lv=_e({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Ae({DID_LOAD_ITEM:vs,DID_UPDATE_ITEM_META:vs,DID_THROW_ITEM_LOAD_ERROR:ua,DID_THROW_ITEM_INVALID:ua}),didCreateView:e=>{Yt("CREATE_VIEW",{...e,view:e})},create:Av,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),sl=e=>Math.round(e*100),Nv=({root:e})=>{const t=pt("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const n=pt("span");n.className="filepond--file-status-sub",e.appendChild(n),e.ref.sub=n,il({root:e,action:{progress:null}})},il=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${sl(t.progress)}%`;fe(e.ref.main,n),fe(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},kv=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${sl(t.progress)}%`;fe(e.ref.main,n),fe(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},xv=({root:e})=>{fe(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),fe(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Gv=({root:e})=>{fe(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),fe(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},Bv=({root:e})=>{fe(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),fe(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},ca=({root:e})=>{fe(e.ref.main,""),fe(e.ref.sub,"")},hn=({root:e,action:t})=>{fe(e.ref.main,t.status.main),fe(e.ref.sub,t.status.sub)},Vv=_e({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Ae({DID_LOAD_ITEM:ca,DID_REVERT_ITEM_PROCESSING:ca,DID_REQUEST_ITEM_PROCESSING:xv,DID_ABORT_ITEM_PROCESSING:Gv,DID_COMPLETE_ITEM_PROCESSING:Bv,DID_UPDATE_ITEM_PROCESS_PROGRESS:kv,DID_UPDATE_ITEM_LOAD_PROGRESS:il,DID_THROW_ITEM_LOAD_ERROR:hn,DID_THROW_ITEM_INVALID:hn,DID_THROW_ITEM_PROCESSING_ERROR:hn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:hn,DID_THROW_ITEM_REMOVE_ERROR:hn}),didCreateView:e=>{Yt("CREATE_VIEW",{...e,view:e})},create:Nv,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),ps={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},ms=[];ue(ps,e=>{ms.push(e)});const Ge=e=>{if(gs(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},$v=e=>e.ref.buttonAbortItemLoad.rect.element.width,qn=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),Fv=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),Uv=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),Yv=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),gs=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),zv={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Uv},processProgressIndicator:{opacity:0,align:Yv},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},da={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Ge},status:{translateX:Ge}},Yr={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Kt={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Ge},status:{translateX:Ge,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Ge},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:gs},info:{translateX:Ge},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:gs},buttonRemoveItem:{opacity:1},info:{translateX:Ge},status:{opacity:1,translateX:Ge}},DID_LOAD_ITEM:da,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Ge},status:{translateX:Ge}},DID_START_ITEM_PROCESSING:Yr,DID_REQUEST_ITEM_PROCESSING:Yr,DID_UPDATE_ITEM_PROCESS_PROGRESS:Yr,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Ge}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Ge},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:da},Hv=_e({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),qv=({root:e,props:t})=>{const n=Object.keys(ps).reduce((v,m)=>(v[m]={...ps[m]},v),{}),{id:r}=t,s=e.query("GET_ALLOW_REVERT"),i=e.query("GET_ALLOW_REMOVE"),a=e.query("GET_ALLOW_PROCESS"),o=e.query("GET_INSTANT_UPLOAD"),l=e.query("IS_ASYNC"),u=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let c;l?a&&!s?c=v=>!/RevertItemProcessing/.test(v):!a&&s?c=v=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(v):!a&&!s&&(c=v=>!/Process/.test(v)):c=v=>!/Process/.test(v);const f=c?ms.filter(c):ms.concat();if(o&&s&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!s){const v=Kt.DID_COMPLETE_ITEM_PROCESSING;v.info.translateX=Fv,v.info.translateY=qn,v.status.translateY=qn,v.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!a&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(v=>{Kt[v].status.translateY=qn}),Kt.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=$v),u&&s){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const v=Kt.DID_COMPLETE_ITEM_PROCESSING;v.info.translateX=Ge,v.status.translateY=qn,v.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}i||(n.RemoveItem.disabled=!0),ue(n,(v,m)=>{const E=e.createChildView(nl,{label:e.query(m.label),icon:e.query(m.icon),opacity:0});f.includes(v)&&e.appendChildView(E),m.disabled&&(E.element.setAttribute("disabled","disabled"),E.element.setAttribute("hidden","hidden")),E.element.dataset.align=e.query(`GET_STYLE_${m.align}`),E.element.classList.add(m.className),E.on("click",g=>{g.stopPropagation(),!m.disabled&&e.dispatch(m.action,{query:r})}),e.ref[`button${v}`]=E}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(Hv)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(Lv,{id:r})),e.ref.status=e.appendChildView(e.createChildView(Vv,{id:r}));const d=e.appendChildView(e.createChildView(oa,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));d.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=d;const p=e.appendChildView(e.createChildView(oa,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));p.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=p,e.ref.activeStyles=[]},jv=({root:e,actions:t,props:n})=>{Xv({root:e,actions:t,props:n});let r=t.concat().filter(s=>/^DID_/.test(s.type)).reverse().find(s=>Kt[s.type]);if(r){e.ref.activeStyles=[];const s=Kt[r.type];ue(zv,(i,a)=>{const o=e.ref[i];ue(a,(l,u)=>{const c=s[i]&&typeof s[i][l]<"u"?s[i][l]:u;e.ref.activeStyles.push({control:o,key:l,value:c})})})}e.ref.activeStyles.forEach(({control:s,key:i,value:a})=>{s[i]=typeof a=="function"?a(e):a})},Xv=Ae({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),Wv=_e({create:qv,write:jv,didCreateView:e=>{Yt("CREATE_VIEW",{...e,view:e})},name:"file"}),Qv=({root:e,props:t})=>{e.ref.fileName=pt("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(Wv,{id:t.id})),e.ref.data=!1},Zv=({root:e,props:t})=>{fe(e.ref.fileName,ti(e.query("GET_ITEM_NAME",t.id)))},Kv=_e({create:Qv,ignoreRect:!0,write:Ae({DID_LOAD_ITEM:Zv}),didCreateView:e=>{Yt("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),fa={type:"spring",damping:.6,mass:7},Jv=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:fa},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:fa},styles:["translateY"]}}].forEach(n=>{ep(e,n,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},ep=(e,t,n)=>{const r=_e({name:`panel-${t.name} filepond--${n}`,mixins:t.mixins,ignoreRectUpdate:!0}),s=e.createChildView(r,t.props);e.ref[t.name]=e.appendChildView(s)},tp=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=Fo(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const n=e.ref.top.rect.element,r=e.ref.bottom.rect.element,s=Math.max(n.height+r.height,t.height);e.ref.center.translateY=n.height,e.ref.center.scaleY=(s-n.height-r.height)/100,e.ref.bottom.translateY=s-r.height},al=_e({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:tp,create:Jv,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),np=e=>{const t=e.map(r=>r.id);let n;return{setIndex:r=>{n=r},getIndex:()=>n,getItemIndex:r=>t.indexOf(r.id)}},va={type:"spring",stiffness:.75,damping:.45,mass:10},pa="spring",ma={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},rp=({root:e,props:t})=>{if(e.ref.handleClick=r=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(Kv,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(al,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const n=r=>{if(!r.isPrimary)return;let s=!1;const i={x:r.pageX,y:r.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:r.offsetX,y:r.offsetY};const a=np(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:a});const o=u=>{if(!u.isPrimary)return;u.stopPropagation(),u.preventDefault(),t.dragOffset={x:u.pageX-i.x,y:u.pageY-i.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!s&&(s=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:a})},l=u=>{u.isPrimary&&(document.removeEventListener("pointermove",o),document.removeEventListener("pointerup",l),t.dragOffset={x:u.pageX-i.x,y:u.pageY-i.y},e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:a}),s&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0))};document.addEventListener("pointermove",o),document.addEventListener("pointerup",l)};e.element.addEventListener("pointerdown",n)},sp=Ae({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),ip=Ae({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:n,shouldOptimize:r})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let s=t.concat().filter(a=>/^DID_/.test(a.type)).reverse().find(a=>ma[a.type]);s&&s.type!==n.currentState&&(n.currentState=s.type,e.element.dataset.filepondItemState=ma[n.currentState]||"");const i=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");i?r||(e.height=e.rect.element.width*i):(sp({root:e,actions:t,props:n}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),r&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),ap=_e({create:rp,write:ip,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:pa,scaleY:pa,translateX:va,translateY:va,opacity:{type:"tween",duration:150}}}});var ni=(e,t)=>Math.max(1,Math.floor((e+1)/t));const ri=(e,t,n)=>{if(!n)return;const r=e.rect.element.width,s=t.length;let i=null;if(s===0||n.top<t[0].rect.element.top)return-1;const o=t[0].rect.element,l=o.marginLeft+o.marginRight,u=o.width+l,c=ni(r,u);if(c===1){for(let p=0;p<s;p++){const v=t[p],m=v.rect.outer.top+v.rect.element.height*.5;if(n.top<m)return p}return s}const f=o.marginTop+o.marginBottom,d=o.height+f;for(let p=0;p<s;p++){const v=p%c,m=Math.floor(p/c),E=v*u,g=m*d,h=g-o.marginTop,y=E+u,S=g+d+o.marginBottom;if(n.top<S&&n.top>h){if(n.left<y)return p;p!==s-1?i=p:i=null}}return i!==null?i:s},jn={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},op=({root:e})=>{he(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},lp=({root:e,action:t})=>{const{id:n,index:r,interactionMethod:s}=t;e.ref.addIndex=r;const i=Date.now();let a=i,o=1;if(s!==ze.NONE){o=0;const l=e.query("GET_ITEM_INSERT_INTERVAL"),u=i-e.ref.lastItemSpanwDate;a=u<l?i+(l-u):i}e.ref.lastItemSpanwDate=a,e.appendChildView(e.createChildView(ap,{spawnDate:a,id:n,opacity:o,interactionMethod:s}),r)},ga=(e,t,n,r=0,s=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(e.opacity===0&&up(e,t,n,r,s),e.scaleX=1,e.scaleY=1,e.opacity=1))},up=(e,t,n,r,s)=>{e.interactionMethod===ze.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===ze.DROP?(e.translateX=null,e.translateX=t-r*20,e.translateY=null,e.translateY=n-s*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===ze.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===ze.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},cp=({root:e,action:t})=>{const{id:n}=t,r=e.childViews.find(s=>s.id===n);r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},zr=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,dp=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,fp=({root:e,action:t})=>{const{id:n,dragState:r}=t,s=e.query("GET_ITEM",{id:n}),i=e.childViews.find(E=>E.id===n),a=e.childViews.length,o=r.getItemIndex(s);if(!i)return;const l={x:i.dragOrigin.x+i.dragOffset.x+i.dragCenter.x,y:i.dragOrigin.y+i.dragOffset.y+i.dragCenter.y},u=zr(i),c=dp(i);let f=Math.floor(e.rect.outer.width/c);f>a&&(f=a);const d=Math.floor(a/f+1);jn.setHeight=u*d,jn.setWidth=c*f;var p={y:Math.floor(l.y/u),x:Math.floor(l.x/c),getGridIndex:function(){return l.y>jn.getHeight||l.y<0||l.x>jn.getWidth||l.x<0?o:this.y*f+this.x},getColIndex:function(){const g=e.query("GET_ACTIVE_ITEMS"),h=e.childViews.filter(M=>M.rect.element.height),y=g.map(M=>h.find(O=>O.id===M.id)),S=y.findIndex(M=>M===i),I=zr(i),b=y.length;let C=b,T=0,R=0,k=0;for(let M=0;M<b;M++)if(T=zr(y[M]),k=R,R=k+T,l.y<R){if(S>M){if(l.y<k+I){C=M;break}continue}C=M;break}return C}};const v=f>1?p.getGridIndex():p.getColIndex();e.dispatch("MOVE_ITEM",{query:i,index:v});const m=r.getIndex();if(m===void 0||m!==v){if(r.setIndex(v),m===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:o,target:v})}},vp=Ae({DID_ADD_ITEM:lp,DID_REMOVE_ITEM:cp,DID_DRAG_ITEM:fp}),pp=({root:e,props:t,actions:n,shouldOptimize:r})=>{vp({root:e,props:t,actions:n});const{dragCoordinates:s}=t,i=e.rect.element.width,a=e.childViews.filter(y=>y.rect.element.height),o=e.query("GET_ACTIVE_ITEMS").map(y=>a.find(S=>S.id===y.id)).filter(y=>y),l=s?ri(e,o,s):null,u=e.ref.addIndex||null;e.ref.addIndex=null;let c=0,f=0,d=0;if(o.length===0)return;const p=o[0].rect.element,v=p.marginTop+p.marginBottom,m=p.marginLeft+p.marginRight,E=p.width+m,g=p.height+v,h=ni(i,E);if(h===1){let y=0,S=0;o.forEach((I,b)=>{if(l){let R=b-l;R===-2?S=-v*.25:R===-1?S=-v*.75:R===0?S=v*.75:R===1?S=v*.25:S=0}r&&(I.translateX=null,I.translateY=null),I.markedForRemoval||ga(I,0,y+S);let T=(I.rect.element.height+v)*(I.markedForRemoval?I.opacity:1);y+=T})}else{let y=0,S=0;o.forEach((I,b)=>{b===l&&(c=1),b===u&&(d+=1),I.markedForRemoval&&I.opacity<.5&&(f-=1);const C=b+d+c+f,T=C%h,R=Math.floor(C/h),k=T*E,M=R*g,O=Math.sign(k-y),F=Math.sign(M-S);y=k,S=M,!I.markedForRemoval&&(r&&(I.translateX=null,I.translateY=null),ga(I,k,M,O,F))})}},mp=(e,t)=>t.filter(n=>n.data&&n.data.id?e.id===n.data.id:!0),gp=_e({create:op,write:pp,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:mp,mixins:{apis:["dragCoordinates"]}}),hp=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(gp)),t.dragCoordinates=null,t.overflowing=!1},_p=({root:e,props:t,action:n})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:n.position.scopeLeft-e.ref.list.rect.element.left,top:n.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Ep=({props:e})=>{e.dragCoordinates=null},yp=Ae({DID_DRAG:_p,DID_END_DRAG:Ep}),Ip=({root:e,props:t,actions:n})=>{if(yp({root:e,props:t,actions:n}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const r=Math.round(t.overflow);r!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=r)}},Tp=_e({create:hp,write:Ip,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Ke=(e,t,n,r="")=>{n?he(e,t,r):e.removeAttribute(t)},Sp=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=pt("form"),n=e.parentNode,r=e.nextSibling;t.appendChild(e),t.reset(),r?n.insertBefore(e,r):n.appendChild(e)}}},bp=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,he(e.element,"name",e.query("GET_NAME")),he(e.element,"aria-controls",`filepond--assistant-${t.id}`),he(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),ol({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),ll({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),ul({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),hs({root:e}),cl({root:e,action:{value:e.query("GET_REQUIRED")}}),dl({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=n=>{if(!e.element.value)return;const r=Array.from(e.element.files).map(s=>(s._relativePath=s.webkitRelativePath,s));setTimeout(()=>{t.onload(r),Sp(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},ol=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Ke(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},ll=({root:e,action:t})=>{Ke(e.element,"multiple",t.value)},ul=({root:e,action:t})=>{Ke(e.element,"webkitdirectory",t.value)},hs=({root:e})=>{const t=e.query("GET_DISABLED"),n=e.query("GET_ALLOW_BROWSE"),r=t||!n;Ke(e.element,"disabled",r)},cl=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&Ke(e.element,"required",!0):Ke(e.element,"required",!1)},dl=({root:e,action:t})=>{Ke(e.element,"capture",!!t.value,t.value===!0?"":t.value)},ha=({root:e})=>{const{element:t}=e;e.query("GET_TOTAL_ITEMS")>0?(Ke(t,"required",!1),Ke(t,"name",!1)):(Ke(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&Ke(t,"required",!0))},Rp=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},Cp=_e({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:bp,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:Ae({DID_LOAD_ITEM:ha,DID_REMOVE_ITEM:ha,DID_THROW_ITEM_INVALID:Rp,DID_SET_DISABLED:hs,DID_SET_ALLOW_BROWSE:hs,DID_SET_ALLOW_DIRECTORIES_ONLY:ul,DID_SET_ALLOW_MULTIPLE:ll,DID_SET_ACCEPTED_FILE_TYPES:ol,DID_SET_CAPTURE_METHOD:dl,DID_SET_REQUIRED:cl})}),_a={ENTER:13,SPACE:32},Op=({root:e,props:t})=>{const n=pt("label");he(n,"for",`filepond--browser-${t.id}`),he(n,"id",`filepond--drop-label-${t.id}`),he(n,"aria-hidden","true"),e.ref.handleKeyDown=r=>{(r.keyCode===_a.ENTER||r.keyCode===_a.SPACE)&&(r.preventDefault(),e.ref.label.click())},e.ref.handleClick=r=>{r.target===n||n.contains(r.target)||e.ref.label.click()},n.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),fl(n,t.caption),e.appendChild(n),e.ref.label=n},fl=(e,t)=>{e.innerHTML=t;const n=e.querySelector(".filepond--label-action");return n&&he(n,"tabindex","0"),t},Dp=_e({name:"drop-label",ignoreRect:!0,create:Op,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:Ae({DID_SET_LABEL_IDLE:({root:e,action:t})=>{fl(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Pp=_e({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),wp=({root:e})=>{const t=e.rect.element.width*.5,n=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(Pp,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:n}))},Mp=({root:e,action:t})=>{if(!e.ref.blob){wp({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},Ap=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},Lp=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},Np=({root:e,props:t,actions:n})=>{kp({root:e,props:t,actions:n});const{blob:r}=e.ref;n.length===0&&r&&r.opacity===0&&(e.removeChildView(r),e.ref.blob=null)},kp=Ae({DID_DRAG:Mp,DID_DROP:Lp,DID_END_DRAG:Ap}),xp=_e({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Np}),vl=(e,t)=>{try{const n=new DataTransfer;t.forEach(r=>{r instanceof File?n.items.add(r):n.items.add(new File([r],r.name,{type:r.type}))}),e.files=n.files}catch{return!1}return!0},Gp=({root:e})=>e.ref.fields={},Sr=(e,t)=>e.ref.fields[t],si=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},Ea=({root:e})=>si(e),Bp=({root:e,action:t})=>{const s=!(e.query("GET_ITEM",t.id).origin===Te.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),i=pt("input");i.type=s?"file":"hidden",i.name=e.query("GET_NAME"),i.disabled=e.query("GET_DISABLED"),e.ref.fields[t.id]=i,si(e)},Vp=({root:e,action:t})=>{const n=Sr(e,t.id);if(!n||(t.serverFileReference!==null&&(n.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const r=e.query("GET_ITEM",t.id);vl(n,[r.file])},$p=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const n=Sr(e,t.id);n&&vl(n,[t.file])},0)},Fp=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},Up=({root:e,action:t})=>{const n=Sr(e,t.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete e.ref.fields[t.id])},Yp=({root:e,action:t})=>{const n=Sr(e,t.id);n&&(t.value===null?n.removeAttribute("value"):n.value=t.value,si(e))},zp=Ae({DID_SET_DISABLED:Fp,DID_ADD_ITEM:Bp,DID_LOAD_ITEM:Vp,DID_REMOVE_ITEM:Up,DID_DEFINE_VALUE:Yp,DID_PREPARE_OUTPUT:$p,DID_REORDER_ITEMS:Ea,DID_SORT_ITEMS:Ea}),Hp=_e({tag:"fieldset",name:"data",create:Gp,write:zp,ignoreRect:!0}),qp=e=>"getRootNode"in e?e.getRootNode():document,jp=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Xp=["css","csv","html","txt"],Wp={zip:"zip|compressed",epub:"application/epub+zip"},pl=(e="")=>(e=e.toLowerCase(),jp.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):Xp.includes(e)?"text/"+e:Wp[e]||""),ii=e=>new Promise((t,n)=>{const r=rm(e);if(r.length&&!Qp(e))return t(r);Zp(e).then(t)}),Qp=e=>e.files?e.files.length>0:!1,Zp=e=>new Promise((t,n)=>{const r=(e.items?Array.from(e.items):[]).filter(s=>Kp(s)).map(s=>Jp(s));if(!r.length){t(e.files?Array.from(e.files):[]);return}Promise.all(r).then(s=>{const i=[];s.forEach(a=>{i.push.apply(i,a)}),t(i.filter(a=>a).map(a=>(a._relativePath||(a._relativePath=a.webkitRelativePath),a)))}).catch(console.error)}),Kp=e=>{if(ml(e)){const t=ai(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},Jp=e=>new Promise((t,n)=>{if(nm(e)){em(ai(e)).then(t).catch(n);return}t([e.getAsFile()])}),em=e=>new Promise((t,n)=>{const r=[];let s=0,i=0;const a=()=>{i===0&&s===0&&t(r)},o=l=>{s++;const u=l.createReader(),c=()=>{u.readEntries(f=>{if(f.length===0){s--,a();return}f.forEach(d=>{d.isDirectory?o(d):(i++,d.file(p=>{const v=tm(p);d.fullPath&&(v._relativePath=d.fullPath),r.push(v),i--,a()}))}),c()},n)};c()};o(e)}),tm=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,n=e.name,r=pl(Tr(e.name));return r.length&&(e=e.slice(0,e.size,r),e.name=n,e.lastModifiedDate=t),e},nm=e=>ml(e)&&(ai(e)||{}).isDirectory,ml=e=>"webkitGetAsEntry"in e,ai=e=>e.webkitGetAsEntry(),rm=e=>{let t=[];try{if(t=im(e),t.length)return t;t=sm(e)}catch{}return t},sm=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},im=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},ar=[],Nt=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),am=(e,t,n)=>{const r=om(t),s={element:e,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return s.destroy=r.addListener(s),s},om=e=>{const t=ar.find(r=>r.element===e);if(t)return t;const n=lm(e);return ar.push(n),n},lm=e=>{const t=[],n={dragenter:cm,dragover:dm,dragleave:vm,drop:fm},r={};ue(n,(i,a)=>{r[i]=a(e,t),e.addEventListener(i,r[i],!1)});const s={element:e,addListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1),t.length===0&&(ar.splice(ar.indexOf(s),1),ue(n,a=>{e.removeEventListener(a,r[a],!1)}))})};return s},um=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),oi=(e,t)=>{const n=qp(t),r=um(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)};let gl=null;const Xn=(e,t)=>{try{e.dropEffect=t}catch{}},cm=(e,t)=>n=>{n.preventDefault(),gl=n.target,t.forEach(r=>{const{element:s,onenter:i}=r;oi(n,s)&&(r.state="enter",i(Nt(n)))})},dm=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;ii(r).then(s=>{let i=!1;t.some(a=>{const{filterElement:o,element:l,onenter:u,onexit:c,ondrag:f,allowdrop:d}=a;Xn(r,"copy");const p=d(s);if(!p){Xn(r,"none");return}if(oi(n,l)){if(i=!0,a.state===null){a.state="enter",u(Nt(n));return}if(a.state="over",o&&!p){Xn(r,"none");return}f(Nt(n))}else o&&!i&&Xn(r,"none"),a.state&&(a.state=null,c(Nt(n)))})})},fm=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;ii(r).then(s=>{t.forEach(i=>{const{filterElement:a,element:o,ondrop:l,onexit:u,allowdrop:c}=i;if(i.state=null,!(a&&!oi(n,o))){if(!c(s))return u(Nt(n));l(Nt(n),s)}})})},vm=(e,t)=>n=>{gl===n.target&&t.forEach(r=>{const{onexit:s}=r;r.state=null,s(Nt(n))})},pm=(e,t,n)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:r,requiresDropOnElement:s,filterItems:i=c=>c}=n,a=am(e,r?document.documentElement:e,s);let o="",l="";a.allowdrop=c=>t(i(c)),a.ondrop=(c,f)=>{const d=i(f);if(!t(d)){u.ondragend(c);return}l="drag-drop",u.onload(d,c)},a.ondrag=c=>{u.ondrag(c)},a.onenter=c=>{l="drag-over",u.ondragstart(c)},a.onexit=c=>{l="drag-exit",u.ondragend(c)};const u={updateHopperState:()=>{o!==l&&(e.dataset.hopperState=l,o=l)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{a.destroy()}};return u};let _s=!1;const en=[],hl=e=>{const t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){let n=!1,r=t;for(;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}ii(e.clipboardData).then(n=>{n.length&&en.forEach(r=>r(n))})},mm=e=>{en.includes(e)||(en.push(e),!_s&&(_s=!0,document.addEventListener("paste",hl)))},gm=e=>{Ks(en,en.indexOf(e)),en.length===0&&(document.removeEventListener("paste",hl),_s=!1)},hm=()=>{const e=n=>{t.onload(n)},t={destroy:()=>{gm(e)},onload:()=>{}};return mm(e),t},_m=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,he(e.element,"role","status"),he(e.element,"aria-live","polite"),he(e.element,"aria-relevant","additions")};let ya=null,Ia=null;const Hr=[],br=(e,t)=>{e.element.textContent=t},Em=e=>{e.element.textContent=""},_l=(e,t,n)=>{const r=e.query("GET_TOTAL_ITEMS");br(e,`${n} ${t}, ${r} ${r===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Ia),Ia=setTimeout(()=>{Em(e)},1500)},El=e=>e.element.parentNode.contains(document.activeElement),ym=({root:e,action:t})=>{if(!El(e))return;e.element.textContent="";const n=e.query("GET_ITEM",t.id);Hr.push(n.filename),clearTimeout(ya),ya=setTimeout(()=>{_l(e,Hr.join(", "),e.query("GET_LABEL_FILE_ADDED")),Hr.length=0},750)},Im=({root:e,action:t})=>{if(!El(e))return;const n=t.item;_l(e,n.filename,e.query("GET_LABEL_FILE_REMOVED"))},Tm=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,s=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");br(e,`${r} ${s}`)},Ta=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,s=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");br(e,`${r} ${s}`)},Wn=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename;br(e,`${t.status.main} ${r} ${t.status.sub}`)},Sm=_e({create:_m,ignoreRect:!0,ignoreRectUpdate:!0,write:Ae({DID_LOAD_ITEM:ym,DID_REMOVE_ITEM:Im,DID_COMPLETE_ITEM_PROCESSING:Tm,DID_ABORT_ITEM_PROCESSING:Ta,DID_REVERT_ITEM_PROCESSING:Ta,DID_THROW_ITEM_REMOVE_ERROR:Wn,DID_THROW_ITEM_LOAD_ERROR:Wn,DID_THROW_ITEM_INVALID:Wn,DID_THROW_ITEM_PROCESSING_ERROR:Wn}),tag:"span",name:"assistant"}),yl=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),n=>n.charAt(1).toUpperCase()),Il=(e,t=16,n=!0)=>{let r=Date.now(),s=null;return(...i)=>{clearTimeout(s);const a=Date.now()-r,o=()=>{r=Date.now(),e(...i)};a<t?n||(s=setTimeout(o,t-a)):o()}},bm=1e6,or=e=>e.preventDefault(),Rm=({root:e,props:t})=>{const n=e.query("GET_ID");n&&(e.element.id=n);const r=e.query("GET_CLASS_NAME");r&&r.split(" ").filter(l=>l.length).forEach(l=>{e.element.classList.add(l)}),e.ref.label=e.appendChildView(e.createChildView(Dp,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(Tp,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(al,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Sm,{...t})),e.ref.data=e.appendChildView(e.createChildView(Hp,{...t})),e.ref.measure=pt("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(l=>!vt(l.value)).map(({name:l,value:u})=>{e.element.dataset[l]=u}),e.ref.widthPrevious=null,e.ref.widthUpdated=Il(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const s=window.matchMedia("(pointer: fine) and (hover: hover)").matches,i="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&i&&!s&&(e.element.addEventListener("touchmove",or,{passive:!1}),e.element.addEventListener("gesturestart",or));const a=e.query("GET_CREDITS");if(a.length===2){const l=document.createElement("a");l.className="filepond--credits",l.setAttribute("aria-hidden","true"),l.href=a[0],l.tabindex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=a[1],e.element.appendChild(l),e.ref.credits=l}},Cm=({root:e,props:t,actions:n})=>{if(Mm({root:e,props:t,actions:n}),n.filter(b=>/^DID_SET_STYLE_/.test(b.type)).filter(b=>!vt(b.data.value)).map(({type:b,data:C})=>{const T=yl(b.substring(8).toLowerCase(),"_");e.element.dataset[T]=C.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let r=e.ref.bounds;r||(r=e.ref.bounds=Pm(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:s,label:i,list:a,panel:o}=e.ref;s&&s.updateHopperState();const l=e.query("GET_PANEL_ASPECT_RATIO"),u=e.query("GET_ALLOW_MULTIPLE"),c=e.query("GET_TOTAL_ITEMS"),f=u?e.query("GET_MAX_FILES")||bm:1,d=c===f,p=n.find(b=>b.type==="DID_ADD_ITEM");if(d&&p){const b=p.data.interactionMethod;i.opacity=0,u?i.translateY=-40:b===ze.API?i.translateX=40:b===ze.BROWSE?i.translateY=40:i.translateY=30}else d||(i.opacity=1,i.translateX=0,i.translateY=0);const v=Om(e),m=Dm(e),E=i.rect.element.height,g=!u||d?0:E,h=d?a.rect.element.marginTop:0,y=c===0?0:a.rect.element.marginBottom,S=g+h+m.visual+y,I=g+h+m.bounds+y;if(a.translateY=Math.max(0,g-a.rect.element.marginTop)-v.top,l){const b=e.rect.element.width,C=b*l;l!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=l,e.ref.updateHistory=[]);const T=e.ref.updateHistory;T.push(b);const R=2;if(T.length>R*2){const M=T.length,O=M-10;let F=0;for(let P=M;P>=O;P--)if(T[P]===T[P-2]&&F++,F>=R)return}o.scalable=!1,o.height=C;const k=C-g-(y-v.bottom)-(d?h:0);m.visual>k?a.overflow=k:a.overflow=null,e.height=C}else if(r.fixedHeight){o.scalable=!1;const b=r.fixedHeight-g-(y-v.bottom)-(d?h:0);m.visual>b?a.overflow=b:a.overflow=null}else if(r.cappedHeight){const b=S>=r.cappedHeight,C=Math.min(r.cappedHeight,S);o.scalable=!0,o.height=b?C:C-v.top-v.bottom;const T=C-g-(y-v.bottom)-(d?h:0);S>r.cappedHeight&&m.visual>T?a.overflow=T:a.overflow=null,e.height=Math.min(r.cappedHeight,I-v.top-v.bottom)}else{const b=c>0?v.top+v.bottom:0;o.scalable=!0,o.height=Math.max(E,S-b),e.height=Math.max(E,I-b)}e.ref.credits&&o.heightCurrent&&(e.ref.credits.style.transform=`translateY(${o.heightCurrent}px)`)},Om=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Dm=e=>{let t=0,n=0;const r=e.ref.list,s=r.childViews[0],i=s.childViews.filter(h=>h.rect.element.height),a=e.query("GET_ACTIVE_ITEMS").map(h=>i.find(y=>y.id===h.id)).filter(h=>h);if(a.length===0)return{visual:t,bounds:n};const o=s.rect.element.width,l=ri(s,a,r.dragCoordinates),u=a[0].rect.element,c=u.marginTop+u.marginBottom,f=u.marginLeft+u.marginRight,d=u.width+f,p=u.height+c,v=typeof l<"u"&&l>=0?1:0,m=a.find(h=>h.markedForRemoval&&h.opacity<.45)?-1:0,E=a.length+v+m,g=ni(o,d);return g===1?a.forEach(h=>{const y=h.rect.element.height+c;n+=y,t+=y*h.opacity}):(n=Math.ceil(E/g)*p,t=n),{visual:t,bounds:n}},Pm=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},li=(e,t)=>{const n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),s=e.query("GET_TOTAL_ITEMS");let i=e.query("GET_MAX_FILES");const a=t.length;return!r&&a>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:de("warning",0,"Max files")}),!0):(i=r?i:1,!r&&n?!1:dn(i)&&s+a>i?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:de("warning",0,"Max files")}),!0):!1)},wm=(e,t,n)=>{const r=e.childViews[0];return ri(r,t,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Sa=e=>{const t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),r=t&&!n;if(r&&!e.ref.hopper){const s=pm(e.element,i=>{const a=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?i.every(l=>Yt("ALLOW_HOPPER_ITEM",l,{query:e.query}).every(u=>u===!0)&&a(l)):!0},{filterItems:i=>{const a=e.query("GET_IGNORED_FILES");return i.filter(o=>rn(o)?!a.includes(o.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});s.onload=(i,a)=>{const l=e.ref.list.childViews[0].childViews.filter(c=>c.rect.element.height),u=e.query("GET_ACTIVE_ITEMS").map(c=>l.find(f=>f.id===c.id)).filter(c=>c);We("ADD_ITEMS",i,{dispatch:e.dispatch}).then(c=>{if(li(e,c))return!1;e.dispatch("ADD_ITEMS",{items:c,index:wm(e.ref.list,u,a),interactionMethod:ze.DROP})}),e.dispatch("DID_DROP",{position:a}),e.dispatch("DID_END_DRAG",{position:a})},s.ondragstart=i=>{e.dispatch("DID_START_DRAG",{position:i})},s.ondrag=Il(i=>{e.dispatch("DID_DRAG",{position:i})}),s.ondragend=i=>{e.dispatch("DID_END_DRAG",{position:i})},e.ref.hopper=s,e.ref.drip=e.appendChildView(e.createChildView(xp))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},ba=(e,t)=>{const n=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),s=n&&!r;s&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Cp,{...t,onload:i=>{We("ADD_ITEMS",i,{dispatch:e.dispatch}).then(a=>{if(li(e,a))return!1;e.dispatch("ADD_ITEMS",{items:a,index:-1,interactionMethod:ze.BROWSE})})}}),0):!s&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Ra=e=>{const t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),r=t&&!n;r&&!e.ref.paster?(e.ref.paster=hm(),e.ref.paster.onload=s=>{We("ADD_ITEMS",s,{dispatch:e.dispatch}).then(i=>{if(li(e,i))return!1;e.dispatch("ADD_ITEMS",{items:i,index:-1,interactionMethod:ze.PASTE})})}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},Mm=Ae({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{ba(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{Sa(e)},DID_SET_ALLOW_PASTE:({root:e})=>{Ra(e)},DID_SET_DISABLED:({root:e,props:t})=>{Sa(e),Ra(e),ba(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),Am=_e({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:Rm,write:Cm,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",or),e.element.removeEventListener("gesturestart",or)},mixins:{styles:["height"]}}),Lm=(e={})=>{let t=null;const n=ir(),r=Xd(Nf(n),[Jf,Gf(n)],[bv,xf(n)]);r.dispatch("SET_OPTIONS",{options:e});const s=()=>{document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",s);let i=null,a=!1,o=!1,l=null,u=null;const c=()=>{a||(a=!0),clearTimeout(i),i=setTimeout(()=>{a=!1,l=null,u=null,o&&(o=!1,r.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",c);const f=Am(r,{id:Zs()});let d=!1,p=!1;const v={_read:()=>{a&&(u=window.innerWidth,l||(l=u),!o&&u!==l&&(r.dispatch("DID_START_RESIZE"),o=!0)),p&&d&&(d=f.element.offsetParent===null),!d&&(f._read(),p=f.rect.element.hidden)},_write:D=>{const L=r.processActionQueue().filter(G=>!/^SET_/.test(G.type));d&&!L.length||(h(L),d=f._write(D,L,o),$f(r.query("GET_ITEMS")),d&&r.processDispatchQueue())}},m=D=>L=>{const G={type:D};if(!L)return G;if(L.hasOwnProperty("error")&&(G.error=L.error?{...L.error}:null),L.status&&(G.status={...L.status}),L.file&&(G.output=L.file),L.source)G.file=L.source;else if(L.item||L.id){const B=L.item?L.item:r.query("GET_ITEM",L.id);G.file=B?ke(B):null}return L.items&&(G.items=L.items.map(ke)),/progress/.test(D)&&(G.progress=L.progress),L.hasOwnProperty("origin")&&L.hasOwnProperty("target")&&(G.origin=L.origin,G.target=L.target),G},E={DID_DESTROY:m("destroy"),DID_INIT:m("init"),DID_THROW_MAX_FILES:m("warning"),DID_INIT_ITEM:m("initfile"),DID_START_ITEM_LOAD:m("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:m("addfileprogress"),DID_LOAD_ITEM:m("addfile"),DID_THROW_ITEM_INVALID:[m("error"),m("addfile")],DID_THROW_ITEM_LOAD_ERROR:[m("error"),m("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[m("error"),m("removefile")],DID_PREPARE_OUTPUT:m("preparefile"),DID_START_ITEM_PROCESSING:m("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:m("processfileprogress"),DID_ABORT_ITEM_PROCESSING:m("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:m("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:m("processfiles"),DID_REVERT_ITEM_PROCESSING:m("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[m("error"),m("processfile")],DID_REMOVE_ITEM:m("removefile"),DID_UPDATE_ITEMS:m("updatefiles"),DID_ACTIVATE_ITEM:m("activatefile"),DID_REORDER_ITEMS:m("reorderfiles")},g=D=>{const L={pond:Y,...D};delete L.type,f.element.dispatchEvent(new CustomEvent(`FilePond:${D.type}`,{detail:L,bubbles:!0,cancelable:!0,composed:!0}));const G=[];D.hasOwnProperty("error")&&G.push(D.error),D.hasOwnProperty("file")&&G.push(D.file);const B=["type","error","file"];Object.keys(D).filter(W=>!B.includes(W)).forEach(W=>G.push(D[W])),Y.fire(D.type,...G);const z=r.query(`GET_ON${D.type.toUpperCase()}`);z&&z(...G)},h=D=>{D.length&&D.filter(L=>E[L.type]).forEach(L=>{const G=E[L.type];(Array.isArray(G)?G:[G]).forEach(B=>{L.type==="DID_INIT_ITEM"?g(B(L.data)):setTimeout(()=>{g(B(L.data))},0)})})},y=D=>r.dispatch("SET_OPTIONS",{options:D}),S=D=>r.query("GET_ACTIVE_ITEM",D),I=D=>new Promise((L,G)=>{r.dispatch("REQUEST_ITEM_PREPARE",{query:D,success:B=>{L(B)},failure:B=>{G(B)}})}),b=(D,L={})=>new Promise((G,B)=>{R([{source:D,options:L}],{index:L.index}).then(z=>G(z&&z[0])).catch(B)}),C=D=>D.file&&D.id,T=(D,L)=>(typeof D=="object"&&!C(D)&&!L&&(L=D,D=void 0),r.dispatch("REMOVE_ITEM",{...L,query:D}),r.query("GET_ACTIVE_ITEM",D)===null),R=(...D)=>new Promise((L,G)=>{const B=[],z={};if(_r(D[0]))B.push.apply(B,D[0]),Object.assign(z,D[1]||{});else{const W=D[D.length-1];typeof W=="object"&&!(W instanceof Blob)&&Object.assign(z,D.pop()),B.push(...D)}r.dispatch("ADD_ITEMS",{items:B,index:z.index,interactionMethod:ze.API,success:L,failure:G})}),k=()=>r.query("GET_ACTIVE_ITEMS"),M=D=>new Promise((L,G)=>{r.dispatch("REQUEST_ITEM_PROCESSING",{query:D,success:B=>{L(B)},failure:B=>{G(B)}})}),O=(...D)=>{const L=Array.isArray(D[0])?D[0]:D,G=L.length?L:k();return Promise.all(G.map(I))},F=(...D)=>{const L=Array.isArray(D[0])?D[0]:D;if(!L.length){const G=k().filter(B=>!(B.status===q.IDLE&&B.origin===Te.LOCAL)&&B.status!==q.PROCESSING&&B.status!==q.PROCESSING_COMPLETE&&B.status!==q.PROCESSING_REVERT_ERROR);return Promise.all(G.map(M))}return Promise.all(L.map(M))},P=(...D)=>{const L=Array.isArray(D[0])?D[0]:D;let G;typeof L[L.length-1]=="object"?G=L.pop():Array.isArray(D[0])&&(G=D[1]);const B=k();return L.length?L.map(W=>Dt(W)?B[W]?B[W].id:null:W).filter(W=>W).map(W=>T(W,G)):Promise.all(B.map(W=>T(W,G)))},Y={...Ir(),...v,...kf(r,n),setOptions:y,addFile:b,addFiles:R,getFile:S,processFile:M,prepareFile:I,removeFile:T,moveFile:(D,L)=>r.dispatch("MOVE_ITEM",{query:D,index:L}),getFiles:k,processFiles:F,removeFiles:P,prepareFiles:O,sort:D=>r.dispatch("SORT",{compare:D}),browse:()=>{var D=f.element.querySelector("input[type=file]");D&&D.click()},destroy:()=>{Y.fire("destroy",f.element),r.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",s),r.dispatch("DID_DESTROY")},insertBefore:D=>Xi(f.element,D),insertAfter:D=>Wi(f.element,D),appendTo:D=>D.appendChild(f.element),replaceElement:D=>{Xi(f.element,D),D.parentNode.removeChild(D),t=D},restoreElement:()=>{t&&(Wi(t,f.element),f.element.parentNode.removeChild(f.element),t=null)},isAttachedTo:D=>f.element===D||t===D,element:{get:()=>f.element},status:{get:()=>r.query("GET_STATUS")}};return r.dispatch("DID_INIT"),It(Y)},Tl=(e={})=>{const t={};return ue(ir(),(r,s)=>{t[r]=s[0]}),Lm({...t,...e})},Nm=e=>e.charAt(0).toLowerCase()+e.slice(1),km=e=>yl(e.replace(/^data-/,"")),Sl=(e,t)=>{ue(t,(n,r)=>{ue(e,(s,i)=>{const a=new RegExp(n);if(!a.test(s)||(delete e[s],r===!1))return;if(Me(r)){e[r]=i;return}const l=r.group;be(r)&&!e[l]&&(e[l]={}),e[l][Nm(s.replace(a,""))]=i}),r.mapping&&Sl(e[r.group],r.mapping)})},xm=(e,t={})=>{const n=[];ue(e.attributes,s=>{n.push(e.attributes[s])});const r=n.filter(s=>s.name).reduce((s,i)=>{const a=he(e,i.name);return s[km(i.name)]=a===i.name?!0:a,s},{});return Sl(r,t),r},Gm=(e,t={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Yt("SET_ATTRIBUTE_TO_OPTION_MAP",n);const r={...t},s=xm(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,n);Object.keys(s).forEach(a=>{be(s[a])?(be(r[a])||(r[a]={}),Object.assign(r[a],s[a])):r[a]=s[a]}),r.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(a=>({source:a.value,options:{type:a.dataset.type}})));const i=Tl(r);return e.files&&Array.from(e.files).forEach(a=>{i.addFile(a)}),i.replaceElement(e),i},Bm=(...e)=>jd(e[0])?Gm(...e):Tl(...e),Vm=["fire","_read","_write"],Ca=e=>{const t={};return Ho(e,t,Vm),t},$m=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(n,r)=>t[r]),Fm=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return{transfer:(s,i)=>{},post:(s,i,a)=>{const o=Zs();r.onmessage=l=>{l.data.id===o&&i(l.data.message)},r.postMessage({id:o,message:s},a)},terminate:()=>{r.terminate(),URL.revokeObjectURL(n)}}},Um=e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>{t(r)},r.onerror=s=>{n(s)},r.src=e}),bl=(e,t)=>{const n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},Ym=e=>bl(e,e.name),Oa=[],zm=e=>{if(Oa.includes(e))return;Oa.push(e);const t=e({addFilter:Uf,utils:{Type:w,forin:ue,isString:Me,isFile:rn,toNaturalFileSize:rl,replaceInString:$m,getExtensionFromFilename:Tr,getFilenameWithoutExtension:el,guesstimateMimeType:pl,getFileFromBlob:nn,getFilenameFromURL:Gn,createRoute:Ae,createWorker:Fm,createView:_e,createItemAPI:ke,loadImage:Um,copyFile:Ym,renameFile:bl,createBlob:Zo,applyFilterChain:We,text:fe,getNumericAspectRatioFromString:Xo},views:{fileActionButton:nl}});Yf(t.options)},Hm=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",qm=()=>"Promise"in window,jm=()=>"slice"in Blob.prototype,Xm=()=>"URL"in window&&"createObjectURL"in window.URL,Wm=()=>"visibilityState"in document,Qm=()=>"performance"in window,Zm=()=>"supports"in(window.CSS||{}),Km=()=>/MSIE|Trident/.test(window.navigator.userAgent),Es=(()=>{const e=Vo()&&!Hm()&&Wm()&&qm()&&jm()&&Xm()&&Qm()&&(Zm()||Km());return()=>e})(),Et={apps:[]},Jm="filepond",zt=()=>{};let lr={},Kn=zt,qr=zt,Da=zt,Pa=zt,ys=zt,wa=zt,Ma=zt;if(Es()){yf(()=>{Et.apps.forEach(n=>n._read())},n=>{Et.apps.forEach(r=>r._write(n))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Es,create:Kn,destroy:qr,parse:Da,find:Pa,registerPlugin:ys,setOptions:Ma}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>ue(ir(),(n,r)=>{lr[n]=r[1]});lr={},t(),Kn=(...n)=>{const r=Bm(...n);return r.on("destroy",qr),Et.apps.push(r),Ca(r)},qr=n=>{const r=Et.apps.findIndex(s=>s.isAttachedTo(n));return r>=0?(Et.apps.splice(r,1)[0].restoreElement(),!0):!1},Da=n=>Array.from(n.querySelectorAll(`.${Jm}`)).filter(i=>!Et.apps.find(a=>a.isAttachedTo(i))).map(i=>Kn(i)),Pa=n=>{const r=Et.apps.find(s=>s.isAttachedTo(n));return r?Ca(r):null},ys=(...n)=>{n.forEach(zm),t()},wa=()=>{const n={};return ue(ir(),(r,s)=>{n[r]=s[0]}),n},Ma=n=>(be(n)&&(Et.apps.forEach(r=>{r.setOptions(n)}),zf(n)),wa())}/*!
 * vue-filepond v7.0.4
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2023 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const eg=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],tg=Es(),ng=e=>({string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object})[e],Qn={},jr=[],Xr=[];let rg={};const sg=(...e)=>{ys(...e),jr.length=0;for(const t in lr){if(/^on/.test(t)){jr.push(t);continue}let n=[String,ng(lr[t])];t=="labelFileProcessingError"&&n.push(Function),Qn[t]={type:n,default:void 0}}return{name:"FilePond",props:Qn,render(){const t=Object.entries({id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}).reduce((n,[r,s])=>(s!==void 0&&(n[r]=s),n),{});return rt("div",{class:{"filepond--wrapper":!0}},[rt("input",t)])},created(){this.watchers=Object.keys(Qn).map(t=>this.$watch(t,n=>{this._pond&&(this._pond[t]=n)}))},mounted(){if(!tg)return;this._element=this.$el.querySelector("input");const t=jr.reduce((r,s)=>(r[s]=(...i)=>{this.$emit("input",this._pond?this._pond.getFiles():[]),this.$emit(s.substr(2),...i)},r),{}),n={};Object.keys(Qn).forEach(r=>{this[r]!==void 0&&(n[r]=this[r])}),this._pond=Kn(this._element,Object.assign({},rg,t,n)),Object.keys(this._pond).filter(r=>!eg.includes(r)).forEach(r=>{this[r]=this._pond[r]}),Xr.push(this._pond)},beforeUnmount(){const{detached:t}=this.$options;if(!this.$el.offsetParent){t.call(this);return}const n=(s,i)=>{const o=((s[0]||{}).removedNodes||[])[0];!o||!o.contains(this.$el)||(i.disconnect(),t.call(this))};new MutationObserver(n).observe(document.documentElement,{childList:!0,subtree:!0})},detached(){if(this.watchers.forEach(n=>n()),!this._pond)return;this._pond.destroy();const t=Xr.indexOf(this._pond);t>=0&&Xr.splice(t,1),this._pond=null}}},Rl=ne({divided:Boolean,...An(),...Ce(),...Ln(),...un(),...$t(),...at(),...St(),...Ps()},"VBtnGroup"),Aa=ve()({name:"VBtnGroup",props:Rl(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Bt(e),{densityClasses:s}=fr(e),{borderClasses:i}=Nn(e),{elevationClasses:a}=cn(e),{roundedClasses:o}=Ft(e);bs({VBtn:{height:"auto",color:ge(e,"color"),density:ge(e,"density"),flat:!0,variant:ge(e,"variant")}}),Ie(()=>_(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,i.value,s.value,a.value,o.value,e.class],style:e.style},n))}}),ig=ne({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),ag=ne({value:null,disabled:Boolean,selectedClass:String},"group-item");function og(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Ba("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=Rs();Ue(Symbol.for(`${t.description}:id`),s);const i=Ze(t,null);if(!i){if(!n)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const a=ge(e,"value"),o=N(()=>!!(i.disabled.value||e.disabled));i.register({id:s,value:a,disabled:o},r),sn(()=>{i.unregister(s)});const l=N(()=>i.isSelected(s)),u=N(()=>l.value&&[i.selectedClass.value,e.selectedClass]);return Re(l,c=>{r.emit("group:selected",{value:c})}),{id:s,isSelected:l,toggle:()=>i.select(s,!l.value),select:c=>i.select(s,c),selectedClass:u,value:a,disabled:o,group:i}}function lg(e,t){let n=!1;const r=Jt([]),s=Vt(e,"modelValue",[],d=>d==null?[]:Cl(r,En(d)),d=>{const p=cg(r,d);return e.multiple?p:p[0]}),i=Ba("useGroup");function a(d,p){const v=d,m=Symbol.for(`${t.description}:id`),g=Ql(m,i==null?void 0:i.vnode).indexOf(p);g>-1?r.splice(g,0,v):r.push(v)}function o(d){if(n)return;l();const p=r.findIndex(v=>v.id===d);r.splice(p,1)}function l(){const d=r.find(p=>!p.disabled);d&&e.mandatory==="force"&&!s.value.length&&(s.value=[d.id])}an(()=>{l()}),sn(()=>{n=!0});function u(d,p){const v=r.find(m=>m.id===d);if(!(p&&(v!=null&&v.disabled)))if(e.multiple){const m=s.value.slice(),E=m.findIndex(h=>h===d),g=~E;if(p=p??!g,g&&e.mandatory&&m.length<=1||!g&&e.max!=null&&m.length+1>e.max)return;E<0&&p?m.push(d):E>=0&&!p&&m.splice(E,1),s.value=m}else{const m=s.value.includes(d);if(e.mandatory&&m)return;s.value=p??!m?[d]:[]}}function c(d){if(e.multiple,s.value.length){const p=s.value[0],v=r.findIndex(g=>g.id===p);let m=(v+d)%r.length,E=r[m];for(;E.disabled&&m!==v;)m=(m+d)%r.length,E=r[m];if(E.disabled)return;s.value=[r[m].id]}else{const p=r.find(v=>!v.disabled);p&&(s.value=[p.id])}}const f={register:a,unregister:o,selected:s,select:u,disabled:ge(e,"disabled"),prev:()=>c(r.length-1),next:()=>c(1),isSelected:d=>s.value.includes(d),selectedClass:N(()=>e.selectedClass),items:N(()=>r),getItemIndex:d=>ug(r,d)};return Ue(t,f),f}function ug(e,t){const n=Cl(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function Cl(e,t){const n=[];return t.forEach(r=>{const s=e.find(a=>Wl(r,a.value)),i=e[r];(s==null?void 0:s.value)!=null?n.push(s.id):i!=null&&n.push(i.id)}),n}function cg(e,t){const n=[];return t.forEach(r=>{const s=e.findIndex(i=>i.id===r);if(~s){const i=e[s];n.push(i.value!=null?i.value:s)}}),n}const Ol=Symbol.for("vuetify:v-btn-toggle"),dg=ne({...Rl(),...ig()},"VBtnToggle");ve()({name:"VBtnToggle",props:dg(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:s,prev:i,select:a,selected:o}=lg(e,Ol);return Ie(()=>{const l=Aa.filterProps(e);return _(Aa,tn({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,next:s,prev:i,select:a,selected:o})]}})}),{next:s,prev:i,select:a}}});function Dl(e,t){const n=Q(),r=Je(!1);if(Zl){const s=new IntersectionObserver(i=>{e==null||e(i,s),r.value=!!i.find(a=>a.isIntersecting)},t);sn(()=>{s.disconnect()}),Re(n,(i,a)=>{a&&(s.unobserve(a),r.value=!1),i&&s.observe(i)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const fg=ne({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ce(),...qa(),...at({tag:"div"}),...St()},"VProgressCircular"),vg=ve()({name:"VProgressCircular",props:fg(),setup(e,t){let{slots:n}=t;const r=20,s=2*Math.PI*r,i=Q(),{themeClasses:a}=Bt(e),{sizeClasses:o,sizeStyles:l}=ja(e),{textColorClasses:u,textColorStyles:c}=On(ge(e,"color")),{textColorClasses:f,textColorStyles:d}=On(ge(e,"bgColor")),{intersectionRef:p,isIntersecting:v}=Dl(),{resizeRef:m,contentRect:E}=Kl(),g=N(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),h=N(()=>Number(e.width)),y=N(()=>l.value?Number(e.size):E.value?E.value.width:Math.max(h.value,32)),S=N(()=>r/(1-h.value/y.value)*2),I=N(()=>h.value/y.value*S.value),b=N(()=>Se((100-g.value)/100*s));return Jl(()=>{p.value=i.value,m.value=i.value}),Ie(()=>_(e.tag,{ref:i,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":v.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},a.value,o.value,u.value,e.class],style:[l.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:g.value},{default:()=>[_("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${S.value} ${S.value}`},[_("circle",{class:["v-progress-circular__underlay",f.value],style:d.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":I.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),_("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":I.value,"stroke-dasharray":s,"stroke-dashoffset":b.value},null)]),n.default&&_("div",{class:"v-progress-circular__content"},[n.default({value:g.value})])]})),{}}}),pg=ne({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ce(),...vr({location:"top"}),...$t(),...at(),...St()},"VProgressLinear"),mg=ve()({name:"VProgressLinear",props:pg(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Vt(e,"modelValue"),{isRtl:s,rtlClasses:i}=on(),{themeClasses:a}=Bt(e),{locationStyles:o}=pr(e),{textColorClasses:l,textColorStyles:u}=On(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:f}=xt(N(()=>e.bgColor||e.color)),{backgroundColorClasses:d,backgroundColorStyles:p}=xt(e,"color"),{roundedClasses:v}=Ft(e),{intersectionRef:m,isIntersecting:E}=Dl(),g=N(()=>parseInt(e.max,10)),h=N(()=>parseInt(e.height,10)),y=N(()=>parseFloat(e.bufferValue)/g.value*100),S=N(()=>parseFloat(r.value)/g.value*100),I=N(()=>s.value!==e.reverse),b=N(()=>e.indeterminate?"fade-transition":"slide-x-transition"),C=N(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function T(R){if(!m.value)return;const{left:k,right:M,width:O}=m.value.getBoundingClientRect(),F=I.value?O-R.clientX+(M-O):R.clientX-k;r.value=Math.round(F/O*g.value)}return Ie(()=>_(e.tag,{ref:m,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&E.value,"v-progress-linear--reverse":I.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},v.value,a.value,i.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Se(h.value):0,"--v-progress-linear-height":Se(h.value),...o.value},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:S.value,onClick:e.clickable&&T},{default:()=>[e.stream&&_("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[I.value?"left":"right"]:Se(-h.value),borderTop:`${Se(h.value/2)} dotted`,opacity:C.value,top:`calc(50% - ${Se(h.value/4)})`,width:Se(100-y.value,"%"),"--v-progress-linear-stream-to":Se(h.value*(I.value?1:-1))}},null),_("div",{class:["v-progress-linear__background",c.value],style:[f.value,{opacity:C.value,width:Se(e.stream?y.value:100,"%")}]},null),_(Va,{name:b.value},{default:()=>[e.indeterminate?_("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(R=>_("div",{key:R,class:["v-progress-linear__indeterminate",R,d.value],style:p.value},null))]):_("div",{class:["v-progress-linear__determinate",d.value],style:[p.value,{width:Se(S.value,"%")}]},null)]}),n.default&&_("div",{class:"v-progress-linear__content"},[n.default({value:S.value,buffer:y.value})])]})),{}}}),Pl=ne({loading:[Boolean,String]},"loader");function wl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cr();return{loaderClasses:N(()=>({[`${t}--loading`]:e.loading}))}}function gg(e,t){var r;let{slots:n}=t;return _("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||_(mg,{active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const hg=["static","relative","fixed","absolute","sticky"],ui=ne({position:{type:String,validator:e=>hg.includes(e)}},"position");function ci(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cr();return{positionClasses:N(()=>e.position?`${t}--${e.position}`:void 0)}}function _g(e,t){Re(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&Mn(()=>{t(!0)})},{immediate:!0})}const Eg=ne({active:{type:Boolean,default:void 0},symbol:{type:null,default:Ol},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Tt,appendIcon:Tt,block:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...An(),...Ce(),...Ln(),...ws(),...un(),...ag(),...Pl(),...vr(),...ui(),...$t(),...Xa(),...qa(),...at({tag:"button"}),...St(),...Ps({variant:"elevated"})},"VBtn"),Ml=ve()({name:"VBtn",directives:{Ripple:Ms},props:Eg(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Bt(e),{borderClasses:i}=Nn(e),{colorClasses:a,colorStyles:o,variantClasses:l}=Wa(e),{densityClasses:u}=fr(e),{dimensionStyles:c}=As(e),{elevationClasses:f}=cn(e),{loaderClasses:d}=wl(e),{locationStyles:p}=pr(e),{positionClasses:v}=ci(e),{roundedClasses:m}=Ft(e),{sizeClasses:E,sizeStyles:g}=ja(e),h=og(e,e.symbol,!1),y=Qa(e,n),S=N(()=>{var R;return e.active!==void 0?e.active:y.isLink.value?(R=y.isActive)==null?void 0:R.value:h==null?void 0:h.isSelected.value}),I=N(()=>(h==null?void 0:h.disabled.value)||e.disabled),b=N(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),C=N(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function T(R){var k;I.value||y.isLink.value&&(R.metaKey||R.ctrlKey||R.shiftKey||R.button!==0||n.target==="_blank")||((k=y.navigate)==null||k.call(y,R),h==null||h.toggle())}return _g(y,h==null?void 0:h.select),Ie(()=>{var P,Y;const R=y.isLink.value?"a":e.tag,k=!!(e.prependIcon||r.prepend),M=!!(e.appendIcon||r.append),O=!!(e.icon&&e.icon!==!0),F=(h==null?void 0:h.isSelected.value)&&(!y.isLink.value||((P=y.isActive)==null?void 0:P.value))||!h||((Y=y.isActive)==null?void 0:Y.value);return Jn(_(R,{type:R==="a"?void 0:"button",class:["v-btn",h==null?void 0:h.selectedClass.value,{"v-btn--active":S.value,"v-btn--block":e.block,"v-btn--disabled":I.value,"v-btn--elevated":b.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},s.value,i.value,F?a.value:void 0,u.value,f.value,d.value,v.value,m.value,E.value,l.value,e.class],style:[F?o.value:void 0,c.value,p.value,g.value,e.style],disabled:I.value||void 0,href:y.href.value,onClick:T,value:C.value},{default:()=>{var D;return[Za(!0,"v-btn"),!e.icon&&k&&_("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?_(Mt,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):_(He,{key:"prepend-icon",icon:e.prependIcon},null)]),_("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&O?_(He,{key:"content-icon",icon:e.icon},null):_(Mt,{key:"content-defaults",disabled:!O,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var L;return[((L=r.default)==null?void 0:L.call(r))??e.text]}})]),!e.icon&&M&&_("span",{key:"append",class:"v-btn__append"},[r.append?_(Mt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):_(He,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&_("span",{key:"loader",class:"v-btn__loader"},[((D=r.loader)==null?void 0:D.call(r))??_(vg,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[Cs("ripple"),!I.value&&e.ripple,null]])}),{}}}),yg='<svg class="mb-3" height="77" role="img" viewBox="0 0 97.6 77.3" width="96"><path d="M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z" fill="currentColor"></path><path d="M84.7 18.4 58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z" fill="currentColor"></path><path d="M78.2 41.6 61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z" fill="currentColor"></path></svg>Drag photos and videos here<br /><div class="v-btn bg-primary mt-5 px-3 py-2 filepond--label-action">Select from computer</div>',Al=j({__name:"MediaDropzone",emits:["add"],setup(e,{emit:t}){const n=Os(),r=sg(),s=N(()=>n.user),i=t,a=Q([]);function o(l){i("add",l.source),s.value.media.addMedia({file:l.source},"posts","unshift"),s.value.save()}return(l,u)=>(A(),$(Z(r),{name:"test",class:"ig-dropzone","drop-on-element":!1,"drop-on-page":!0,"allow-multiple":"","label-idle":yg,credits:"","accepted-file-types":"image/jpeg, image/jpg, image/png, image/mp4",files:Z(a),onInitfile:o},{default:V(()=>[_(Ml,{class:"d-none"})]),_:1},8,["files"]))}}),Ig=j({__name:"MediaContextMenuRemove",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t;async function s(){await n.media.remove(),r("close")}return(i,a)=>(A(),$(Pe,{onClick:s,class:"text-red"},{default:V(()=>[_(et,null,{default:V(()=>[ae("Remove")]),_:1})]),_:1}))}}),Tg=j({__name:"MediaContextMenuConvertToIframe",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function r(){const s=window.prompt("URL of the iframe","https://");s&&(n.media.convertToIframe(s),n.media.user.save())}return(s,i)=>(A(),$(Pe,{onClick:r},{default:V(()=>[_(et,null,{default:V(()=>[ae("Convert to iframe")]),_:1})]),_:1}))}}),Sg=j({__name:"MediaContextMenuConvertToAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function r(){n.media.convertToAlbum(),n.media.user.save()}return(s,i)=>(A(),$(Pe,{onClick:r},{default:V(()=>[_(et,null,{default:V(()=>[ae("Convert to album")]),_:1})]),_:1}))}});function bg(e){return eu()?(tu(e),!0):!1}function Rg(){const e=new Set,t=s=>{e.delete(s)};return{on:s=>{e.add(s);const i=()=>t(s);return bg(i),{off:i}},off:t,trigger:s=>Promise.all(Array.from(e).map(i=>s?i(s):i()))}}const Cg=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Og=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Dg=Cg?window.document:void 0,Pg={multiple:!0,accept:"*",reset:!1,directory:!1};function Rr(e={}){const{document:t=Dg}=e,n=Q(null),{on:r,trigger:s}=Rg();let i;t&&(i=t.createElement("input"),i.type="file",i.onchange=l=>{const u=l.target;n.value=u.files,s(n.value)});const a=()=>{n.value=null,i&&(i.value="")},o=l=>{if(!i)return;const u={...Pg,...e,...l};i.multiple=u.multiple,i.accept=u.accept,i.webkitdirectory=u.directory,Og(u,"capture")&&(i.capture=u.capture),u.reset&&a(),i.click()};return{files:nu(n),open:o,reset:a,onChange:r}}const wg=j({__name:"MediaContextMenuReplaceMedia",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{open:s,onChange:i}=Rr({accept:"image/*",multiple:!1});return i(a=>{if(!a)return;const o=a[0];n.media.setMediaImage(o),n.media.refresh(),n.media.save(),r("close")}),(a,o)=>(A(),$(Pe,{onClick:Z(s)},{default:V(()=>[_(et,null,{default:V(()=>[ae("Replace media")]),_:1})]),_:1},8,["onClick"]))}}),Mg=j({__name:"MediaContextMenuRemoveCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t;function s(){n.media.removeCover(),n.media.refresh(),n.media.save(),r("close")}return(i,a)=>(A(),$(Pe,{onClick:s},{default:V(()=>[_(et,null,{default:V(()=>[ae("Remove cover")]),_:1})]),_:1}))}}),Ag=j({__name:"MediaContextMenuReplaceCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{files:s,open:i,reset:a,onChange:o}=Rr({accept:"image/*",multiple:!1});return o(l=>{if(!l)return;const u=l[0];n.media.setCover(u),n.media.refresh(),n.media.save(),r("close")}),(l,u)=>(A(),$(Pe,{onClick:Z(i)},{default:V(()=>[_(et,null,{default:V(()=>[ae("Replace cover")]),_:1})]),_:1},8,["onClick"]))}}),Lg=j({__name:"MediaContextMenuAddCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{files:s,open:i,reset:a,onChange:o}=Rr({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return o(l=>{if(!l)return;const u=l[0];n.media.setCover(u),n.media.save(),r("close")}),(l,u)=>(A(),$(Pe,{onClick:Z(i)},{default:V(()=>[_(et,null,{default:V(()=>[ae("Add cover")]),_:1})]),_:1},8,["onClick"]))}}),Ng=j({__name:"MediaContextMenuRemoveFromAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t;function s(){n.media.removeFromAlbum(),r("close")}return(i,a)=>(A(),$(Pe,{onClick:s},{default:V(()=>[_(et,null,{default:V(()=>[ae("Remove from album")]),_:1})]),_:1}))}}),kg=j({__name:"MediaContextMenuAddToAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{files:s,open:i,reset:a,onChange:o}=Rr({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return o(l=>{if(!l)return;const u=l[0];n.media.addToAlbum(u),r("close")}),(l,u)=>(A(),$(Pe,{onClick:Z(i)},{default:V(()=>[_(et,null,{default:V(()=>[ae("Add to album")]),_:1})]),_:1},8,["onClick"]))}}),xg=j({__name:"MediaContextMenuGroup",props:{title:{}},setup(e){return(t,n)=>(A(),$(Pe,{class:"px-0 mt-1"},{default:V(()=>[_(et,{class:"text-overline px-4",textContent:ft(t.title)},null,8,["textContent"]),_(In,{density:"compact",class:"ma-0 pa-0"},{default:V(()=>[Ds(t.$slots,"default",{},void 0,!0)]),_:3})]),_:3}))}}),Gg=oe(xg,[["__scopeId","data-v-282b1627"]]),Bg=j({__name:"MediaContextMenuCloneToReel",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function r(){n.media.cloneToReel(),n.media.user.save()}return(s,i)=>(A(),$(Pe,{onClick:r},{default:V(()=>[_(et,null,{default:V(()=>[ae("Clone to reel")]),_:1})]),_:1}))}}),Vg=j({__name:"MediaContextMenu",props:{media:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=t;function r(){n("update:modelValue",!1)}return(s,i)=>{const a=Bg,o=Gg,l=kg,u=Ng,c=Lg,f=Ag,d=Mg,p=wg,v=Sg,m=Tg,E=Ig;return A(),$(Cu,{"content-class":"ig-media__context-menu",transition:"slide-y-transition",attach:"","close-on-content-click":!1,onClick:i[0]||(i[0]=ru(()=>{},["stop"]))},{default:V(()=>[_(In,{density:"compact",class:"ma-3 py-2"},{default:V(()=>[["video","iframe"].includes(s.media.type)&&!s.media.isReel?(A(),$(o,{key:0,title:"Reel"},{default:V(()=>[["video","iframe"].includes(s.media.type)&&!s.media.isReel?(A(),$(a,{key:0,media:s.media,onClose:r},null,8,["media"])):K("",!0)]),_:1})):K("",!0),["album"].includes(s.media.type)?(A(),$(o,{key:1,title:"Album"},{default:V(()=>[_(l,{media:s.media,onClose:r},null,8,["media"]),s.media.list.length>1?(A(),$(u,{key:0,media:s.media,onClose:r},null,8,["media"])):K("",!0)]),_:1})):K("",!0),["video","iframe"].includes(s.media.type)?(A(),$(o,{key:2,title:"Cover"},{default:V(()=>[s.media.cover?K("",!0):(A(),$(c,{key:0,media:s.media,onClose:r},null,8,["media"])),s.media.cover?(A(),$(f,{key:1,media:s.media,onClose:r},null,8,["media"])):K("",!0),s.media.cover?(A(),$(d,{key:2,media:s.media,onClose:r},null,8,["media"])):K("",!0)]),_:1})):K("",!0),["image","video"].includes(s.media.type)?(A(),$(o,{key:3,title:"Media"},{default:V(()=>[_(p,{media:s.media,onClose:r},null,8,["media"]),s.media.isReel?K("",!0):(A(),$(v,{key:0,media:s.media,onClose:r},null,8,["media"])),s.media.type==="image"?(A(),$(m,{key:1,media:s.media,onClose:r},null,8,["media"])):K("",!0)]),_:1})):K("",!0),_(Ka,{class:"my-2"}),_(E,{media:s.media,onClose:r},null,8,["media"])]),_:1})]),_:1})}}}),$g={class:"ig-media__icon"},Fg=j({__name:"MediaContainer",props:{media:{},type:{},contextMenu:{type:Boolean}},setup(e){const t=Q(!1);function n(r){r.preventDefault(),t.value=!t.value}return(r,s)=>{const i=Vg;return A(),ee("div",{class:ln(["ig-media",`ig-media--${r.type}`]),onContextmenu:n},[(A(),$(kt,null,{default:V(()=>[Ds(r.$slots,"default",{},void 0,!0)]),_:3})),J("div",$g,[r.type==="album"?(A(),$(He,{key:0},{default:V(()=>[ae("mdi-folder-multiple-image")]),_:1})):K("",!0),r.type==="video"?(A(),$(He,{key:1},{default:V(()=>[ae("mdi-play")]),_:1})):K("",!0)]),r.contextMenu?(A(),$(i,{key:0,modelValue:Z(t),"onUpdate:modelValue":s[0]||(s[0]=a=>er(t)?t.value=a:null),media:r.media},null,8,["modelValue","media"])):K("",!0)],34)}}}),Cr=oe(Fg,[["__scopeId","data-v-41c95045"]]),di=j({__name:"MediaImage",props:{media:{}},async setup(e){let t,n;const r=e,s=([t,n]=$a(()=>Fa(r.media)),t=await t,n(),t);return(i,a)=>{const o=Cr;return A(),$(o,{type:"image",media:i.media},{default:V(()=>[_(Ja,{cover:"",height:"100%",src:Z(s)},null,8,["src"])]),_:1},8,["media"])}}}),Ug=["src"],Yg=j({__name:"MediaIframe",props:{media:{},reel:{type:Boolean}},setup(e){const n=Q(typeof e.media.cover!="object");return(r,s)=>{const i=di,a=Cr;return A(),$(a,{type:Z(n)?"iframe":"video",media:r.media,class:ln({"ig-media--reel":r.reel})},{default:V(()=>[Z(n)?(A(),ee("iframe",{key:1,src:r.media.href},null,8,Ug)):(A(),$(i,{key:0,media:r.media.cover,onClick:s[0]||(s[0]=o=>n.value=!0)},null,8,["media"]))]),_:1},8,["type","media","class"])}}}),Ll=oe(Yg,[["__scopeId","data-v-40b82945"]]),fi=Symbol.for("vuetify:v-slider");function zg(e,t,n){const r=n==="vertical",s=t.getBoundingClientRect(),i="touches"in e?e.touches[0]:e;return r?i.clientY-(s.top+s.height/2):i.clientX-(s.left+s.width/2)}function Hg(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const qg=ne({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...$t(),...un({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),jg=e=>{const t=N(()=>parseFloat(e.min)),n=N(()=>parseFloat(e.max)),r=N(()=>+e.step>0?parseFloat(e.step):0),s=N(()=>Math.max(Ri(r.value),Ri(t.value)));function i(a){if(a=parseFloat(a),r.value<=0)return a;const o=Ua(a,t.value,n.value),l=t.value%r.value,u=Math.round((o-l)/r.value)*r.value+l;return parseFloat(Math.min(u,n.value).toFixed(s.value))}return{min:t,max:n,step:r,decimals:s,roundValue:i}},Xg=e=>{let{props:t,steps:n,onSliderStart:r,onSliderMove:s,onSliderEnd:i,getActiveThumb:a}=e;const{isRtl:o}=on(),l=ge(t,"reverse"),u=N(()=>t.direction==="vertical"),c=N(()=>u.value!==l.value),{min:f,max:d,step:p,decimals:v,roundValue:m}=n,E=N(()=>parseInt(t.thumbSize,10)),g=N(()=>parseInt(t.tickSize,10)),h=N(()=>parseInt(t.trackSize,10)),y=N(()=>(d.value-f.value)/p.value),S=ge(t,"disabled"),I=N(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),b=N(()=>t.error||t.disabled?void 0:t.trackColor??t.color),C=N(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),T=Je(!1),R=Je(0),k=Q(),M=Q();function O(x){var se;const X=t.direction==="vertical",U=X?"top":"left",re=X?"height":"width",le=X?"clientY":"clientX",{[U]:Be,[re]:ot}=(se=k.value)==null?void 0:se.$el.getBoundingClientRect(),Ht=Hg(x,le);let H=Math.min(Math.max((Ht-Be-R.value)/ot,0),1)||0;return(X?c.value:c.value!==o.value)&&(H=1-H),m(f.value+H*(d.value-f.value))}const F=x=>{i({value:O(x)}),T.value=!1,R.value=0},P=x=>{M.value=a(x),M.value&&(M.value.focus(),T.value=!0,M.value.contains(x.target)?R.value=zg(x,M.value,t.direction):(R.value=0,s({value:O(x)})),r({value:O(x)}))},Y={passive:!0,capture:!0};function D(x){s({value:O(x)})}function L(x){x.stopPropagation(),x.preventDefault(),F(x),window.removeEventListener("mousemove",D,Y),window.removeEventListener("mouseup",L)}function G(x){var X;F(x),window.removeEventListener("touchmove",D,Y),(X=x.target)==null||X.removeEventListener("touchend",G)}function B(x){var X;P(x),window.addEventListener("touchmove",D,Y),(X=x.target)==null||X.addEventListener("touchend",G,{passive:!1})}function z(x){x.preventDefault(),P(x),window.addEventListener("mousemove",D,Y),window.addEventListener("mouseup",L,{passive:!1})}const W=x=>{const X=(x-f.value)/(d.value-f.value)*100;return Ua(isNaN(X)?0:X,0,100)},ie=ge(t,"showTicks"),Ee=N(()=>ie.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(x=>({value:x,position:W(x),label:x.toString()})):Object.keys(t.ticks).map(x=>({value:parseFloat(x),position:W(parseFloat(x)),label:t.ticks[x]})):y.value!==1/0?su(y.value+1).map(x=>{const X=f.value+x*p.value;return{value:X,position:W(X)}}):[]:[]),te=N(()=>Ee.value.some(x=>{let{label:X}=x;return!!X})),Le={activeThumbRef:M,color:ge(t,"color"),decimals:v,disabled:S,direction:ge(t,"direction"),elevation:ge(t,"elevation"),hasLabels:te,isReversed:l,indexFromEnd:c,min:f,max:d,mousePressed:T,numTicks:y,onSliderMousedown:z,onSliderTouchstart:B,parsedTicks:Ee,parseMouseMove:O,position:W,readonly:ge(t,"readonly"),rounded:ge(t,"rounded"),roundValue:m,showTicks:ie,startOffset:R,step:p,thumbSize:E,thumbColor:I,thumbLabel:ge(t,"thumbLabel"),ticks:ge(t,"ticks"),tickSize:g,trackColor:b,trackContainerRef:k,trackFillColor:C,trackSize:h,vertical:u};return Ue(fi,Le),Le},Wg=ne({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...Ce()},"VSliderThumb"),Qg=ve()({name:"VSliderThumb",directives:{Ripple:Ms},props:Wg(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=Ze(fi),{isRtl:i,rtlClasses:a}=on();if(!s)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:l,disabled:u,thumbSize:c,thumbLabel:f,direction:d,isReversed:p,vertical:v,readonly:m,elevation:E,mousePressed:g,decimals:h,indexFromEnd:y}=s,{textColorClasses:S,textColorStyles:I}=On(o),{pageup:b,pagedown:C,end:T,home:R,left:k,right:M,down:O,up:F}=au,P=[b,C,T,R,k,M,O,F],Y=N(()=>l.value?[1,2,3]:[1,5,10]);function D(G,B){if(!P.includes(G.key))return;G.preventDefault();const z=l.value||.1,W=(e.max-e.min)/z;if([k,M,O,F].includes(G.key)){const Ee=(v.value?[i.value?k:M,p.value?O:F]:y.value!==i.value?[k,F]:[M,F]).includes(G.key)?1:-1,te=G.shiftKey?2:G.ctrlKey?1:0;B=B+Ee*z*Y.value[te]}else if(G.key===R)B=e.min;else if(G.key===T)B=e.max;else{const ie=G.key===C?1:-1;B=B-ie*z*(W>100?W/10:10)}return Math.max(e.min,Math.min(e.max,B))}function L(G){const B=D(G,e.modelValue);B!=null&&r("update:modelValue",B)}return Ie(()=>{const G=Se(y.value?100-e.position:e.position,"%"),{elevationClasses:B}=cn(N(()=>u.value?void 0:E.value));return _("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&g.value},e.class,a.value],style:[{"--v-slider-thumb-position":G,"--v-slider-thumb-size":Se(c.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!m.value,"aria-orientation":d.value,onKeydown:m.value?void 0:L},[_("div",{class:["v-slider-thumb__surface",S.value,B.value],style:{...I.value}},null),Jn(_("div",{class:["v-slider-thumb__ripple",S.value],style:I.value},null),[[Cs("ripple"),e.ripple,null,{circle:!0,center:!0}]]),_(Ou,{origin:"bottom center"},{default:()=>{var z;return[Jn(_("div",{class:"v-slider-thumb__label-container"},[_("div",{class:["v-slider-thumb__label"]},[_("div",null,[((z=n["thumb-label"])==null?void 0:z.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?h.value:1)])])]),[[iu,f.value&&e.focused||f.value==="always"]])]}})])}),{}}}),Zg=ne({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ce()},"VSliderTrack"),Kg=ve()({name:"VSliderTrack",props:Zg(),emits:{},setup(e,t){let{slots:n}=t;const r=Ze(fi);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:s,parsedTicks:i,rounded:a,showTicks:o,tickSize:l,trackColor:u,trackFillColor:c,trackSize:f,vertical:d,min:p,max:v,indexFromEnd:m}=r,{roundedClasses:E}=Ft(a),{backgroundColorClasses:g,backgroundColorStyles:h}=xt(c),{backgroundColorClasses:y,backgroundColorStyles:S}=xt(u),I=N(()=>`inset-${d.value?"block":"inline"}-${m.value?"end":"start"}`),b=N(()=>d.value?"height":"width"),C=N(()=>({[I.value]:"0%",[b.value]:"100%"})),T=N(()=>e.stop-e.start),R=N(()=>({[I.value]:Se(e.start,"%"),[b.value]:Se(T.value,"%")})),k=N(()=>o.value?(d.value?i.value.slice().reverse():i.value).map((O,F)=>{var Y;const P=O.value!==p.value&&O.value!==v.value?Se(O.position,"%"):void 0;return _("div",{key:O.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":O.position>=e.start&&O.position<=e.stop,"v-slider-track__tick--first":O.value===p.value,"v-slider-track__tick--last":O.value===v.value}],style:{[I.value]:P}},[(O.label||n["tick-label"])&&_("div",{class:"v-slider-track__tick-label"},[((Y=n["tick-label"])==null?void 0:Y.call(n,{tick:O,index:F}))??O.label])])}):[]);return Ie(()=>_("div",{class:["v-slider-track",E.value,e.class],style:[{"--v-slider-track-size":Se(f.value),"--v-slider-tick-size":Se(l.value)},e.style]},[_("div",{class:["v-slider-track__background",y.value,{"v-slider-track__background--opacity":!!s.value||!c.value}],style:{...C.value,...S.value}},null),_("div",{class:["v-slider-track__fill",g.value],style:{...R.value,...h.value}},null),o.value&&_("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}]},[k.value])])),{}}});function Jg(e){const{t}=ou();function n(r){let{name:s}=r;const i={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],a=e[`onClick:${s}`],o=a&&i?t(`$vuetify.input.${i}`,e.label??""):void 0;return _(He,{icon:e[`${s}Icon`],"aria-label":o,onClick:a},null)}return{InputIcon:n}}const eh=ne({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Ce(),...Du({transition:{component:Pu,leaveAbsolute:!0,group:!0}})},"VMessages"),th=ve()({name:"VMessages",props:eh(),setup(e,t){let{slots:n}=t;const r=N(()=>En(e.messages)),{textColorClasses:s,textColorStyles:i}=On(N(()=>e.color));return Ie(()=>_(wu,{transition:e.transition,tag:"div",class:["v-messages",s.value,e.class],style:[i.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((a,o)=>_("div",{class:"v-messages__message",key:`${o}-${r.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),Nl=ne({focused:Boolean,"onUpdate:focused":Wr()},"focus");function nh(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cr();const n=Vt(e,"focused"),r=N(()=>({[`${t}--focused`]:n.value}));function s(){n.value=!0}function i(){n.value=!1}return{focusClasses:r,isFocused:n,focus:s,blur:i}}const rh=Symbol.for("vuetify:form");function sh(){return Ze(rh,null)}const ih=ne({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Nl()},"validation");function ah(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cr(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rs();const r=Vt(e,"modelValue"),s=N(()=>e.validationValue===void 0?r.value:e.validationValue),i=sh(),a=Q([]),o=Je(!0),l=N(()=>!!(En(r.value===""?null:r.value).length||En(s.value===""?null:s.value).length)),u=N(()=>!!(e.disabled??(i==null?void 0:i.isDisabled.value))),c=N(()=>!!(e.readonly??(i==null?void 0:i.isReadonly.value))),f=N(()=>{var S;return(S=e.errorMessages)!=null&&S.length?En(e.errorMessages).concat(a.value).slice(0,Math.max(0,+e.maxErrors)):a.value}),d=N(()=>{let S=(e.validateOn??(i==null?void 0:i.validateOn.value))||"input";S==="lazy"&&(S="input lazy");const I=new Set((S==null?void 0:S.split(" "))??[]);return{blur:I.has("blur")||I.has("input"),input:I.has("input"),submit:I.has("submit"),lazy:I.has("lazy")}}),p=N(()=>{var S;return e.error||(S=e.errorMessages)!=null&&S.length?!1:e.rules.length?o.value?a.value.length||d.value.lazy?null:!0:!a.value.length:!0}),v=Je(!1),m=N(()=>({[`${t}--error`]:p.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:u.value,[`${t}--readonly`]:c.value})),E=N(()=>e.name??Z(n));Ya(()=>{i==null||i.register({id:E.value,validate:y,reset:g,resetValidation:h})}),sn(()=>{i==null||i.unregister(E.value)}),an(async()=>{d.value.lazy||await y(!0),i==null||i.update(E.value,p.value,f.value)}),yn(()=>d.value.input,()=>{Re(s,()=>{if(s.value!=null)y();else if(e.focused){const S=Re(()=>e.focused,I=>{I||y(),S()})}})}),yn(()=>d.value.blur,()=>{Re(()=>e.focused,S=>{S||y()})}),Re(p,()=>{i==null||i.update(E.value,p.value,f.value)});function g(){r.value=null,Mn(h)}function h(){o.value=!0,d.value.lazy?a.value=[]:y(!0)}async function y(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const I=[];v.value=!0;for(const b of e.rules){if(I.length>=+(e.maxErrors??1))break;const T=await(typeof b=="function"?b:()=>b)(s.value);if(T!==!0){if(T!==!1&&typeof T!="string"){console.warn(`${T} is not a valid value. Rule functions must return boolean true or a string.`);continue}I.push(T||"")}}return a.value=I,v.value=!1,o.value=S,a.value}return{errorMessages:f,isDirty:l,isDisabled:u,isReadonly:c,isPristine:o,isValid:p,isValidating:v,reset:g,resetValidation:h,validate:y,validationClasses:m}}const kl=ne({id:String,appendIcon:Tt,centerAffix:{type:Boolean,default:!0},prependIcon:Tt,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Wr(),"onClick:append":Wr(),...Ce(),...Ln(),...ih()},"VInput"),La=ve()({name:"VInput",props:{...kl()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:s}=t;const{densityClasses:i}=fr(e),{rtlClasses:a}=on(),{InputIcon:o}=Jg(e),l=Rs(),u=N(()=>e.id||`input-${l}`),c=N(()=>`${u.value}-messages`),{errorMessages:f,isDirty:d,isDisabled:p,isReadonly:v,isPristine:m,isValid:E,isValidating:g,reset:h,resetValidation:y,validate:S,validationClasses:I}=ah(e,"v-input",u),b=N(()=>({id:u,messagesId:c,isDirty:d,isDisabled:p,isReadonly:v,isPristine:m,isValid:E,isValidating:g,reset:h,resetValidation:y,validate:S})),C=N(()=>{var T;return(T=e.errorMessages)!=null&&T.length||!m.value&&f.value.length?f.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return Ie(()=>{var O,F,P,Y;const T=!!(r.prepend||e.prependIcon),R=!!(r.append||e.appendIcon),k=C.value.length>0,M=!e.hideDetails||e.hideDetails==="auto"&&(k||!!r.details);return _("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},i.value,a.value,I.value,e.class],style:e.style},[T&&_("div",{key:"prepend",class:"v-input__prepend"},[(O=r.prepend)==null?void 0:O.call(r,b.value),e.prependIcon&&_(o,{key:"prepend-icon",name:"prepend"},null)]),r.default&&_("div",{class:"v-input__control"},[(F=r.default)==null?void 0:F.call(r,b.value)]),R&&_("div",{key:"append",class:"v-input__append"},[e.appendIcon&&_(o,{key:"append-icon",name:"append"},null),(P=r.append)==null?void 0:P.call(r,b.value)]),M&&_("div",{class:"v-input__details"},[_(th,{id:c.value,active:k,messages:C.value},{message:r.message}),(Y=r.details)==null?void 0:Y.call(r,b.value)])])}),{reset:h,resetValidation:y,validate:S,isValid:E,errorMessages:f}}}),oh=ne({text:String,clickable:Boolean,...Ce(),...St()},"VLabel"),lh=ve()({name:"VLabel",props:oh(),setup(e,t){let{slots:n}=t;return Ie(()=>{var r;return _("label",{class:["v-label",{"v-label--clickable":e.clickable},e.class],style:e.style},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),uh=ne({...Nl(),...qg(),...kl(),modelValue:{type:[Number,String],default:0}},"VSlider"),ch=ve()({name:"VSlider",props:uh(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=Q(),{rtlClasses:i}=on(),a=jg(e),o=Vt(e,"modelValue",void 0,b=>a.roundValue(b??a.min.value)),{min:l,max:u,mousePressed:c,roundValue:f,onSliderMousedown:d,onSliderTouchstart:p,trackContainerRef:v,position:m,hasLabels:E,readonly:g}=Xg({props:e,steps:a,onSliderStart:()=>{r("start",o.value)},onSliderEnd:b=>{let{value:C}=b;const T=f(C);o.value=T,r("end",T)},onSliderMove:b=>{let{value:C}=b;return o.value=f(C)},getActiveThumb:()=>{var b;return(b=s.value)==null?void 0:b.$el}}),{isFocused:h,focus:y,blur:S}=nh(e),I=N(()=>m(o.value));return Ie(()=>{const b=La.filterProps(e),C=!!(e.label||n.label||n.prepend);return _(La,tn({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||E.value,"v-slider--focused":h.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},i.value,e.class],style:e.style},b,{focused:h.value}),{...n,prepend:C?T=>{var R,k;return _(qe,null,[((R=n.label)==null?void 0:R.call(n,T))??(e.label?_(lh,{id:T.id.value,class:"v-slider__label",text:e.label},null):void 0),(k=n.prepend)==null?void 0:k.call(n,T)])}:void 0,default:T=>{let{id:R,messagesId:k}=T;return _("div",{class:"v-slider__container",onMousedown:g.value?void 0:d,onTouchstartPassive:g.value?void 0:p},[_("input",{id:R.value,name:e.name||R.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:o.value},null),_(Kg,{ref:v,start:0,stop:I.value},{"tick-label":n["tick-label"]}),_(Qg,{ref:s,"aria-describedby":k.value,focused:h.value,min:l.value,max:u.value,modelValue:o.value,"onUpdate:modelValue":M=>o.value=M,position:I.value,elevation:e.elevation,onFocus:y,onBlur:S,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),dh=j({__name:"MediaVideoCoverSelector",props:{media:{},maxLength:{}},emits:["updateCoverTime"],setup(e,{emit:t}){const n=t,r=e,s=Q(typeof r.media.coverTime=="number"?r.media.coverTime:0);function i(){n("updateCoverTime",s.value)}return(a,o)=>r.maxLength>0?(A(),$(ch,{key:0,modelValue:Z(s),"onUpdate:modelValue":o[0]||(o[0]=l=>er(s)?s.value=l:null),color:"white",max:a.maxLength,class:"ig-media--video-slider",onEnd:i,"thumb-label":"always"},null,8,["modelValue","max"])):K("",!0)}}),fh=oe(dh,[["__scopeId","data-v-28b3581d"]]),vh=["src","autoplay"],ph=j({__name:"MediaVideo",props:{media:{},coverSelector:{type:Boolean},playable:{type:Boolean},reel:{type:Boolean}},async setup(e){let t,n;const r=e,s=Q(!1),i=([t,n]=$a(()=>Fa(r.media)),t=await t,n(),t),a=Q(null),o=Q(0);function l(u){a.value&&(a.value.currentTime=u,r.media.setCoverTime(u),r.media.save())}return an(()=>{a.value&&a.value.addEventListener("loadedmetadata",()=>{!a.value||typeof r.media.cover=="object"||r.media.cover||(a.value.currentTime=r.media.coverTime,o.value=a.value.duration)},!1)}),Re(()=>s.value,u=>{if(!a.value||!r.playable)return!1;u?a.value.play():a.value.pause()}),(u,c)=>{const f=fh,d=di,p=Cr;return A(),$(p,{type:"video",media:u.media,class:ln({"ig-media--reel":u.reel})},{default:V(()=>[!u.media.cover||u.media.coverTime?(A(),ee(qe,{key:0},[J("video",{ref_key:"videoRef",ref:a,src:Z(i),autoplay:Z(s),onClick:c[0]||(c[0]=v=>s.value=!Z(s))},null,8,vh),u.coverSelector?(A(),$(f,{key:0,media:u.media,"max-length":Z(o),onUpdateCoverTime:l},null,8,["media","max-length"])):K("",!0)],64)):typeof u.media.cover=="object"?(A(),$(d,{key:1,media:u.media.cover,onClick:c[1]||(c[1]=v=>s.value=!0)},null,8,["media"])):K("",!0)]),_:1},8,["media","class"])}}}),xl=oe(ph,[["__scopeId","data-v-7ad29340"]]),mh=j({__name:"MediaReel",props:{media:{},contextMenu:{type:Boolean}},setup(e){return(t,n)=>{const r=xl,s=Ll;return A(),ee(qe,null,[(A(),$(kt,null,{default:V(()=>[t.media.type==="video"?(A(),$(r,{key:0,media:t.media,"context-menu":t.contextMenu,"cover-selector":"",reel:""},null,8,["media","context-menu"])):K("",!0)]),_:1})),t.media.type==="iframe"?(A(),$(s,{key:0,media:t.media,reel:""},null,8,["media"])):K("",!0)],64)}}}),gh=j({__name:"MediaAlbumCurrentIndex",props:{index:{},max:{}},setup(e){return(t,n)=>(A(),$(Mu,{class:"ig-media__badge-index",color:"transparent",content:`${t.index} / ${t.max}`},null,8,["content"]))}}),hh=oe(gh,[["__scopeId","data-v-8792566e"]]);/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const De={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},Na={itemsToShow:{default:De.itemsToShow,type:Number},itemsToScroll:{default:De.itemsToScroll,type:Number},wrapAround:{default:De.wrapAround,type:Boolean},throttle:{default:De.throttle,type:Number},snapAlign:{default:De.snapAlign,validator(e){return["start","end","center","center-even","center-odd"].includes(e)}},transition:{default:De.transition,type:Number},breakpoints:{default:De.breakpoints,type:Object},autoplay:{default:De.autoplay,type:Number},pauseAutoplayOnHover:{default:De.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:De.mouseDrag,type:Boolean},touchDrag:{default:De.touchDrag,type:Boolean},dir:{default:De.dir,validator(e){return["rtl","ltr"].includes(e)}},i18n:{default:De.i18n,type:Object},settings:{default(){return{}},type:Object}};function _h({config:e,slidesCount:t}){const{snapAlign:n,wrapAround:r,itemsToShow:s=1}=e;if(r)return Math.max(t-1,0);let i;switch(n){case"start":i=t-s;break;case"end":i=t-1;break;case"center":case"center-odd":i=t-Math.ceil((s-.5)/2);break;case"center-even":i=t-Math.ceil(s/2);break;default:i=0;break}return Math.max(i,0)}function Eh({config:e,slidesCount:t}){const{wrapAround:n,snapAlign:r,itemsToShow:s=1}=e;let i=0;if(n||s>t)return i;switch(r){case"start":i=0;break;case"end":i=s-1;break;case"center":case"center-odd":i=Math.floor((s-1)/2);break;case"center-even":i=Math.floor((s-2)/2);break;default:i=0;break}return i}function Is({val:e,max:t,min:n}){return t<n?e:Math.min(Math.max(e,n),t)}function yh({config:e,currentSlide:t,slidesCount:n}){const{snapAlign:r,wrapAround:s,itemsToShow:i=1}=e;let a=t;switch(r){case"center":case"center-odd":a-=(i-1)/2;break;case"center-even":a-=(i-2)/2;break;case"end":a-=i-1;break}return s?a:Is({val:a,max:n-i,min:0})}function Gl(e){return e?e.reduce((t,n)=>{var r;return n.type===qe?[...t,...Gl(n.children)]:((r=n.type)===null||r===void 0?void 0:r.name)==="CarouselSlide"?[...t,n]:t},[]):[]}function Ts({val:e,max:t,min:n=0}){return e>t?Ts({val:e-(t+1),max:t,min:n}):e<n?Ts({val:e+(t+1),max:t,min:n}):e}function Ih(e,t){let n;return t?function(...r){const s=this;n||(e.apply(s,r),n=!0,setTimeout(()=>n=!1,t))}:e}function Th(e,t){let n;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>{e(...r),n=null},t)}}function Sh(e="",t={}){return Object.entries(t).reduce((n,[r,s])=>n.replace(`{${r}}`,String(s)),e)}var bh=j({name:"ARIA",setup(){const e=Ze("config",Jt(Object.assign({},De))),t=Ze("currentSlide",Q(0)),n=Ze("slidesCount",Q(0));return()=>rt("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},Sh(e.i18n.itemXofY,{currentSlide:t.value+1,slidesCount:n.value}))}}),Rh=j({name:"Carousel",props:Na,setup(e,{slots:t,emit:n,expose:r}){var s;const i=Q(null),a=Q([]),o=Q(0),l=Q(0),u=Jt(Object.assign({},De));let c=Object.assign({},De),f;const d=Q((s=e.modelValue)!==null&&s!==void 0?s:0),p=Q(0),v=Q(0),m=Q(0),E=Q(0);let g,h;Ue("config",u),Ue("slidesCount",l),Ue("currentSlide",d),Ue("maxSlide",m),Ue("minSlide",E),Ue("slideWidth",o);function y(){f=Object.assign({},e.breakpoints),c=Object.assign(Object.assign(Object.assign({},c),e),{i18n:Object.assign(Object.assign({},c.i18n),e.i18n),breakpoints:void 0}),I(c)}function S(){if(!f||!Object.keys(f).length)return;const H=Object.keys(f).map(ce=>Number(ce)).sort((ce,je)=>+je-+ce);let se=Object.assign({},c);H.some(ce=>{const je=window.matchMedia(`(min-width: ${ce}px)`).matches;return je&&(se=Object.assign(Object.assign({},se),f[ce])),je}),I(se)}function I(H){Object.entries(H).forEach(([se,ce])=>u[se]=ce)}const b=Th(()=>{S(),C()},16);function C(){if(!i.value)return;const H=i.value.getBoundingClientRect();o.value=H.width/u.itemsToShow}function T(){l.value<=0||(v.value=Math.ceil((l.value-1)/2),m.value=_h({config:u,slidesCount:l.value}),E.value=Eh({config:u,slidesCount:l.value}),u.wrapAround||(d.value=Is({val:d.value,max:m.value,min:E.value})))}an(()=>{Mn(()=>C()),setTimeout(()=>C(),1e3),S(),z(),window.addEventListener("resize",b,{passive:!0}),n("init")}),lu(()=>{h&&clearTimeout(h),g&&clearInterval(g),window.removeEventListener("resize",b,{passive:!0})});let R=!1;const k={x:0,y:0},M={x:0,y:0},O=Jt({x:0,y:0}),F=Q(!1),P=Q(!1),Y=()=>{F.value=!0},D=()=>{F.value=!1};function L(H){["INPUT","TEXTAREA","SELECT"].includes(H.target.tagName)||(R=H.type==="touchstart",R||H.preventDefault(),!(!R&&H.button!==0||ie.value)&&(k.x=R?H.touches[0].clientX:H.clientX,k.y=R?H.touches[0].clientY:H.clientY,document.addEventListener(R?"touchmove":"mousemove",G,!0),document.addEventListener(R?"touchend":"mouseup",B,!0)))}const G=Ih(H=>{P.value=!0,M.x=R?H.touches[0].clientX:H.clientX,M.y=R?H.touches[0].clientY:H.clientY;const se=M.x-k.x,ce=M.y-k.y;O.y=ce,O.x=se},u.throttle);function B(){const H=u.dir==="rtl"?-1:1,se=Math.sign(O.x)*.4,ce=Math.round(O.x/o.value+se)*H;if(ce&&!R){const je=pe=>{pe.stopPropagation(),window.removeEventListener("click",je,!0)};window.addEventListener("click",je,!0)}Ee(d.value-ce),O.x=0,O.y=0,P.value=!1,document.removeEventListener(R?"touchmove":"mousemove",G,!0),document.removeEventListener(R?"touchend":"mouseup",B,!0)}function z(){!u.autoplay||u.autoplay<=0||(g=setInterval(()=>{u.pauseAutoplayOnHover&&F.value||te()},u.autoplay))}function W(){g&&(clearInterval(g),g=null),z()}const ie=Q(!1);function Ee(H){const se=u.wrapAround?H:Is({val:H,max:m.value,min:E.value});d.value===se||ie.value||(n("slide-start",{slidingToIndex:H,currentSlideIndex:d.value,prevSlideIndex:p.value,slidesCount:l.value}),ie.value=!0,p.value=d.value,d.value=se,h=setTimeout(()=>{if(u.wrapAround){const ce=Ts({val:se,max:m.value,min:0});ce!==d.value&&(d.value=ce,n("loop",{currentSlideIndex:d.value,slidingToIndex:H}))}n("update:modelValue",d.value),n("slide-end",{currentSlideIndex:d.value,prevSlideIndex:p.value,slidesCount:l.value}),ie.value=!1,W()},u.transition))}function te(){Ee(d.value+u.itemsToScroll)}function Le(){Ee(d.value-u.itemsToScroll)}const x={slideTo:Ee,next:te,prev:Le};Ue("nav",x),Ue("isSliding",ie);const X=N(()=>yh({config:u,currentSlide:d.value,slidesCount:l.value}));Ue("slidesToScroll",X);const U=N(()=>{const H=u.dir==="rtl"?-1:1,se=X.value*o.value*H;return{transform:`translateX(${O.x-se}px)`,transition:`${ie.value?u.transition:0}ms`,margin:u.wrapAround?`0 -${l.value*o.value}px`:"",width:"100%"}});function re(){y(),S(),T(),C(),W()}Object.keys(Na).forEach(H=>{["modelValue"].includes(H)||Re(()=>e[H],re)}),Re(()=>e.modelValue,H=>{H!==d.value&&Ee(Number(H))}),Re(l,T),n("before-init"),y();const le={config:u,slidesCount:l,slideWidth:o,next:te,prev:Le,slideTo:Ee,currentSlide:d,maxSlide:m,minSlide:E,middleSlide:v};r({updateBreakpointsConfigs:S,updateSlidesData:T,updateSlideWidth:C,initDefaultConfigs:y,restartCarousel:re,slideTo:Ee,next:te,prev:Le,nav:x,data:le});const Be=t.default||t.slides,ot=t.addons,Ht=Jt(le);return()=>{const H=Gl(Be==null?void 0:Be(Ht)),se=(ot==null?void 0:ot(Ht))||[];H.forEach((mt,gt)=>mt.props.index=gt);let ce=H;if(u.wrapAround){const mt=H.map((bt,Rt)=>Ci(bt,{index:-H.length+Rt,isClone:!0,key:`clone-before-${Rt}`})),gt=H.map((bt,Rt)=>Ci(bt,{index:H.length+Rt,isClone:!0,key:`clone-after-${Rt}`}));ce=[...mt,...H,...gt]}a.value=H,l.value=Math.max(H.length,1);const je=rt("ol",{class:"carousel__track",style:U.value,onMousedownCapture:u.mouseDrag?L:null,onTouchstartPassiveCapture:u.touchDrag?L:null},ce),pe=rt("div",{class:"carousel__viewport"},je);return rt("section",{ref:i,class:{carousel:!0,"is-sliding":ie.value,"is-dragging":P.value,"is-hover":F.value,"carousel--rtl":u.dir==="rtl"},dir:u.dir,"aria-label":u.i18n.ariaGallery,tabindex:"0",onMouseenter:Y,onMouseleave:D},[pe,se,rt(bh)])}}}),ka;(function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"})(ka||(ka={}));var Ch=j({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:t}){const n=Ze("config",Jt(Object.assign({},De))),r=Ze("currentSlide",Q(0)),s=Ze("slidesToScroll",Q(0)),i=Ze("isSliding",Q(!1)),a=()=>e.index===r.value,o=()=>e.index===r.value-1,l=()=>e.index===r.value+1,u=()=>{const c=Math.floor(s.value),f=Math.ceil(s.value+n.itemsToShow-1);return e.index>=c&&e.index<=f};return()=>{var c;return rt("li",{style:{width:`${100/n.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":u(),"carousel__slide--active":a(),"carousel__slide--prev":o(),"carousel__slide--next":l(),"carousel__slide--sliding":i.value},"aria-hidden":!u()},(c=t.default)===null||c===void 0?void 0:c.call(t))}}});const Oh=j({__name:"MediaAlbum",props:{media:{}},setup(e){const t=e;function n(){t.media.slideToNextListItem()}return(r,s)=>{const i=Bl,a=hh,o=Cr;return A(),$(o,{type:"album",media:r.media,onClick:n},{default:V(()=>[_(Z(Rh),{modelValue:r.media.listIndex,"onUpdate:modelValue":s[0]||(s[0]=l=>r.media.listIndex=l)},{default:V(()=>[(A(!0),ee(qe,null,dr(r.media.list,(l,u)=>(A(),$(Z(Ch),{key:u},{default:V(()=>[_(i,{"context-menu":!1,media:l},null,8,["media"])]),_:2},1024))),128))]),_:1},8,["modelValue"]),_(a,{index:r.media.currentIndex,max:r.media.itemsCount},null,8,["index","max"])]),_:1},8,["media"])}}}),Dh=oe(Oh,[["__scopeId","data-v-5500625b"]]),Bl=j({__name:"MediaPost",props:{media:{},contextMenu:{type:Boolean}},setup(e){return(t,n)=>{const r=di,s=xl,i=Dh,a=Ll;return A(),ee(qe,null,[(A(),$(kt,null,{default:V(()=>[t.media.type==="image"?(A(),$(r,{key:0,"context-menu":t.contextMenu,media:t.media},null,8,["context-menu","media"])):K("",!0)]),_:1})),(A(),$(kt,null,{default:V(()=>[t.media.type==="video"?(A(),$(s,{key:0,"context-menu":t.contextMenu,media:t.media,"cover-selector":""},null,8,["context-menu","media"])):K("",!0)]),_:1})),t.media.type==="album"?(A(),$(i,{key:0,"context-menu":t.contextMenu,media:t.media},null,8,["context-menu","media"])):K("",!0),t.media.type==="iframe"?(A(),$(a,{key:1,"context-menu":t.contextMenu,media:t.media},null,8,["context-menu","media"])):K("",!0)],64)}}}),Ph=ve()({name:"VCardActions",props:Ce(),setup(e,t){let{slots:n}=t;return bs({VBtn:{slim:!0,variant:"text"}}),Ie(()=>{var r;return _("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),wh=Ls("v-card-subtitle"),vi=Ls("v-card-title"),Mh=ne({appendAvatar:String,appendIcon:Tt,prependAvatar:String,prependIcon:Tt,subtitle:[String,Number],title:[String,Number],...Ce(),...Ln()},"VCardItem"),Ah=ve()({name:"VCardItem",props:Mh(),setup(e,t){let{slots:n}=t;return Ie(()=>{var u;const r=!!(e.prependAvatar||e.prependIcon),s=!!(r||n.prepend),i=!!(e.appendAvatar||e.appendIcon),a=!!(i||n.append),o=!!(e.title!=null||n.title),l=!!(e.subtitle!=null||n.subtitle);return _("div",{class:["v-card-item",e.class],style:e.style},[s&&_("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?_(Mt,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},n.prepend):r&&_(Oi,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),_("div",{class:"v-card-item__content"},[o&&_(vi,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??e.title]}}),l&&_(wh,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??e.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),a&&_("div",{key:"append",class:"v-card-item__append"},[n.append?_(Mt,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},n.append):i&&_(Oi,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),Lh=Ls("v-card-text"),Nh=ne({appendAvatar:String,appendIcon:Tt,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Tt,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...An(),...Ce(),...Ln(),...ws(),...un(),...Pl(),...vr(),...ui(),...$t(),...Xa(),...at(),...St(),...Ps({variant:"elevated"})},"VCard"),pi=ve()({name:"VCard",directives:{Ripple:Ms},props:Nh(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Bt(e),{borderClasses:i}=Nn(e),{colorClasses:a,colorStyles:o,variantClasses:l}=Wa(e),{densityClasses:u}=fr(e),{dimensionStyles:c}=As(e),{elevationClasses:f}=cn(e),{loaderClasses:d}=wl(e),{locationStyles:p}=pr(e),{positionClasses:v}=ci(e),{roundedClasses:m}=Ft(e),E=Qa(e,n),g=N(()=>e.link!==!1&&E.isLink.value),h=N(()=>!e.disabled&&e.link!==!1&&(e.link||E.isClickable.value));return Ie(()=>{const y=g.value?"a":e.tag,S=!!(r.title||e.title!=null),I=!!(r.subtitle||e.subtitle!=null),b=S||I,C=!!(r.append||e.appendAvatar||e.appendIcon),T=!!(r.prepend||e.prependAvatar||e.prependIcon),R=!!(r.image||e.image),k=b||T||C,M=!!(r.text||e.text!=null);return Jn(_(y,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":h.value},s.value,i.value,a.value,u.value,f.value,d.value,v.value,m.value,l.value,e.class],style:[o.value,c.value,p.value,e.style],href:E.href.value,onClick:h.value&&E.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var O;return[R&&_("div",{key:"image",class:"v-card__image"},[r.image?_(Mt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):_(Ja,{key:"image-img",cover:!0,src:e.image},null)]),_(gg,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),k&&_(Ah,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),M&&_(Lh,{key:"text"},{default:()=>{var F;return[((F=r.text)==null?void 0:F.call(r))??e.text]}}),(O=r.default)==null?void 0:O.call(r),r.actions&&_(Ph,null,{default:r.actions}),Za(h.value,"v-card")]}}),[[Cs("ripple"),h.value&&e.ripple]])}),{}}}),kh=j({__name:"UserMediaGrid",props:{user:{},mode:{}},setup(e){const t=e,n=Q(),r=Q(!1);function s(){t.user.save()}function i(){r.value=!0}function a(){r.value=!1}return(o,l)=>{const u=Bl,c=mh,f=Al;return A(),$(eo,{class:"ig-profile-page__media-grid-container px-0"},{default:V(()=>[J("div",{class:ln(["ig-profile-page__media-grid",{"ig-profile-page__media-grid--dragging":Z(r)}]),ref_key:"gridListRef",ref:n},[t.user.media[t.mode].length>0?(A(),$(Z(uu),{key:0,list:t.user.media[t.mode],"onUpdate:list":[l[0]||(l[0]=d=>t.user.media[t.mode]=d),s],axis:"xy",class:"v-row","use-drag-handle":"","press-delay":100,"press-threshold":100,onSortStart:i,onSortEnd:a},{default:V(()=>[(A(!0),ee(qe,null,dr(t.user.media[t.mode],(d,p)=>(A(),$(Z(cu),{key:d.id,index:p,class:"ig-profile-page__media-grid__item v-col v-col-4"},{default:V(()=>[_(Z(du),{class:"ig-profile-page__media-grid__drag-handle"},{default:V(()=>[_(He,{icon:"mdi-drag",color:"white"})]),_:1}),o.mode==="posts"?(A(),$(u,{key:0,media:d,"context-menu":""},null,8,["media"])):K("",!0),o.mode==="reels"?(A(),$(c,{key:1,media:d,"context-menu":""},null,8,["media"])):K("",!0)]),_:2},1032,["index"]))),128))]),_:1},8,["list"])):(A(),$(pi,{key:1,height:500},{default:V(()=>[_(f)]),_:1}))],2)]),_:1})}}}),xh={class:"ig-profile-page__tabs"},Gh=["onClick"],Bh=j({__name:"UserTabs",props:{media:{},active:{}},emits:["select"],setup(e,{emit:t}){const n=t,r=e,s=N(()=>{let i=[{name:"posts",label:"Posts",icon:"mdi-grid"}];return r.media.reels.length>0&&i.push({name:"reels",label:"Reels",icon:"mdi-play-box-multiple-outline"}),i});return(i,a)=>(A(),ee("div",xh,[(A(!0),ee(qe,null,dr(Z(s),(o,l)=>(A(),ee("div",{key:l,class:ln(["ig-profile-page__tabs__tab",{"ig-profile-page__tabs__tab--active":i.active===o.name}]),onClick:u=>n("select",o.name)},[_(He,{size:"15"},{default:V(()=>[ae(ft(o.icon),1)]),_:2},1024),ae(" "+ft(o.label),1)],10,Gh))),128))]))}}),Vh=oe(Bh,[["__scopeId","data-v-6c76350f"]]),mi=e=>(za("data-v-26b2aadd"),e=e(),Ha(),e),$h=["textContent"],Fh=mi(()=>J("span",null,"posts",-1)),Uh=["textContent"],Yh=mi(()=>J("span",null,"followers",-1)),zh=["textContent"],Hh=mi(()=>J("span",null,"following",-1)),qh=j({__name:"UserProfileStats",props:{profile:{},mobile:{type:Boolean}},setup(e){return(t,n)=>(A(),ee("ul",{class:ln(["ig-profile-page__header__stats",{"ig-profile-page__header__stats--mobile":t.mobile}])},[J("li",null,[J("b",{textContent:ft(t.profile.posts_count)},null,8,$h),ae(),Fh]),J("li",null,[J("b",{textContent:ft(t.profile.followers_count)},null,8,Uh),ae(),Yh]),J("li",null,[J("b",{textContent:ft(t.profile.follows_count)},null,8,zh),ae(),Hh])],2))}}),Vl=oe(qh,[["__scopeId","data-v-26b2aadd"]]),jh=["href"],Xh=j({__name:"UserProfileWebsite",props:{profile:{}},setup(e){return(t,n)=>t.profile.website?(A(),ee("a",{key:0,class:"ig-profile-page__header__website",href:t.profile.website.href,target:"_blank"},[_(He,{icon:"mdi-link-variant",size:16}),ae(" "+ft(t.profile.website.label),1)],8,jh)):K("",!0)}}),Wh=oe(Xh,[["__scopeId","data-v-a6bf1777"]]),Qh=["textContent"],Zh=j({__name:"UserProfileName",props:{profile:{}},setup(e){return(t,n)=>t.profile.name?(A(),ee("p",{key:0,class:"ig-profile-page__header__name",textContent:ft(t.profile.name)},null,8,Qh)):K("",!0)}}),Kh=oe(Zh,[["__scopeId","data-v-1b60991e"]]),Jh={class:"ig-profile-page__header__inner"},e_=["innerHTML"],t_=j({__name:"UserProfileInner",props:{profile:{}},setup(e){const t=e,n=N(()=>{var r;return(r=t.profile.biography)==null?void 0:r.replace(/(?:\r\n|\r|\n)/g,"<br>")});return(r,s)=>{const i=Kh,a=Wh;return A(),ee("div",Jh,[_(i,{profile:r.profile},null,8,["profile"]),J("p",{class:"ig-profile-page__header__biography",innerHTML:Z(n)},null,8,e_),_(a,{profile:r.profile},null,8,["profile"])])}}}),$l=oe(t_,[["__scopeId","data-v-6a126663"]]),n_={class:"ig-profile-page__header__username"},r_=["textContent"],s_=j({__name:"UserProfileUsername",props:{profile:{}},setup(e){return(t,n)=>(A(),ee("div",n_,[J("span",{textContent:ft(t.profile.username)},null,8,r_),t.profile.verified?(A(),$(He,{key:0,icon:"mdi-check-decagram"})):K("",!0)]))}}),Fl=oe(s_,[["__scopeId","data-v-7babaf28"]]),i_={class:"ig-profile-page__header"},a_={class:"ig-profile-page__header__top py-4"},o_={class:"my-8"},l_={class:"my-4 mt-n6"},u_=j({__name:"UserProfileMobile",props:{profile:{}},setup(e){return(t,n)=>{const r=Fl,s=Ns,i=$l,a=Vl;return A(),ee("div",i_,[J("div",a_,[_(He,{icon:"mdi-arrow-left",class:"mr-4",style:{"margin-top":"-2px"}}),_(r,{profile:t.profile,class:"mb-5"},null,8,["profile"])]),_(Ka,{class:"mx-n4"}),J("div",o_,[_(Gs,null,{default:V(()=>[_(Dn,{cols:"3",class:"ig-profile-page__header__avatar text-left"},{default:V(()=>[(A(),$(kt,null,{default:V(()=>{var o;return[_(s,{size:120,avatar:(o=t.profile)==null?void 0:o.avatar},null,8,["avatar"])]}),_:1}))]),_:1}),_(Dn,{cols:"9"})]),_:1})]),J("div",l_,[_(i,{profile:t.profile},null,8,["profile"])]),_(a,{mobile:"",profile:t.profile},null,8,["profile"])])}}}),c_=oe(u_,[["__scopeId","data-v-3bbc2e87"]]),d_={class:"ig-profile-page__header py-12"},f_=j({__name:"UserProfileDesktop",props:{profile:{}},setup(e){return(t,n)=>{const r=Ns,s=Fl,i=Vl,a=$l;return A(),ee("div",d_,[_(Gs,null,{default:V(()=>[_(Dn,{cols:"4",class:"ig-profile-page__header__avatar text-center"},{default:V(()=>[(A(),$(kt,null,{default:V(()=>{var o;return[_(r,{avatar:(o=t.profile)==null?void 0:o.avatar},null,8,["avatar"])]}),_:1}))]),_:1}),_(Dn,{cols:"8"},{default:V(()=>[_(s,{profile:t.profile,class:"mb-5"},null,8,["profile"]),_(i,{profile:t.profile,class:"mb-5"},null,8,["profile"]),_(a,{profile:t.profile},null,8,["profile"])]),_:1})]),_:1})])}}}),v_=oe(f_,[["__scopeId","data-v-efd1e04c"]]),p_=j({__name:"UserProfile",props:{profile:{}},setup(e){return(t,n)=>{const r=v_,s=c_;return t.$vuetify.display.smAndUp?(A(),$(r,{key:0,profile:t.profile},null,8,["profile"])):(A(),$(s,{key:1,profile:t.profile},null,8,["profile"]))}}}),m_=ne({color:String,...An(),...Ce(),...ws(),...un(),...vr(),...ui(),...$t(),...at(),...St()},"VSheet"),g_=ve()({name:"VSheet",props:m_(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Bt(e),{backgroundColorClasses:s,backgroundColorStyles:i}=xt(ge(e,"color")),{borderClasses:a}=Nn(e),{dimensionStyles:o}=As(e),{elevationClasses:l}=cn(e),{locationStyles:u}=pr(e),{positionClasses:c}=ci(e),{roundedClasses:f}=Ft(e);return Ie(()=>_(e.tag,{class:["v-sheet",r.value,s.value,a.value,l.value,c.value,f.value,e.class],style:[i.value,o.value,u.value,e.style]},n)),{}}}),h_=j({__name:"User",props:{user:{}},setup(e){const t=Q("posts");return(n,r)=>{const s=p_,i=Vh,a=kh;return A(),$(g_,{color:"transparent",class:"ig-profile-page"},{default:V(()=>[_(eo,{class:"py-0"},{default:V(()=>[_(s,{profile:n.user.profile},null,8,["profile"]),_(i,{media:n.user.media,active:Z(t),onSelect:r[0]||(r[0]=o=>t.value=o)},null,8,["media","active"]),_(a,{user:n.user,mode:Z(t)},null,8,["user","mode"])]),_:1})]),_:1})}}}),__={},E_=e=>(za("data-v-b88a181d"),e=e(),Ha(),e),y_=E_(()=>J("p",{class:"mt-3"},[J("a",{href:"https://github.com/dxlliv/ig-planner",target:"_blank"},[J("strong",null,"ig-planner")]),ae(" is currently under development."),J("br"),ae(" Get support and ask for new features! ")],-1)),I_={class:"mt-5"};function T_(e,t){return A(),ee(qe,null,[y_,J("div",I_,[_(Ml,{border:"",href:"https://patreon.com/dxlliv",target:"_blank"},{default:V(()=>[ae("Become a Patron")]),_:1})])],64)}const S_=oe(__,[["render",T_],["__scopeId","data-v-b88a181d"]]),b_=ne({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Au({origin:"center center",scrollStrategy:"block",transition:{component:Lu},zIndex:2400})},"VDialog"),Ul=ve()({name:"VDialog",props:b_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Vt(e,"modelValue"),{scopeId:s}=to(),i=Q();function a(l){var f,d;const u=l.relatedTarget,c=l.target;if(u!==c&&((f=i.value)!=null&&f.contentEl)&&((d=i.value)!=null&&d.globalTop)&&![document,i.value.contentEl].includes(c)&&!i.value.contentEl.contains(c)){const p=vu(i.value.contentEl);if(!p.length)return;const v=p[0],m=p[p.length-1];u===v?m.focus():v.focus()}}fu&&Re(()=>r.value&&e.retainFocus,l=>{l?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0}),Re(r,async l=>{var u,c;await Mn(),l?(u=i.value.contentEl)==null||u.focus({preventScroll:!0}):(c=i.value.activatorEl)==null||c.focus({preventScroll:!0})});const o=N(()=>tn({"aria-haspopup":"dialog","aria-expanded":String(r.value)},e.activatorProps));return Ie(()=>{const l=Di.filterProps(e);return _(Di,tn({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},l,{modelValue:r.value,"onUpdate:modelValue":u=>r.value=u,"aria-modal":"true",activatorProps:o.value,role:"dialog"},s),{activator:n.activator,default:function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return _(Mt,{root:"VDialog"},{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,...c)]}})}})}),Nu({},i)}}),R_=J("p",null,[ae(" Some changes have been made to this profile"),J("br"),ae(" and have now been stored in your browser. ")],-1),C_=j({__name:"UserExport",emits:["close"],setup(e,{emit:t}){const n=t;return(r,s)=>{const i=S_;return A(),$(Ul,{"content-class":"ig-user-export","max-width":700,onClose:s[0]||(s[0]=a=>n("close"))},{default:V(()=>[_(pi,{height:"70vh"},{default:V(()=>[_(vi,{textContent:"Profile export"}),_(Gs,{class:"ma-0"},{default:V(()=>[_(Dn,{"align-self":"center",class:"text-center"},{default:V(()=>[R_,_(i)]),_:1})]),_:1})]),_:1})]),_:1})}}}),O_=j({__name:"MediaCreate",emits:["close"],setup(e,{emit:t}){const n=t;function r(s){n("close")}return(s,i)=>{const a=Al;return A(),$(Ul,{"content-class":"ig-media-create","max-width":700,onClose:i[0]||(i[0]=o=>n("close"))},{default:V(()=>[_(pi,{height:"70vh"},{default:V(()=>[_(vi,{textContent:"Create new post"}),_(a,{class:"mx-4",user:s.user,onAdd:r},null,8,["user"])]),_:1})]),_:1})}}}),D_={},P_={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},w_=J("path",{d:"M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),M_=J("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"6.545",x2:"17.455",y1:"12.001",y2:"12.001"},null,-1),A_=J("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"12.003",x2:"12.003",y1:"6.545",y2:"17.455"},null,-1),L_=[w_,M_,A_];function N_(e,t){return A(),ee("svg",P_,L_)}const k_=oe(D_,[["render",N_]]),x_={},G_={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},B_=J("path",{d:"M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"},null,-1),V_=[B_];function $_(e,t){return A(),ee("svg",G_,V_)}const F_=oe(x_,[["render",$_]]),U_={},Y_={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},z_=J("path",{d:"M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),H_=J("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"16.511",x2:"22",y1:"16.511",y2:"22"},null,-1),q_=[z_,H_];function j_(e,t){return A(),ee("svg",Y_,q_)}const X_=oe(U_,[["render",j_]]),W_={},Q_={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},Z_=J("polygon",{fill:"none",points:"13.941 13.953 7.581 16.424 10.06 10.056 16.42 7.585 13.941 13.953",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),K_=J("polygon",{"fill-rule":"evenodd",points:"10.06 10.056 13.949 13.945 7.581 16.424 10.06 10.056"},null,-1),J_=J("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),eE=[Z_,K_,J_];function tE(e,t){return A(),ee("svg",Q_,eE)}const nE=oe(W_,[["render",tE]]),rE={},sE={fill:"currentColor",height:"22",role:"img",viewBox:"0 0 24 24",width:"24"},iE=J("path",{d:"M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2"},null,-1),aE=[iE];function oE(e,t){return A(),ee("svg",sE,aE)}const lE=oe(rE,[["render",oE]]),uE={},cE={class:"ig-logo",href:"https://github.com/dxlliv/ig-planner",target:"_blank"};function dE(e,t){return A(),ee("a",cE," Planner ")}const fE=oe(uE,[["render",dE],["__scopeId","data-v-e524de64"]]);function vE(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const s=Je(!1),i=Je(0),a=N(()=>{const u=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[u]:Se(i.value)}:{top:r.value.top}]});an(()=>{Re(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),sn(()=>{window.removeEventListener("scroll",l)});let o=0;function l(){const u=o>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),f=parseFloat(r.value.top??0),d=window.scrollY-Math.max(0,i.value-f),p=c.height+Math.max(i.value,f)-window.scrollY-window.innerHeight,v=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-f?(s.value="top",i.value=f):u==="up"&&s.value==="bottom"||u==="down"&&s.value==="top"?(i.value=window.scrollY+c.top-v,s.value=!0):u==="down"&&p<=0?(i.value=0,s.value="bottom"):u==="up"&&d<=0&&(v?s.value!=="top"&&(i.value=-d+v+f,s.value="top"):(i.value=c.top+d,s.value="top")),o=window.scrollY}return{isStuck:s,stickyStyles:a}}const pE=100,mE=20;function xa(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function Ga(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=xa(t),s=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(s-r)*Math.abs(s),n===e.length-1&&(t*=.5)}return xa(t)*1e3}function gE(){const e={};function t(s){Array.from(s.changedTouches).forEach(i=>{(e[i.identifier]??(e[i.identifier]=new pu(mE))).push([s.timeStamp,i])})}function n(s){Array.from(s.changedTouches).forEach(i=>{delete e[i.identifier]})}function r(s){var u;const i=(u=e[s])==null?void 0:u.values().reverse();if(!i)throw new Error(`No samples for touch id ${s}`);const a=i[0],o=[],l=[];for(const c of i){if(a[0]-c[0]>pE)break;o.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:Ga(o),y:Ga(l),get direction(){const{x:c,y:f}=this,[d,p]=[Math.abs(c),Math.abs(f)];return d>p&&c>=0?"right":d>p&&c<=0?"left":p>d&&f>=0?"down":p>d&&f<=0?"up":hE()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function hE(){throw new Error}function _E(e){let{isActive:t,isTemporary:n,width:r,touchless:s,position:i}=e;an(()=>{window.addEventListener("touchstart",g,{passive:!0}),window.addEventListener("touchmove",h,{passive:!1}),window.addEventListener("touchend",y,{passive:!0})}),sn(()=>{window.removeEventListener("touchstart",g),window.removeEventListener("touchmove",h),window.removeEventListener("touchend",y)});const a=N(()=>["left","right"].includes(i.value)),{addMovement:o,endTouch:l,getVelocity:u}=gE();let c=!1;const f=Je(!1),d=Je(0),p=Je(0);let v;function m(I,b){return(i.value==="left"?I:i.value==="right"?document.documentElement.clientWidth-I:i.value==="top"?I:i.value==="bottom"?document.documentElement.clientHeight-I:Wt())-(b?r.value:0)}function E(I){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const C=i.value==="left"?(I-p.value)/r.value:i.value==="right"?(document.documentElement.clientWidth-I-p.value)/r.value:i.value==="top"?(I-p.value)/r.value:i.value==="bottom"?(document.documentElement.clientHeight-I-p.value)/r.value:Wt();return b?Math.max(0,Math.min(1,C)):C}function g(I){if(s.value)return;const b=I.changedTouches[0].clientX,C=I.changedTouches[0].clientY,T=25,R=i.value==="left"?b<T:i.value==="right"?b>document.documentElement.clientWidth-T:i.value==="top"?C<T:i.value==="bottom"?C>document.documentElement.clientHeight-T:Wt(),k=t.value&&(i.value==="left"?b<r.value:i.value==="right"?b>document.documentElement.clientWidth-r.value:i.value==="top"?C<r.value:i.value==="bottom"?C>document.documentElement.clientHeight-r.value:Wt());(R||k||t.value&&n.value)&&(c=!0,v=[b,C],p.value=m(a.value?b:C,t.value),d.value=E(a.value?b:C),l(I),o(I))}function h(I){const b=I.changedTouches[0].clientX,C=I.changedTouches[0].clientY;if(c){if(!I.cancelable){c=!1;return}const R=Math.abs(b-v[0]),k=Math.abs(C-v[1]);(a.value?R>k&&R>3:k>R&&k>3)?(f.value=!0,c=!1):(a.value?k:R)>3&&(c=!1)}if(!f.value)return;I.preventDefault(),o(I);const T=E(a.value?b:C,!1);d.value=Math.max(0,Math.min(1,T)),T>1?p.value=m(a.value?b:C,!0):T<0&&(p.value=m(a.value?b:C,!1))}function y(I){if(c=!1,!f.value)return;o(I),f.value=!1;const b=u(I.changedTouches[0].identifier),C=Math.abs(b.x),T=Math.abs(b.y);(a.value?C>T&&C>400:T>C&&T>3)?t.value=b.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||Wt()):t.value=d.value>.5}const S=N(()=>f.value?{transform:i.value==="left"?`translateX(calc(-100% + ${d.value*r.value}px))`:i.value==="right"?`translateX(calc(100% - ${d.value*r.value}px))`:i.value==="top"?`translateY(calc(-100% + ${d.value*r.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${d.value*r.value}px))`:Wt(),transition:"none"}:void 0);return{isDragging:f,dragProgress:d,dragStyles:S}}function Wt(){throw new Error}const EE=["start","end","left","right","top","bottom"],yE=ne({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>EE.includes(e)},sticky:Boolean,...An(),...Ce(),...mu(),...un(),...gu(),...$t(),...at({tag:"nav"}),...St()},"VNavigationDrawer"),IE=ve()({name:"VNavigationDrawer",props:yE(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{isRtl:i}=on(),{themeClasses:a}=Bt(e),{borderClasses:o}=Nn(e),{backgroundColorClasses:l,backgroundColorStyles:u}=xt(ge(e,"color")),{elevationClasses:c}=cn(e),{displayClasses:f,mobile:d}=hu(e),{roundedClasses:p}=Ft(e),v=ku(),m=Vt(e,"modelValue",null,z=>!!z),{ssrBootStyles:E}=no(),{scopeId:g}=to(),h=Q(),y=Je(!1),S=N(()=>e.rail&&e.expandOnHover&&y.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),I=N(()=>xu(e.location,i.value)),b=N(()=>!e.permanent&&(d.value||e.temporary)),C=N(()=>e.sticky&&!b.value&&I.value!=="bottom");yn(()=>e.expandOnHover&&e.rail!=null,()=>{Re(y,z=>r("update:rail",!z))}),yn(()=>!e.disableResizeWatcher,()=>{Re(b,z=>!e.permanent&&Mn(()=>m.value=!z))}),yn(()=>!e.disableRouteWatcher&&!!v,()=>{Re(v.currentRoute,()=>b.value&&(m.value=!1))}),Re(()=>e.permanent,z=>{z&&(m.value=!0)}),Ya(()=>{e.modelValue!=null||b.value||(m.value=e.permanent||!d.value)});const{isDragging:T,dragProgress:R,dragStyles:k}=_E({isActive:m,isTemporary:b,width:S,touchless:ge(e,"touchless"),position:I}),M=N(()=>{const z=b.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):S.value;return T.value?z*R.value:z}),{layoutItemStyles:O,layoutItemScrimStyles:F}=_u({id:e.name,order:N(()=>parseInt(e.order,10)),position:I,layoutSize:M,elementSize:S,active:N(()=>m.value||T.value),disableTransitions:N(()=>T.value),absolute:N(()=>e.absolute||C.value&&typeof P.value!="string")}),{isStuck:P,stickyStyles:Y}=vE({rootEl:h,isSticky:C,layoutItemStyles:O}),D=xt(N(()=>typeof e.scrim=="string"?e.scrim:null)),L=N(()=>({...T.value?{opacity:R.value*.2,transition:"none"}:void 0,...F.value}));bs({VList:{bgColor:"transparent"}});function G(){y.value=!0}function B(){y.value=!1}return Ie(()=>{const z=s.image||e.image;return _(qe,null,[_(e.tag,tn({ref:h,onMouseenter:G,onMouseleave:B,class:["v-navigation-drawer",`v-navigation-drawer--${I.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":y.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":b.value,"v-navigation-drawer--active":m.value,"v-navigation-drawer--sticky":C.value},a.value,l.value,o.value,f.value,c.value,p.value,e.class],style:[u.value,O.value,k.value,E.value,Y.value,e.style]},g,n),{default:()=>{var W,ie,Ee,te;return[z&&_("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?(W=s.image)==null?void 0:W.call(s,{image:e.image}):_("img",{src:e.image,alt:""},null)]),s.prepend&&_("div",{class:"v-navigation-drawer__prepend"},[(ie=s.prepend)==null?void 0:ie.call(s)]),_("div",{class:"v-navigation-drawer__content"},[(Ee=s.default)==null?void 0:Ee.call(s)]),s.append&&_("div",{class:"v-navigation-drawer__append"},[(te=s.append)==null?void 0:te.call(s)])]}}),_(Va,{name:"fade-transition"},{default:()=>[b.value&&(T.value||m.value)&&!!e.scrim&&_("div",tn({class:["v-navigation-drawer__scrim",D.backgroundColorClasses.value],style:[L.value,D.backgroundColorStyles.value],onClick:()=>m.value=!1},g),null)]})])}),{isStuck:P}}}),TE=j({__name:"NavigationDrawer",setup(e){const t=Os(),n=N(()=>t.user),r=[{item:{title:"Readme",href:"https://dxlliv.github.io/ig-planner/docs/"},icon:"IconReadme"},{item:{title:"Support",href:"https://patreon.com/dxlliv",target:"_blank"},icon:"IconSupport"}],s=Q(!1),i=Q(!1);return(a,o)=>{const l=fE,u=lE,c=nE,f=X_,d=F_,p=k_,v=O_,m=Ns,E=C_;return A(),$(IE,{class:"ig-navigation-drawer",permanent:a.$vuetify.display.smAndUp,rail:a.$vuetify.display.mdAndDown,width:244,"rail-width":72},{default:V(()=>[_(In,{class:"pt-7 pb-3 hidden-md-and-down"},{default:V(()=>[_(Pe,null,{default:V(()=>[_(l,{size:26})]),_:1})]),_:1}),_(In,{density:"compact",nav:"",class:"mt-2 mt-lg-0"},{default:V(()=>[_(Pe,{title:"Home",to:"/ig-planner/"},{prepend:V(()=>[_(u)]),_:1}),(A(),ee(qe,null,dr(r,g=>_(Pe,yu(Eu(g.item)),{prepend:V(()=>[g.icon==="IconSupport"?(A(),$(c,{key:0})):K("",!0),g.icon==="IconReadme"?(A(),$(f,{key:1})):K("",!0),g.icon==="IconDonors"?(A(),$(d,{key:2})):K("",!0)]),_:2},1040)),64)),_(Pe,{title:"Create",onClick:o[2]||(o[2]=g=>s.value=!0)},{prepend:V(()=>[_(p),_(v,{modelValue:Z(s),"onUpdate:modelValue":o[0]||(o[0]=g=>er(s)?s.value=g:null),onClose:o[1]||(o[1]=g=>s.value=!1)},null,8,["modelValue"])]),_:1}),Z(n).ready?(A(),$(Pe,{key:0,title:"Profile",to:`/ig-planner/${Z(n).profile.username}`},{prepend:V(()=>[(A(),$(kt,null,{default:V(()=>[_(m,{avatar:Z(n).profile.avatar,size:"26px"},null,8,["avatar"])]),_:1}))]),_:1},8,["to"])):K("",!0)]),_:1}),_(In,{density:"compact",nav:"",class:"ig-navigation-drawer__list-bottom"},{default:V(()=>[Z(n).hasChanges?(A(),$(Pe,{key:0,title:"Export","base-color":"primary",onClick:o[4]||(o[4]=g=>i.value=!0)},{prepend:V(()=>[_(He,{icon:"mdi-pencil-ruler-outline"}),_(E,{modelValue:Z(i),"onUpdate:modelValue":o[3]||(o[3]=g=>er(i)?i.value=g:null)},null,8,["modelValue"])]),_:1})):K("",!0)]),_:1})]),_:1},8,["permanent","rail"])}}}),SE=ne({...Ce(),...Iu()},"VLayout"),bE=ve()({name:"VLayout",props:SE(),setup(e,t){let{slots:n}=t;const{layoutClasses:r,layoutStyles:s,getLayoutItem:i,items:a,layoutRef:o}=Tu(e);return Ie(()=>{var l;return _("div",{ref:o,class:[r.value,e.class],style:[s.value,e.style]},[(l=n.default)==null?void 0:l.call(n)])}),{getLayoutItem:i,items:a}}}),RE=ne({scrollable:Boolean,...Ce(),...at({tag:"main"})},"VMain"),CE=ve()({name:"VMain",props:RE(),setup(e,t){let{slots:n}=t;const{mainStyles:r}=Su(),{ssrBootStyles:s}=no();return Ie(()=>_(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,s.value,e.style]},{default:()=>{var i,a;return[e.scrollable?_("div",{class:"v-main__scroller"},[(i=n.default)==null?void 0:i.call(n)]):(a=n.default)==null?void 0:a.call(n)]}})),{}}}),OE={};function DE(e,t){const n=TE,r=Gu;return A(),$(bE,null,{default:V(()=>[_(n),_(CE,null,{default:V(()=>[Ds(e.$slots,"default"),_(r)]),_:3})]),_:3})}const PE=oe(OE,[["render",DE]]),AE=j({__name:"PageUser",setup(e){const t=bu(),n=Os(),r=Ru(),s=t.params.username.toString(),i=N(()=>r.options),a=N(()=>n.user);return n.loadUserPage(s),(o,l)=>{const u=h_,c=qd;return A(),ee(qe,null,[_(PE,null,{default:V(()=>[Z(a).ready?(A(),$(u,{key:0,user:Z(a)},null,8,["user"])):K("",!0)]),_:1}),Z(i).guides?(A(),$(c,{key:0})):K("",!0)],64)}}});export{AE as default};
