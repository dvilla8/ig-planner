import{ah as Ye,d as q,a2 as Gn,f as F,n as X,o as v,b as A,w as D,e as g,R as Y,a5 as ee,t as et,r as Bn,_ as J,S as Q,ai as Ra,c as te,a8 as ft,a9 as Z,V as rt,aa as gt,Q as kn,aj as ar,p as Fe,ak as ls,k as zt,q as me,C as ze,al as ya,$ as Ge,O as or,m as at,g as je,Z as Ue,u as Qe,x as Be,h as cs,K as Sa,v as ba,am as Oa,B as ir,F as Ce,y as Rn,G as Dt,s as Se,W as yt,M as lr,an as Da,P as us,ae as Wt,af as Ca,ag as Aa,ao as Ma,ap as cr,aq as ur,ar as wa,a7 as dr,i as Un,j as fr,as as mr,at as Pa,au as pr,av as _r,H as gr,aw as La,ax as Na,ay as Ga,az as fn,U as Ba,aA as ka,aB as Ua,aC as Va,aD as xa,aE as Fa,aF as $a,aG as Ha,aH as qa}from"./index-tM1WGtbu.js";import{C as qe,F as Le,E as Ee,y as Ct,D as St,G as Er,H as Ya,z as Xe,w as Ir,g as Xt,Q as jt,R as za,n as Wa,S as Qt,T as Xa,k as Kt,l as mt,h as ja,r as Qa,i as Ka,t as ds,e as Za,O as Ja,V as Vn,P as hr,x as eo,A as Ot,B as xn,U as Fn,W as to,X as no,Y as so,Z as Zt,$ as $n,a0 as ro,a1 as ao,a2 as oo,a as vr,c as Tr,a3 as io,a4 as lo,a5 as co,a6 as Hn,a7 as uo,a8 as fo,a9 as mo,K as po,aa as _o,_ as go}from"./VBadge-jQYsrAA-.js";/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Eo=e=>e instanceof HTMLElement,Io=(e,t=[],n=[])=>{const s={...e},r=[],a=[],o=()=>({...s}),i=()=>{const m=[...r];return r.length=0,m},l=()=>{const m=[...a];a.length=0,m.forEach(({type:_,data:M})=>{c(_,M)})},c=(m,_,M)=>{if(M&&!document.hidden){a.push({type:m,data:_});return}p[m]&&p[m](_),r.push({type:m,data:_})},u=(m,..._)=>d[m]?d[m](..._):null,f={getState:o,processActionQueue:i,processDispatchQueue:l,dispatch:c,query:u};let d={};t.forEach(m=>{d={...m(s),...d}});let p={};return n.forEach(m=>{p={...m(c,u,s),...p}}),f},ho=(e,t,n)=>{if(typeof n=="function"){e[t]=n;return}Object.defineProperty(e,t,{...n})},ne=(e,t)=>{for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])},We=e=>{const t={};return ne(e,n=>{ho(t,n,e[n])}),t},le=(e,t,n=null)=>{if(n===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},vo="http://www.w3.org/2000/svg",To=["svg","path"],fs=e=>To.includes(e),xt=(e,t,n={})=>{typeof t=="object"&&(n=t,t=null);const s=fs(e)?document.createElementNS(vo,e):document.createElement(e);return t&&(fs(e)?le(s,"class",t):s.className=t),ne(n,(r,a)=>{le(s,r,a)}),s},Ro=e=>(t,n)=>{typeof n<"u"&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},yo=(e,t)=>(n,s)=>(typeof s<"u"?t.splice(s,0,n):t.push(n),n),So=(e,t)=>n=>(t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n),bo=typeof window<"u"&&typeof window.document<"u",Rr=()=>bo,Oo=Rr()?xt("svg"):{},Do="children"in Oo?e=>e.children.length:e=>e.childNodes.length,yr=(e,t,n,s)=>{const r=n[0]||e.left,a=n[1]||e.top,o=r+e.width,i=a+e.height*(s[1]||1),l={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:r,top:a,right:o,bottom:i}};return t.filter(c=>!c.isRectIgnored()).map(c=>c.rect).forEach(c=>{ms(l.inner,{...c.inner}),ms(l.outer,{...c.outer})}),ps(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,ps(l.outer),l},ms=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},ps=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Ke=e=>typeof e=="number",Co=(e,t,n,s=.001)=>Math.abs(e-t)<s&&Math.abs(n)<s,Ao=({stiffness:e=.5,damping:t=.75,mass:n=10}={})=>{let s=null,r=null,a=0,o=!1;const c=We({interpolate:(u,f)=>{if(o)return;if(!(Ke(s)&&Ke(r))){o=!0,a=0;return}const d=-(r-s)*e;a+=d/n,r+=a,a*=t,Co(r,s,a)||f?(r=s,a=0,o=!0,c.onupdate(r),c.oncomplete(r)):c.onupdate(r)},target:{set:u=>{if(Ke(u)&&!Ke(r)&&(r=u),s===null&&(s=u,r=u),s=u,r===s||typeof s>"u"){o=!0,a=0,c.onupdate(r),c.oncomplete(r);return}o=!1},get:()=>s},resting:{get:()=>o},onupdate:u=>{},oncomplete:u=>{}});return c},Mo=e=>e<.5?2*e*e:-1+(4-2*e)*e,wo=({duration:e=500,easing:t=Mo,delay:n=0}={})=>{let s=null,r,a,o=!0,i=!1,l=null;const u=We({interpolate:(f,d)=>{o||l===null||(s===null&&(s=f),!(f-s<n)&&(r=f-s-n,r>=e||d?(r=1,a=i?0:1,u.onupdate(a*l),u.oncomplete(a*l),o=!0):(a=r/e,u.onupdate((r>=0?t(i?1-a:a):0)*l))))},target:{get:()=>i?0:l,set:f=>{if(l===null){l=f,u.onupdate(f),u.oncomplete(f);return}f<l?(l=1,i=!0):(i=!1,l=f),o=!1,s=null}},resting:{get:()=>o},onupdate:f=>{},oncomplete:f=>{}});return u},_s={spring:Ao,tween:wo},Po=(e,t,n)=>{const s=e[t]&&typeof e[t][n]=="object"?e[t][n]:e[t]||e,r=typeof s=="string"?s:s.type,a=typeof s=="object"?{...s}:{};return _s[r]?_s[r](a):null},qn=(e,t,n,s=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(r=>{e.forEach(a=>{let o=a,i=()=>n[a],l=c=>n[a]=c;typeof a=="object"&&(o=a.key,i=a.getter||i,l=a.setter||l),!(r[o]&&!s)&&(r[o]={get:i,set:l})})})},Lo=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:s})=>{const r={...t},a=[];return ne(e,(o,i)=>{const l=Po(i);if(!l)return;l.onupdate=u=>{t[o]=u},l.target=r[o],qn([{key:o,setter:u=>{l.target!==u&&(l.target=u)},getter:()=>t[o]}],[n,s],t,!0),a.push(l)}),{write:o=>{let i=document.hidden,l=!0;return a.forEach(c=>{c.resting||(l=!1),c.interpolate(o,i)}),l},destroy:()=>{}}},No=e=>(t,n)=>{e.addEventListener(t,n)},Go=e=>(t,n)=>{e.removeEventListener(t,n)},Bo=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:s,viewState:r,view:a})=>{const o=[],i=No(a.element),l=Go(a.element);return s.on=(c,u)=>{o.push({type:c,fn:u}),i(c,u)},s.off=(c,u)=>{o.splice(o.findIndex(f=>f.type===c&&f.fn===u),1),l(c,u)},{write:()=>!0,destroy:()=>{o.forEach(c=>{l(c.type,c.fn)})}}},ko=({mixinConfig:e,viewProps:t,viewExternalAPI:n})=>{qn(e,n,t)},Ie=e=>e!=null,Uo={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Vo=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:s,view:r})=>{const a={...t},o={};qn(e,[n,s],t);const i=()=>[t.translateX||0,t.translateY||0],l=()=>[t.scaleX||0,t.scaleY||0],c=()=>r.rect?yr(r.rect,r.childViews,i(),l()):null;return n.rect={get:c},s.rect={get:c},e.forEach(u=>{t[u]=typeof a[u]>"u"?Uo[u]:a[u]}),{write:()=>{if(xo(o,t))return Fo(r.element,t),Object.assign(o,{...t}),!0},destroy:()=>{}}},xo=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in t)if(t[n]!==e[n])return!0;return!1},Fo=(e,{opacity:t,perspective:n,translateX:s,translateY:r,scaleX:a,scaleY:o,rotateX:i,rotateY:l,rotateZ:c,originX:u,originY:f,width:d,height:p})=>{let m="",_="";(Ie(u)||Ie(f))&&(_+=`transform-origin: ${u||0}px ${f||0}px;`),Ie(n)&&(m+=`perspective(${n}px) `),(Ie(s)||Ie(r))&&(m+=`translate3d(${s||0}px, ${r||0}px, 0) `),(Ie(a)||Ie(o))&&(m+=`scale3d(${Ie(a)?a:1}, ${Ie(o)?o:1}, 1) `),Ie(c)&&(m+=`rotateZ(${c}rad) `),Ie(i)&&(m+=`rotateX(${i}rad) `),Ie(l)&&(m+=`rotateY(${l}rad) `),m.length&&(_+=`transform:${m};`),Ie(t)&&(_+=`opacity:${t};`,t===0&&(_+="visibility:hidden;"),t<1&&(_+="pointer-events:none;")),Ie(p)&&(_+=`height:${p}px;`),Ie(d)&&(_+=`width:${d}px;`);const M=e.elementCurrentStyle||"";(_.length!==M.length||_!==M)&&(e.style.cssText=_,e.elementCurrentStyle=_)},$o={styles:Vo,listeners:Bo,animations:Lo,apis:ko},gs=(e={},t={},n={})=>(t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),ce=({tag:e="div",name:t=null,attributes:n={},read:s=()=>{},write:r=()=>{},create:a=()=>{},destroy:o=()=>{},filterFrameActionsForChild:i=(p,m)=>m,didCreateView:l=()=>{},didWriteView:c=()=>{},ignoreRect:u=!1,ignoreRectUpdate:f=!1,mixins:d=[]}={})=>(p,m={})=>{const _=xt(e,`filepond--${t}`,n),M=window.getComputedStyle(_,null),y=gs();let C=null,L=!1;const k=[],T=[],R={},U={},h=[r],b=[s],V=[o],P=()=>_,N=()=>k.concat(),K=()=>R,S=w=>(W,Re)=>W(w,Re),H=()=>C||(C=yr(y,k,[0,0],[1,1]),C),E=()=>M,O=()=>{C=null,k.forEach(Re=>Re._read()),!(f&&y.width&&y.height)&&gs(y,_,M);const W={root:oe,props:m,rect:y};b.forEach(Re=>Re(W))},G=(w,W,Re)=>{let Ae=W.length===0;return h.forEach(ue=>{ue({props:m,root:oe,actions:W,timestamp:w,shouldOptimize:Re})===!1&&(Ae=!1)}),T.forEach(ue=>{ue.write(w)===!1&&(Ae=!1)}),k.filter(ue=>!!ue.element.parentNode).forEach(ue=>{ue._write(w,i(ue,W),Re)||(Ae=!1)}),k.forEach((ue,Ne)=>{ue.element.parentNode||(oe.appendChild(ue.element,Ne),ue._read(),ue._write(w,i(ue,W),Re),Ae=!1)}),L=Ae,c({props:m,root:oe,actions:W,timestamp:w}),Ae},B=()=>{T.forEach(w=>w.destroy()),V.forEach(w=>{w({root:oe,props:m})}),k.forEach(w=>w._destroy())},x={element:{get:P},style:{get:E},childViews:{get:N}},j={...x,rect:{get:H},ref:{get:K},is:w=>t===w,appendChild:Ro(_),createChildView:S(p),linkView:w=>(k.push(w),w),unlinkView:w=>{k.splice(k.indexOf(w),1)},appendChildView:yo(_,k),removeChildView:So(_,k),registerWriter:w=>h.push(w),registerReader:w=>b.push(w),registerDestroyer:w=>V.push(w),invalidateLayout:()=>_.layoutCalculated=!1,dispatch:p.dispatch,query:p.query},ae={element:{get:P},childViews:{get:N},rect:{get:H},resting:{get:()=>L},isRectIgnored:()=>u,_read:O,_write:G,_destroy:B},_e={...x,rect:{get:()=>y}};Object.keys(d).sort((w,W)=>w==="styles"?1:W==="styles"?-1:0).forEach(w=>{const W=$o[w]({mixinConfig:d[w],viewProps:m,viewState:U,viewInternalAPI:j,viewExternalAPI:ae,view:We(_e)});W&&T.push(W)});const oe=We(j);a({root:oe,props:m});const $e=Do(_);return k.forEach((w,W)=>{oe.appendChild(w.element,$e+W)}),l(oe),We(ae)},Ho=(e,t,n=60)=>{const s="__framePainter";if(window[s]){window[s].readers.push(e),window[s].writers.push(t);return}window[s]={readers:[e],writers:[t]};const r=window[s],a=1e3/n;let o=null,i=null,l=null,c=null;const u=()=>{document.hidden?(l=()=>window.setTimeout(()=>f(performance.now()),a),c=()=>window.clearTimeout(i)):(l=()=>window.requestAnimationFrame(f),c=()=>window.cancelAnimationFrame(i))};document.addEventListener("visibilitychange",()=>{c&&c(),u(),f(performance.now())});const f=d=>{i=l(f),o||(o=d);const p=d-o;p<=a||(o=d-p%a,r.readers.forEach(m=>m()),r.writers.forEach(m=>m(d)))};return u(),f(performance.now()),{pause:()=>{c(i)}}},ve=(e,t)=>({root:n,props:s,actions:r=[],timestamp:a,shouldOptimize:o})=>{r.filter(i=>e[i.type]).forEach(i=>e[i.type]({root:n,props:s,action:i.data,timestamp:a,shouldOptimize:o})),t&&t({root:n,props:s,actions:r,timestamp:a,shouldOptimize:o})},Es=(e,t)=>t.parentNode.insertBefore(e,t),Is=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),Jt=e=>Array.isArray(e),Ve=e=>e==null,qo=e=>e.trim(),en=e=>""+e,Yo=(e,t=",")=>Ve(e)?[]:Jt(e)?e:en(e).split(t).map(qo).filter(n=>n.length),Sr=e=>typeof e=="boolean",br=e=>Sr(e)?e:e==="true",he=e=>typeof e=="string",Or=e=>Ke(e)?e:he(e)?en(e).replace(/[a-z]+/gi,""):0,Ut=e=>parseInt(Or(e),10),hs=e=>parseFloat(Or(e)),Et=e=>Ke(e)&&isFinite(e)&&Math.floor(e)===e,vs=(e,t=1e3)=>{if(Et(e))return e;let n=en(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Ut(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Ut(n)*t):Ut(n)},Ze=e=>typeof e=="function",zo=e=>{let t=self,n=e.split("."),s=null;for(;s=n.shift();)if(t=t[s],!t)return null;return t},Ts={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Wo=e=>{const t={};return t.url=he(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},ne(Ts,n=>{t[n]=Xo(n,e[n],Ts[n],t.timeout,t.headers)}),t.process=e.process||he(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},Xo=(e,t,n,s,r)=>{if(t===null)return null;if(typeof t=="function")return t;const a={url:n==="GET"||n==="PATCH"?`?${e}=`:"",method:n,headers:r,withCredentials:!1,timeout:s,onload:null,ondata:null,onerror:null};if(he(t))return a.url=t,a;if(Object.assign(a,t),he(a.headers)){const o=a.headers.split(/:(.+)/);a.headers={header:o[0],value:o[1]}}return a.withCredentials=br(a.withCredentials),a},jo=e=>Wo(e),Qo=e=>e===null,pe=e=>typeof e=="object"&&e!==null,Ko=e=>pe(e)&&he(e.url)&&pe(e.process)&&pe(e.revert)&&pe(e.restore)&&pe(e.fetch),yn=e=>Jt(e)?"array":Qo(e)?"null":Et(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":Ko(e)?"api":typeof e,Zo=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),Jo={array:Yo,boolean:br,int:e=>yn(e)==="bytes"?vs(e):Ut(e),number:hs,float:hs,bytes:vs,string:e=>Ze(e)?e:en(e),function:e=>zo(e),serverapi:jo,object:e=>{try{return JSON.parse(Zo(e))}catch{return null}}},ei=(e,t)=>Jo[t](e),Dr=(e,t,n)=>{if(e===t)return e;let s=yn(e);if(s!==n){const r=ei(e,n);if(s=yn(r),r===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;e=r}return e},ti=(e,t)=>{let n=e;return{enumerable:!0,get:()=>n,set:s=>{n=Dr(s,e,t)}}},ni=e=>{const t={};return ne(e,n=>{const s=e[n];t[n]=ti(s[0],s[1])}),We(t)},si=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:ni(e)}),tn=(e,t="-")=>e.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(t),ri=(e,t)=>{const n={};return ne(t,s=>{n[s]={get:()=>e.getState().options[s],set:r=>{e.dispatch(`SET_${tn(s,"_").toUpperCase()}`,{value:r})}}}),n},ai=e=>(t,n,s)=>{const r={};return ne(e,a=>{const o=tn(a,"_").toUpperCase();r[`SET_${o}`]=i=>{try{s.options[a]=i.value}catch{}t(`DID_SET_${o}`,{value:s.options[a]})}}),r},oi=e=>t=>{const n={};return ne(e,s=>{n[`GET_${tn(s,"_").toUpperCase()}`]=r=>t.options[s]}),n},De={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Yn=()=>Math.random().toString(36).substring(2,11),zn=(e,t)=>e.splice(t,1),ii=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},nn=()=>{const e=[],t=(s,r)=>{zn(e,e.findIndex(a=>a.event===s&&(a.cb===r||!r)))},n=(s,r,a)=>{e.filter(o=>o.event===s).map(o=>o.cb).forEach(o=>ii(()=>o(...r),a))};return{fireSync:(s,...r)=>{n(s,r,!0)},fire:(s,...r)=>{n(s,r,!1)},on:(s,r)=>{e.push({event:s,cb:r})},onOnce:(s,r)=>{e.push({event:s,cb:(...a)=>{t(s,r),r(...a)}})},off:t}},Cr=(e,t,n)=>{Object.getOwnPropertyNames(e).filter(s=>!n.includes(s)).forEach(s=>Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s)))},li=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Te=e=>{const t={};return Cr(e,t,li),t},ci=e=>{e.forEach((t,n)=>{t.released&&zn(e,n)})},z={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},fe={INPUT:1,LIMBO:2,LOCAL:3},Ar=e=>/[^0-9]+/.exec(e),Mr=()=>Ar(1.1.toLocaleString())[0],ui=()=>{const e=Mr(),t=1e3.toLocaleString();return t!=="1000"?Ar(t)[0]:e==="."?",":"."},I={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Wn=[],Me=(e,t,n)=>new Promise((s,r)=>{const a=Wn.filter(i=>i.key===e).map(i=>i.cb);if(a.length===0){s(t);return}const o=a.shift();a.reduce((i,l)=>i.then(c=>l(c,n)),o(t,n)).then(i=>s(i)).catch(i=>r(i))}),ot=(e,t,n)=>Wn.filter(s=>s.key===e).map(s=>s.cb(t,n)),di=(e,t)=>Wn.push({key:e,cb:t}),fi=e=>Object.assign(ct,e),Ft=()=>({...ct}),mi=e=>{ne(e,(t,n)=>{ct[t]&&(ct[t][0]=Dr(n,ct[t][0],ct[t][1]))})},ct={id:[null,I.STRING],name:["filepond",I.STRING],disabled:[!1,I.BOOLEAN],className:[null,I.STRING],required:[!1,I.BOOLEAN],captureMethod:[null,I.STRING],allowSyncAcceptAttribute:[!0,I.BOOLEAN],allowDrop:[!0,I.BOOLEAN],allowBrowse:[!0,I.BOOLEAN],allowPaste:[!0,I.BOOLEAN],allowMultiple:[!1,I.BOOLEAN],allowReplace:[!0,I.BOOLEAN],allowRevert:[!0,I.BOOLEAN],allowRemove:[!0,I.BOOLEAN],allowProcess:[!0,I.BOOLEAN],allowReorder:[!1,I.BOOLEAN],allowDirectoriesOnly:[!1,I.BOOLEAN],storeAsFile:[!1,I.BOOLEAN],forceRevert:[!1,I.BOOLEAN],maxFiles:[null,I.INT],checkValidity:[!1,I.BOOLEAN],itemInsertLocationFreedom:[!0,I.BOOLEAN],itemInsertLocation:["before",I.STRING],itemInsertInterval:[75,I.INT],dropOnPage:[!1,I.BOOLEAN],dropOnElement:[!0,I.BOOLEAN],dropValidation:[!1,I.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],I.ARRAY],instantUpload:[!0,I.BOOLEAN],maxParallelUploads:[2,I.INT],allowMinimumUploadDuration:[!0,I.BOOLEAN],chunkUploads:[!1,I.BOOLEAN],chunkForce:[!1,I.BOOLEAN],chunkSize:[5e6,I.INT],chunkRetryDelays:[[500,1e3,3e3],I.ARRAY],server:[null,I.SERVER_API],fileSizeBase:[1e3,I.INT],labelFileSizeBytes:["bytes",I.STRING],labelFileSizeKilobytes:["KB",I.STRING],labelFileSizeMegabytes:["MB",I.STRING],labelFileSizeGigabytes:["GB",I.STRING],labelDecimalSeparator:[Mr(),I.STRING],labelThousandsSeparator:[ui(),I.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',I.STRING],labelInvalidField:["Field contains invalid files",I.STRING],labelFileWaitingForSize:["Waiting for size",I.STRING],labelFileSizeNotAvailable:["Size not available",I.STRING],labelFileCountSingular:["file in list",I.STRING],labelFileCountPlural:["files in list",I.STRING],labelFileLoading:["Loading",I.STRING],labelFileAdded:["Added",I.STRING],labelFileLoadError:["Error during load",I.STRING],labelFileRemoved:["Removed",I.STRING],labelFileRemoveError:["Error during remove",I.STRING],labelFileProcessing:["Uploading",I.STRING],labelFileProcessingComplete:["Upload complete",I.STRING],labelFileProcessingAborted:["Upload cancelled",I.STRING],labelFileProcessingError:["Error during upload",I.STRING],labelFileProcessingRevertError:["Error during revert",I.STRING],labelTapToCancel:["tap to cancel",I.STRING],labelTapToRetry:["tap to retry",I.STRING],labelTapToUndo:["tap to undo",I.STRING],labelButtonRemoveItem:["Remove",I.STRING],labelButtonAbortItemLoad:["Abort",I.STRING],labelButtonRetryItemLoad:["Retry",I.STRING],labelButtonAbortItemProcessing:["Cancel",I.STRING],labelButtonUndoItemProcessing:["Undo",I.STRING],labelButtonRetryItemProcessing:["Retry",I.STRING],labelButtonProcessItem:["Upload",I.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',I.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',I.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',I.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',I.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',I.STRING],oninit:[null,I.FUNCTION],onwarning:[null,I.FUNCTION],onerror:[null,I.FUNCTION],onactivatefile:[null,I.FUNCTION],oninitfile:[null,I.FUNCTION],onaddfilestart:[null,I.FUNCTION],onaddfileprogress:[null,I.FUNCTION],onaddfile:[null,I.FUNCTION],onprocessfilestart:[null,I.FUNCTION],onprocessfileprogress:[null,I.FUNCTION],onprocessfileabort:[null,I.FUNCTION],onprocessfilerevert:[null,I.FUNCTION],onprocessfile:[null,I.FUNCTION],onprocessfiles:[null,I.FUNCTION],onremovefile:[null,I.FUNCTION],onpreparefile:[null,I.FUNCTION],onupdatefiles:[null,I.FUNCTION],onreorderfiles:[null,I.FUNCTION],beforeDropFile:[null,I.FUNCTION],beforeAddFile:[null,I.FUNCTION],beforeRemoveFile:[null,I.FUNCTION],beforePrepareFile:[null,I.FUNCTION],stylePanelLayout:[null,I.STRING],stylePanelAspectRatio:[null,I.STRING],styleItemPanelAspectRatio:[null,I.STRING],styleButtonRemoveItemPosition:["left",I.STRING],styleButtonProcessItemPosition:["right",I.STRING],styleLoadIndicatorPosition:["right",I.STRING],styleProgressIndicatorPosition:["right",I.STRING],styleButtonRemoveItemAlign:[!1,I.BOOLEAN],files:[[],I.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],I.ARRAY]},Je=(e,t)=>Ve(t)?e[0]||null:Et(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(n=>n.id===t)||null),wr=e=>{if(Ve(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},we=e=>e.filter(t=>!t.archived),pi={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let wt=null;const _i=()=>{if(wt===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,wt=t.files.length===1}catch{wt=!1}return wt},gi=[z.LOAD_ERROR,z.PROCESSING_ERROR,z.PROCESSING_REVERT_ERROR],Ei=[z.LOADING,z.PROCESSING,z.PROCESSING_QUEUED,z.INIT],Ii=[z.PROCESSING_COMPLETE],hi=e=>gi.includes(e.status),vi=e=>Ei.includes(e.status),Ti=e=>Ii.includes(e.status),Rs=e=>pe(e.options.server)&&(pe(e.options.server.process)||Ze(e.options.server.process)),Ri=e=>({GET_STATUS:()=>{const t=we(e.items),{EMPTY:n,ERROR:s,BUSY:r,IDLE:a,READY:o}=pi;return t.length===0?n:t.some(hi)?s:t.some(vi)?r:t.some(Ti)?o:a},GET_ITEM:t=>Je(e.items,t),GET_ACTIVE_ITEM:t=>Je(we(e.items),t),GET_ACTIVE_ITEMS:()=>we(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const n=Je(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:t=>{const n=Je(e.items,t);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:wr(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>we(e.items).filter(n=>n.status===t),GET_TOTAL_ITEMS:()=>we(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&_i()&&!Rs(e),IS_ASYNC:()=>Rs(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),yi=e=>{const t=we(e.items).length;if(!e.options.allowMultiple)return t===0;const n=e.options.maxFiles;return n===null||t<n},Pr=(e,t,n)=>Math.max(Math.min(n,e),t),Si=(e,t,n)=>e.splice(t,0,n),bi=(e,t,n)=>Ve(t)?null:typeof n>"u"?(e.push(t),t):(n=Pr(n,0,e.length),Si(e,n,t),t),Sn=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),At=e=>e.split("/").pop().split("?").shift(),sn=e=>e.split(".").pop(),Oi=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},vt=(e,t="")=>(t+e).slice(-t.length),Lr=(e=new Date)=>`${e.getFullYear()}-${vt(e.getMonth()+1,"00")}-${vt(e.getDate(),"00")}_${vt(e.getHours(),"00")}-${vt(e.getMinutes(),"00")}-${vt(e.getSeconds(),"00")}`,pt=(e,t,n=null,s=null)=>{const r=typeof n=="string"?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return r.lastModifiedDate=new Date,e._relativePath&&(r._relativePath=e._relativePath),he(t)||(t=Lr()),t&&s===null&&sn(t)?r.name=t:(s=s||Oi(r.type),r.name=t+(s?"."+s:"")),r},Di=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Nr=(e,t)=>{const n=Di();if(n){const s=new n;return s.append(e),s.getBlob(t)}return new Blob([e],{type:t})},Ci=(e,t)=>{const n=new ArrayBuffer(e.length),s=new Uint8Array(n);for(let r=0;r<e.length;r++)s[r]=e.charCodeAt(r);return Nr(n,t)},Gr=e=>(/^data:(.+);/.exec(e)||[])[1]||null,Ai=e=>e.split(",")[1].replace(/\s/g,""),Mi=e=>atob(Ai(e)),wi=e=>{const t=Gr(e),n=Mi(e);return Ci(n,t)},Pi=(e,t,n)=>pt(wi(e),t,null,n),Li=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return t.length?decodeURI(t[t.length-1]):null},Ni=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Gi=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,Xn=e=>{const t={source:null,name:null,size:null},n=e.split(`
`);for(let s of n){const r=Li(s);if(r){t.name=r;continue}const a=Ni(s);if(a){t.size=a;continue}const o=Gi(s);if(o){t.source=o;continue}}return t},Bi=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>t.progress,s=()=>{t.request&&t.request.abort&&t.request.abort()},r=()=>{const i=t.source;o.fire("init",i),i instanceof File?o.fire("load",i):i instanceof Blob?o.fire("load",pt(i,i.name)):Sn(i)?o.fire("load",Pi(i)):a(i)},a=i=>{if(!e){o.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(i,l=>{t.duration=Date.now()-t.timestamp,t.complete=!0,l instanceof Blob&&(l=pt(l,l.name||At(i))),o.fire("load",l instanceof Blob?l:l?l.body:null)},l=>{o.fire("error",typeof l=="string"?{type:"error",code:0,body:l}:l)},(l,c,u)=>{if(u&&(t.size=u),t.duration=Date.now()-t.timestamp,!l){t.progress=null;return}t.progress=c/u,o.fire("progress",t.progress)},()=>{o.fire("abort")},l=>{const c=Xn(typeof l=="string"?l:l.headers);o.fire("meta",{size:t.size||c.size,filename:c.name,source:c.source})})},o={...nn(),setSource:i=>t.source=i,getProgress:n,abort:s,load:r};return o},ys=e=>/GET|HEAD/.test(e),tt=(e,t,n)=>{const s={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{r=!0,o.abort()}};let r=!1,a=!1;n={method:"POST",headers:{},withCredentials:!1,...n},t=encodeURI(t),ys(n.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const o=new XMLHttpRequest,i=ys(n.method)?o:o.upload;return i.onprogress=l=>{r||s.onprogress(l.lengthComputable,l.loaded,l.total)},o.onreadystatechange=()=>{o.readyState<2||o.readyState===4&&o.status===0||a||(a=!0,s.onheaders(o))},o.onload=()=>{o.status>=200&&o.status<300?s.onload(o):s.onerror(o)},o.onerror=()=>s.onerror(o),o.onabort=()=>{r=!0,s.onabort()},o.ontimeout=()=>s.ontimeout(o),o.open(n.method,t,!0),Et(n.timeout)&&(o.timeout=n.timeout),Object.keys(n.headers).forEach(l=>{const c=unescape(encodeURIComponent(n.headers[l]));o.setRequestHeader(l,c)}),n.responseType&&(o.responseType=n.responseType),n.withCredentials&&(o.withCredentials=!0),o.send(e),s},se=(e,t,n,s)=>({type:e,code:t,body:n,headers:s}),nt=e=>t=>{e(se("error",0,"Timeout",t.getAllResponseHeaders()))},Ss=e=>/\?/.test(e),bt=(...e)=>{let t="";return e.forEach(n=>{t+=Ss(t)&&Ss(n)?n.replace(/\?/,"&"):n}),t},mn=(e="",t)=>{if(typeof t=="function")return t;if(!t||!he(t.url))return null;const n=t.onload||(r=>r),s=t.onerror||(r=>null);return(r,a,o,i,l,c)=>{const u=tt(r,bt(e,t.url),{...t,responseType:"blob"});return u.onload=f=>{const d=f.getAllResponseHeaders(),p=Xn(d).name||At(r);a(se("load",f.status,t.method==="HEAD"?null:pt(n(f.response),p),d))},u.onerror=f=>{o(se("error",f.status,s(f.response)||f.statusText,f.getAllResponseHeaders()))},u.onheaders=f=>{c(se("headers",f.status,null,f.getAllResponseHeaders()))},u.ontimeout=nt(o),u.onprogress=i,u.onabort=l,u}},be={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},ki=(e,t,n,s,r,a,o,i,l,c,u)=>{const f=[],{chunkTransferId:d,chunkServer:p,chunkSize:m,chunkRetryDelays:_}=u,M={serverId:d,aborted:!1},y=t.ondata||(S=>S),C=t.onload||((S,H)=>H==="HEAD"?S.getResponseHeader("Upload-Offset"):S.response),L=t.onerror||(S=>null),k=S=>{const H=new FormData;pe(r)&&H.append(n,JSON.stringify(r));const E=typeof t.headers=="function"?t.headers(s,r):{...t.headers,"Upload-Length":s.size},O={...t,headers:E},G=tt(y(H),bt(e,t.url),O);G.onload=B=>S(C(B,O.method)),G.onerror=B=>o(se("error",B.status,L(B.response)||B.statusText,B.getAllResponseHeaders())),G.ontimeout=nt(o)},T=S=>{const H=bt(e,p.url,M.serverId),O={headers:typeof t.headers=="function"?t.headers(M.serverId):{...t.headers},method:"HEAD"},G=tt(null,H,O);G.onload=B=>S(C(B,O.method)),G.onerror=B=>o(se("error",B.status,L(B.response)||B.statusText,B.getAllResponseHeaders())),G.ontimeout=nt(o)},R=Math.floor(s.size/m);for(let S=0;S<=R;S++){const H=S*m,E=s.slice(H,H+m,"application/offset+octet-stream");f[S]={index:S,size:E.size,offset:H,data:E,file:s,progress:0,retries:[..._],status:be.QUEUED,error:null,request:null,timeout:null}}const U=()=>a(M.serverId),h=S=>S.status===be.QUEUED||S.status===be.ERROR,b=S=>{if(M.aborted)return;if(S=S||f.find(h),!S){f.every(x=>x.status===be.COMPLETE)&&U();return}S.status=be.PROCESSING,S.progress=null;const H=p.ondata||(x=>x),E=p.onerror||(x=>null),O=bt(e,p.url,M.serverId),G=typeof p.headers=="function"?p.headers(S):{...p.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":S.offset,"Upload-Length":s.size,"Upload-Name":s.name},B=S.request=tt(H(S.data),O,{...p,headers:G});B.onload=()=>{S.status=be.COMPLETE,S.request=null,N()},B.onprogress=(x,j,ae)=>{S.progress=x?j:null,P()},B.onerror=x=>{S.status=be.ERROR,S.request=null,S.error=E(x.response)||x.statusText,V(S)||o(se("error",x.status,E(x.response)||x.statusText,x.getAllResponseHeaders()))},B.ontimeout=x=>{S.status=be.ERROR,S.request=null,V(S)||nt(o)(x)},B.onabort=()=>{S.status=be.QUEUED,S.request=null,l()}},V=S=>S.retries.length===0?!1:(S.status=be.WAITING,clearTimeout(S.timeout),S.timeout=setTimeout(()=>{b(S)},S.retries.shift()),!0),P=()=>{const S=f.reduce((E,O)=>E===null||O.progress===null?null:E+O.progress,0);if(S===null)return i(!1,0,0);const H=f.reduce((E,O)=>E+O.size,0);i(!0,S,H)},N=()=>{f.filter(H=>H.status===be.PROCESSING).length>=1||b()},K=()=>{f.forEach(S=>{clearTimeout(S.timeout),S.request&&S.request.abort()})};return M.serverId?T(S=>{M.aborted||(f.filter(H=>H.offset<S).forEach(H=>{H.status=be.COMPLETE,H.progress=H.size}),N())}):k(S=>{M.aborted||(c(S),M.serverId=S,N())}),{abort:()=>{M.aborted=!0,K()}}},Ui=(e,t,n,s)=>(r,a,o,i,l,c,u)=>{if(!r)return;const f=s.chunkUploads,d=f&&r.size>s.chunkSize,p=f&&(d||s.chunkForce);if(r instanceof Blob&&p)return ki(e,t,n,r,a,o,i,l,c,u,s);const m=t.ondata||(T=>T),_=t.onload||(T=>T),M=t.onerror||(T=>null),y=typeof t.headers=="function"?t.headers(r,a)||{}:{...t.headers},C={...t,headers:y};var L=new FormData;pe(a)&&L.append(n,JSON.stringify(a)),(r instanceof Blob?[{name:null,file:r}]:r).forEach(T=>{L.append(n,T.file,T.name===null?T.file.name:`${T.name}${T.file.name}`)});const k=tt(m(L),bt(e,t.url),C);return k.onload=T=>{o(se("load",T.status,_(T.response),T.getAllResponseHeaders()))},k.onerror=T=>{i(se("error",T.status,M(T.response)||T.statusText,T.getAllResponseHeaders()))},k.ontimeout=nt(i),k.onprogress=l,k.onabort=c,k},Vi=(e="",t,n,s)=>typeof t=="function"?(...r)=>t(n,...r,s):!t||!he(t.url)?null:Ui(e,t,n,s),Tt=(e="",t)=>{if(typeof t=="function")return t;if(!t||!he(t.url))return(r,a)=>a();const n=t.onload||(r=>r),s=t.onerror||(r=>null);return(r,a,o)=>{const i=tt(r,e+t.url,t);return i.onload=l=>{a(se("load",l.status,n(l.response),l.getAllResponseHeaders()))},i.onerror=l=>{o(se("error",l.status,s(l.response)||l.statusText,l.getAllResponseHeaders()))},i.ontimeout=nt(o),i}},Br=(e=0,t=1)=>e+Math.random()*(t-e),xi=(e,t=1e3,n=0,s=25,r=250)=>{let a=null;const o=Date.now(),i=()=>{let l=Date.now()-o,c=Br(s,r);l+c>t&&(c=l+c-t);let u=l/t;if(u>=1||document.hidden){e(1);return}e(u),a=setTimeout(i,c)};return t>0&&i(),{clear:()=>{clearTimeout(a)}}},Fi=(e,t)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:s}=t,r=(u,f)=>{const d=()=>{n.duration===0||n.progress===null||c.fire("progress",c.getProgress())},p=()=>{n.complete=!0,c.fire("load-perceived",n.response.body)};c.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=xi(m=>{n.perceivedProgress=m,n.perceivedDuration=Date.now()-n.timestamp,d(),n.response&&n.perceivedProgress===1&&!n.complete&&p()},s?Br(750,1500):0),n.request=e(u,f,m=>{n.response=pe(m)?m:{type:"load",code:200,body:`${m}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,c.fire("load",n.response.body),(!s||s&&n.perceivedProgress===1)&&p()},m=>{n.perceivedPerformanceUpdater.clear(),c.fire("error",pe(m)?m:{type:"error",code:0,body:`${m}`})},(m,_,M)=>{n.duration=Date.now()-n.timestamp,n.progress=m?_/M:null,d()},()=>{n.perceivedPerformanceUpdater.clear(),c.fire("abort",n.response?n.response.body:null)},m=>{c.fire("transfer",m)})},a=()=>{n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},o=()=>{a(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},i=s?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,l=s?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,c={...nn(),process:r,abort:a,getProgress:i,getDuration:l,reset:o};return c},kr=e=>e.substring(0,e.lastIndexOf("."))||e,$i=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||Sn(e)?t[0]=e.name||Lr():Sn(e)?(t[1]=e.length,t[2]=Gr(e)):he(e)&&(t[0]=At(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},_t=e=>!!(e instanceof File||e instanceof Blob&&e.name),Ur=e=>{if(!pe(e))return e;const t=Jt(e)?[]:{};for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n];t[n]=s&&pe(s)?Ur(s):s}return t},Hi=(e=null,t=null,n=null)=>{const s=Yn(),r={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?z.PROCESSING_COMPLETE:z.INIT,activeLoader:null,activeProcessor:null};let a=null;const o={},i=h=>r.status=h,l=(h,...b)=>{r.released||r.frozen||R.fire(h,...b)},c=()=>sn(r.file.name),u=()=>r.file.type,f=()=>r.file.size,d=()=>r.file,p=(h,b,V)=>{if(r.source=h,R.fireSync("init"),r.file){R.fireSync("load-skip");return}r.file=$i(h),b.on("init",()=>{l("load-init")}),b.on("meta",P=>{r.file.size=P.size,r.file.filename=P.filename,P.source&&(e=fe.LIMBO,r.serverFileReference=P.source,r.status=z.PROCESSING_COMPLETE),l("load-meta")}),b.on("progress",P=>{i(z.LOADING),l("load-progress",P)}),b.on("error",P=>{i(z.LOAD_ERROR),l("load-request-error",P)}),b.on("abort",()=>{i(z.INIT),l("load-abort")}),b.on("load",P=>{r.activeLoader=null;const N=S=>{r.file=_t(S)?S:r.file,e===fe.LIMBO&&r.serverFileReference?i(z.PROCESSING_COMPLETE):i(z.IDLE),l("load")},K=S=>{r.file=P,l("load-meta"),i(z.LOAD_ERROR),l("load-file-error",S)};if(r.serverFileReference){N(P);return}V(P,N,K)}),b.setSource(h),r.activeLoader=b,b.load()},m=()=>{r.activeLoader&&r.activeLoader.load()},_=()=>{if(r.activeLoader){r.activeLoader.abort();return}i(z.INIT),l("load-abort")},M=(h,b)=>{if(r.processingAborted){r.processingAborted=!1;return}if(i(z.PROCESSING),a=null,!(r.file instanceof Blob)){R.on("load",()=>{M(h,b)});return}h.on("load",N=>{r.transferId=null,r.serverFileReference=N}),h.on("transfer",N=>{r.transferId=N}),h.on("load-perceived",N=>{r.activeProcessor=null,r.transferId=null,r.serverFileReference=N,i(z.PROCESSING_COMPLETE),l("process-complete",N)}),h.on("start",()=>{l("process-start")}),h.on("error",N=>{r.activeProcessor=null,i(z.PROCESSING_ERROR),l("process-error",N)}),h.on("abort",N=>{r.activeProcessor=null,r.serverFileReference=N,i(z.IDLE),l("process-abort"),a&&a()}),h.on("progress",N=>{l("process-progress",N)});const V=N=>{r.archived||h.process(N,{...o})},P=console.error;b(r.file,V,P),r.activeProcessor=h},y=()=>{r.processingAborted=!1,i(z.PROCESSING_QUEUED)},C=()=>new Promise(h=>{if(!r.activeProcessor){r.processingAborted=!0,i(z.IDLE),l("process-abort"),h();return}a=()=>{h()},r.activeProcessor.abort()}),L=(h,b)=>new Promise((V,P)=>{const N=r.serverFileReference!==null?r.serverFileReference:r.transferId;if(N===null){V();return}h(N,()=>{r.serverFileReference=null,r.transferId=null,V()},K=>{if(!b){V();return}i(z.PROCESSING_REVERT_ERROR),l("process-revert-error"),P(K)}),i(z.IDLE),l("process-revert")}),k=(h,b,V)=>{const P=h.split("."),N=P[0],K=P.pop();let S=o;P.forEach(H=>S=S[H]),JSON.stringify(S[K])!==JSON.stringify(b)&&(S[K]=b,l("metadata-update",{key:N,value:o[N],silent:V}))},R={id:{get:()=>s},origin:{get:()=>e,set:h=>e=h},serverId:{get:()=>r.serverFileReference},transferId:{get:()=>r.transferId},status:{get:()=>r.status},filename:{get:()=>r.file.name},filenameWithoutExtension:{get:()=>kr(r.file.name)},fileExtension:{get:c},fileType:{get:u},fileSize:{get:f},file:{get:d},relativePath:{get:()=>r.file._relativePath},source:{get:()=>r.source},getMetadata:h=>Ur(h?o[h]:o),setMetadata:(h,b,V)=>{if(pe(h)){const P=h;return Object.keys(P).forEach(N=>{k(N,P[N],b)}),h}return k(h,b,V),b},extend:(h,b)=>U[h]=b,abortLoad:_,retryLoad:m,requestProcessing:y,abortProcessing:C,load:p,process:M,revert:L,...nn(),freeze:()=>r.frozen=!0,release:()=>r.released=!0,released:{get:()=>r.released},archive:()=>r.archived=!0,archived:{get:()=>r.archived}},U=We(R);return U},qi=(e,t)=>Ve(t)?0:he(t)?e.findIndex(n=>n.id===t):-1,bs=(e,t)=>{const n=qi(e,t);if(!(n<0))return e[n]||null},Os=(e,t,n,s,r,a)=>{const o=tt(null,e,{method:"GET",responseType:"blob"});return o.onload=i=>{const l=i.getAllResponseHeaders(),c=Xn(l).name||At(e);t(se("load",i.status,pt(i.response,c),l))},o.onerror=i=>{n(se("error",i.status,i.statusText,i.getAllResponseHeaders()))},o.onheaders=i=>{a(se("headers",i.status,null,i.getAllResponseHeaders()))},o.ontimeout=nt(n),o.onprogress=s,o.onabort=r,o},Ds=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),Yi=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&Ds(location.href)!==Ds(e),Pt=e=>(...t)=>Ze(e)?e(...t):e,zi=e=>!_t(e.file),pn=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:we(t.items)})},0)},Cs=(e,...t)=>new Promise(n=>{if(!e)return n(!0);const s=e(...t);if(s==null)return n(!0);if(typeof s=="boolean")return n(s);typeof s.then=="function"&&s.then(n)}),_n=(e,t)=>{e.items.sort((n,s)=>t(Te(n),Te(s)))},Oe=(e,t)=>({query:n,success:s=()=>{},failure:r=()=>{},...a}={})=>{const o=Je(e.items,n);if(!o){r({error:se("error",0,"Item not found"),file:null});return}t(o,s,r,a||{})},Wi=(e,t,n)=>({ABORT_ALL:()=>{we(n.items).forEach(s=>{s.freeze(),s.abortLoad(),s.abortProcessing()})},DID_SET_FILES:({value:s=[]})=>{const r=s.map(o=>({source:o.source?o.source:o,options:o.options}));let a=we(n.items);a.forEach(o=>{r.find(i=>i.source===o.source||i.source===o.file)||e("REMOVE_ITEM",{query:o,remove:!1})}),a=we(n.items),r.forEach((o,i)=>{a.find(l=>l.source===o.source||l.file===o.source)||e("ADD_ITEM",{...o,interactionMethod:De.NONE,index:i})})},DID_UPDATE_ITEM_METADATA:({id:s,action:r,change:a})=>{a.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const o=bs(n.items,s);if(!t("IS_ASYNC")){Me("SHOULD_PREPARE_OUTPUT",!1,{item:o,query:t,action:r,change:a}).then(u=>{const f=t("GET_BEFORE_PREPARE_FILE");f&&(u=f(o,u)),u&&e("REQUEST_PREPARE_OUTPUT",{query:s,item:o,success:d=>{e("DID_PREPARE_OUTPUT",{id:s,file:d})}},!0)});return}o.origin===fe.LOCAL&&e("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.source});const i=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:s})},32)},l=u=>{o.revert(Tt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(u?i:()=>{}).catch(()=>{})},c=u=>{o.abortProcessing().then(u?i:()=>{})};if(o.status===z.PROCESSING_COMPLETE)return l(n.options.instantUpload);if(o.status===z.PROCESSING)return c(n.options.instantUpload);n.options.instantUpload&&i()},0))},MOVE_ITEM:({query:s,index:r})=>{const a=Je(n.items,s);if(!a)return;const o=n.items.indexOf(a);r=Pr(r,0,n.items.length-1),o!==r&&n.items.splice(r,0,n.items.splice(o,1)[0])},SORT:({compare:s})=>{_n(n,s),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:s,index:r,interactionMethod:a,success:o=()=>{},failure:i=()=>{}})=>{let l=r;if(r===-1||typeof r>"u"){const p=t("GET_ITEM_INSERT_LOCATION"),m=t("GET_TOTAL_ITEMS");l=p==="before"?0:m}const c=t("GET_IGNORED_FILES"),u=p=>_t(p)?!c.includes(p.name.toLowerCase()):!Ve(p),d=s.filter(u).map(p=>new Promise((m,_)=>{e("ADD_ITEM",{interactionMethod:a,source:p.source||p,success:m,failure:_,index:l++,options:p.options||{}})}));Promise.all(d).then(o).catch(i)},ADD_ITEM:({source:s,index:r=-1,interactionMethod:a,success:o=()=>{},failure:i=()=>{},options:l={}})=>{if(Ve(s)){i({error:se("error",0,"No source"),file:null});return}if(_t(s)&&n.options.ignoredFiles.includes(s.name.toLowerCase()))return;if(!yi(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const C=se("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:s,error:C}),i({error:C,file:null});return}const y=we(n.items)[0];if(y.status===z.PROCESSING_COMPLETE||y.status===z.PROCESSING_REVERT_ERROR){const C=t("GET_FORCE_REVERT");if(y.revert(Tt(n.options.server.url,n.options.server.revert),C).then(()=>{C&&e("ADD_ITEM",{source:s,index:r,interactionMethod:a,success:o,failure:i,options:l})}).catch(()=>{}),C)return}e("REMOVE_ITEM",{query:y.id})}const c=l.type==="local"?fe.LOCAL:l.type==="limbo"?fe.LIMBO:fe.INPUT,u=Hi(c,c===fe.INPUT?null:s,l.file);Object.keys(l.metadata||{}).forEach(y=>{u.setMetadata(y,l.metadata[y])}),ot("DID_CREATE_ITEM",u,{query:t,dispatch:e});const f=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(r=f==="before"?-1:n.items.length),bi(n.items,u,r),Ze(f)&&s&&_n(n,f);const d=u.id;u.on("init",()=>{e("DID_INIT_ITEM",{id:d})}),u.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:d})}),u.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:d})}),u.on("load-progress",y=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:d,progress:y})}),u.on("load-request-error",y=>{const C=Pt(n.options.labelFileLoadError)(y);if(y.code>=400&&y.code<500){e("DID_THROW_ITEM_INVALID",{id:d,error:y,status:{main:C,sub:`${y.code} (${y.body})`}}),i({error:y,file:Te(u)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:d,error:y,status:{main:C,sub:n.options.labelTapToRetry}})}),u.on("load-file-error",y=>{e("DID_THROW_ITEM_INVALID",{id:d,error:y.status,status:y.status}),i({error:y.status,file:Te(u)})}),u.on("load-abort",()=>{e("REMOVE_ITEM",{query:d})}),u.on("load-skip",()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:u,data:{source:s,success:o}})}),u.on("load",()=>{const y=C=>{if(!C){e("REMOVE_ITEM",{query:d});return}u.on("metadata-update",L=>{e("DID_UPDATE_ITEM_METADATA",{id:d,change:L})}),Me("SHOULD_PREPARE_OUTPUT",!1,{item:u,query:t}).then(L=>{const k=t("GET_BEFORE_PREPARE_FILE");k&&(L=k(u,L));const T=()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:u,data:{source:s,success:o}}),pn(e,n)};if(L){e("REQUEST_PREPARE_OUTPUT",{query:d,item:u,success:R=>{e("DID_PREPARE_OUTPUT",{id:d,file:R}),T()}},!0);return}T()})};Me("DID_LOAD_ITEM",u,{query:t,dispatch:e}).then(()=>{Cs(t("GET_BEFORE_ADD_FILE"),Te(u)).then(y)}).catch(C=>{if(!C||!C.error||!C.status)return y(!1);e("DID_THROW_ITEM_INVALID",{id:d,error:C.error,status:C.status})})}),u.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:d})}),u.on("process-progress",y=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:d,progress:y})}),u.on("process-error",y=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:d,error:y,status:{main:Pt(n.options.labelFileProcessingError)(y),sub:n.options.labelTapToRetry}})}),u.on("process-revert-error",y=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:d,error:y,status:{main:Pt(n.options.labelFileProcessingRevertError)(y),sub:n.options.labelTapToRetry}})}),u.on("process-complete",y=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:d,error:null,serverFileReference:y}),e("DID_DEFINE_VALUE",{id:d,value:y})}),u.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:d})}),u.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:d}),e("DID_DEFINE_VALUE",{id:d,value:null})}),e("DID_ADD_ITEM",{id:d,index:r,interactionMethod:a}),pn(e,n);const{url:p,load:m,restore:_,fetch:M}=n.options.server||{};u.load(s,Bi(c===fe.INPUT?he(s)&&Yi(s)&&M?mn(p,M):Os:c===fe.LIMBO?mn(p,_):mn(p,m)),(y,C,L)=>{Me("LOAD_FILE",y,{query:t}).then(C).catch(L)})},REQUEST_PREPARE_OUTPUT:({item:s,success:r,failure:a=()=>{}})=>{const o={error:se("error",0,"Item not found"),file:null};if(s.archived)return a(o);Me("PREPARE_OUTPUT",s.file,{query:t,item:s}).then(i=>{Me("COMPLETE_PREPARE_OUTPUT",i,{query:t,item:s}).then(l=>{if(s.archived)return a(o);r(l)})})},COMPLETE_LOAD_ITEM:({item:s,data:r})=>{const{success:a,source:o}=r,i=t("GET_ITEM_INSERT_LOCATION");if(Ze(i)&&o&&_n(n,i),e("DID_LOAD_ITEM",{id:s.id,error:null,serverFileReference:s.origin===fe.INPUT?null:o}),a(Te(s)),s.origin===fe.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:s.id});return}if(s.origin===fe.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:s.id,error:null,serverFileReference:o}),e("DID_DEFINE_VALUE",{id:s.id,value:s.serverId||o});return}t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:s.id})},RETRY_ITEM_LOAD:Oe(n,s=>{s.retryLoad()}),REQUEST_ITEM_PREPARE:Oe(n,(s,r,a)=>{e("REQUEST_PREPARE_OUTPUT",{query:s.id,item:s,success:o=>{e("DID_PREPARE_OUTPUT",{id:s.id,file:o}),r({file:s,output:o})},failure:a},!0)}),REQUEST_ITEM_PROCESSING:Oe(n,(s,r,a)=>{if(!(s.status===z.IDLE||s.status===z.PROCESSING_ERROR)){const i=()=>e("REQUEST_ITEM_PROCESSING",{query:s,success:r,failure:a}),l=()=>document.hidden?i():setTimeout(i,32);s.status===z.PROCESSING_COMPLETE||s.status===z.PROCESSING_REVERT_ERROR?s.revert(Tt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(l).catch(()=>{}):s.status===z.PROCESSING&&s.abortProcessing().then(l);return}s.status!==z.PROCESSING_QUEUED&&(s.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:s.id}),e("PROCESS_ITEM",{query:s,success:r,failure:a},!0))}),PROCESS_ITEM:Oe(n,(s,r,a)=>{const o=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",z.PROCESSING).length===o){n.processingQueue.push({id:s.id,success:r,failure:a});return}if(s.status===z.PROCESSING)return;const l=()=>{const u=n.processingQueue.shift();if(!u)return;const{id:f,success:d,failure:p}=u,m=Je(n.items,f);if(!m||m.archived){l();return}e("PROCESS_ITEM",{query:f,success:d,failure:p},!0)};s.onOnce("process-complete",()=>{r(Te(s)),l();const u=n.options.server;if(n.options.instantUpload&&s.origin===fe.LOCAL&&Ze(u.remove)){const p=()=>{};s.origin=fe.LIMBO,n.options.server.remove(s.source,p,p)}t("GET_ITEMS_BY_STATUS",z.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),s.onOnce("process-error",u=>{a({error:u,file:Te(s)}),l()});const c=n.options;s.process(Fi(Vi(c.server.url,c.server.process,c.name,{chunkTransferId:s.transferId,chunkServer:c.server.patch,chunkUploads:c.chunkUploads,chunkForce:c.chunkForce,chunkSize:c.chunkSize,chunkRetryDelays:c.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(u,f,d)=>{Me("PREPARE_OUTPUT",u,{query:t,item:s}).then(p=>{e("DID_PREPARE_OUTPUT",{id:s.id,file:p}),f(p)}).catch(d)})}),RETRY_ITEM_PROCESSING:Oe(n,s=>{e("REQUEST_ITEM_PROCESSING",{query:s})}),REQUEST_REMOVE_ITEM:Oe(n,s=>{Cs(t("GET_BEFORE_REMOVE_FILE"),Te(s)).then(r=>{r&&e("REMOVE_ITEM",{query:s})})}),RELEASE_ITEM:Oe(n,s=>{s.release()}),REMOVE_ITEM:Oe(n,(s,r,a,o)=>{const i=()=>{const c=s.id;bs(n.items,c).archive(),e("DID_REMOVE_ITEM",{error:null,id:c,item:s}),pn(e,n),r(Te(s))},l=n.options.server;s.origin===fe.LOCAL&&l&&Ze(l.remove)&&o.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:s.id}),l.remove(s.source,()=>i(),c=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:s.id,error:se("error",0,c,null),status:{main:Pt(n.options.labelFileRemoveError)(c),sub:n.options.labelTapToRetry}})})):((o.revert&&s.origin!==fe.LOCAL&&s.serverId!==null||n.options.chunkUploads&&s.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&s.revert(Tt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),i())}),ABORT_ITEM_LOAD:Oe(n,s=>{s.abortLoad()}),ABORT_ITEM_PROCESSING:Oe(n,s=>{if(s.serverId){e("REVERT_ITEM_PROCESSING",{id:s.id});return}s.abortProcessing().then(()=>{n.options.instantUpload&&e("REMOVE_ITEM",{query:s.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Oe(n,s=>{if(!n.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:s});return}const r=i=>{i&&e("REVERT_ITEM_PROCESSING",{query:s})},a=t("GET_BEFORE_REMOVE_FILE");if(!a)return r(!0);const o=a(Te(s));if(o==null)return r(!0);if(typeof o=="boolean")return r(o);typeof o.then=="function"&&o.then(r)}),REVERT_ITEM_PROCESSING:Oe(n,s=>{s.revert(Tt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||zi(s))&&e("REMOVE_ITEM",{query:s.id})}).catch(()=>{})}),SET_OPTIONS:({options:s})=>{const r=Object.keys(s),a=Xi.filter(i=>r.includes(i));[...a,...Object.keys(s).filter(i=>!a.includes(i))].forEach(i=>{e(`SET_${tn(i,"_").toUpperCase()}`,{value:s[i]})})}}),Xi=["server"],jn=e=>e,xe=e=>document.createElement(e),re=(e,t)=>{let n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},As=(e,t,n,s)=>{const r=(s%360-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}},ji=(e,t,n,s,r,a)=>{const o=As(e,t,n,r),i=As(e,t,n,s);return["M",o.x,o.y,"A",n,n,0,a,0,i.x,i.y].join(" ")},Qi=(e,t,n,s,r)=>{let a=1;return r>s&&r-s<=.5&&(a=0),s>r&&s-r>=.5&&(a=0),ji(e,t,n,Math.min(.9999,s)*360,Math.min(.9999,r)*360,a)},Ki=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const n=xt("svg");e.ref.path=xt("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(e.ref.path),e.ref.svg=n,e.appendChild(n)},Zi=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const n=parseInt(le(e.ref.path,"stroke-width"),10),s=e.rect.element.width*.5;let r=0,a=0;t.spin?(r=0,a=.5):(r=0,a=t.progress);const o=Qi(s,s,s-n,r,a);le(e.ref.path,"d",o),le(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},Ms=ce({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:Ki,write:Zi,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Ji=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},el=({root:e,props:t})=>{const{isDisabled:n}=t,s=e.query("GET_DISABLED")||t.opacity===0;s&&!n?(t.isDisabled=!0,le(e.element,"disabled","disabled")):!s&&n&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},Vr=ce({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:Ji,write:el}),xr=(e,t=".",n=1e3,s={})=>{const{labelBytes:r="bytes",labelKilobytes:a="KB",labelMegabytes:o="MB",labelGigabytes:i="GB"}=s;e=Math.round(Math.abs(e));const l=n,c=n*n,u=n*n*n;return e<l?`${e} ${r}`:e<c?`${Math.floor(e/l)} ${a}`:e<u?`${ws(e/c,1,t)} ${o}`:`${ws(e/u,2,t)} ${i}`},ws=(e,t,n)=>e.toFixed(t).split(".").filter(s=>s!=="0").join(n),tl=({root:e,props:t})=>{const n=xe("span");n.className="filepond--file-info-main",le(n,"aria-hidden","true"),e.appendChild(n),e.ref.fileName=n;const s=xe("span");s.className="filepond--file-info-sub",e.appendChild(s),e.ref.fileSize=s,re(s,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),re(n,jn(e.query("GET_ITEM_NAME",t.id)))},bn=({root:e,props:t})=>{re(e.ref.fileSize,xr(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),re(e.ref.fileName,jn(e.query("GET_ITEM_NAME",t.id)))},Ps=({root:e,props:t})=>{if(Et(e.query("GET_ITEM_SIZE",t.id))){bn({root:e,props:t});return}re(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},nl=ce({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:ve({DID_LOAD_ITEM:bn,DID_UPDATE_ITEM_META:bn,DID_THROW_ITEM_LOAD_ERROR:Ps,DID_THROW_ITEM_INVALID:Ps}),didCreateView:e=>{ot("CREATE_VIEW",{...e,view:e})},create:tl,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Fr=e=>Math.round(e*100),sl=({root:e})=>{const t=xe("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const n=xe("span");n.className="filepond--file-status-sub",e.appendChild(n),e.ref.sub=n,$r({root:e,action:{progress:null}})},$r=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${Fr(t.progress)}%`;re(e.ref.main,n),re(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},rl=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${Fr(t.progress)}%`;re(e.ref.main,n),re(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},al=({root:e})=>{re(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),re(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},ol=({root:e})=>{re(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),re(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},il=({root:e})=>{re(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),re(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},Ls=({root:e})=>{re(e.ref.main,""),re(e.ref.sub,"")},Rt=({root:e,action:t})=>{re(e.ref.main,t.status.main),re(e.ref.sub,t.status.sub)},ll=ce({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:ve({DID_LOAD_ITEM:Ls,DID_REVERT_ITEM_PROCESSING:Ls,DID_REQUEST_ITEM_PROCESSING:al,DID_ABORT_ITEM_PROCESSING:ol,DID_COMPLETE_ITEM_PROCESSING:il,DID_UPDATE_ITEM_PROCESS_PROGRESS:rl,DID_UPDATE_ITEM_LOAD_PROGRESS:$r,DID_THROW_ITEM_LOAD_ERROR:Rt,DID_THROW_ITEM_INVALID:Rt,DID_THROW_ITEM_PROCESSING_ERROR:Rt,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Rt,DID_THROW_ITEM_REMOVE_ERROR:Rt}),didCreateView:e=>{ot("CREATE_VIEW",{...e,view:e})},create:sl,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),On={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Dn=[];ne(On,e=>{Dn.push(e)});const ye=e=>{if(Cn(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},cl=e=>e.ref.buttonAbortItemLoad.rect.element.width,Lt=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),ul=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),dl=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),fl=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),Cn=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),ml={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:dl},processProgressIndicator:{opacity:0,align:fl},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Ns={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ye},status:{translateX:ye}},gn={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},ut={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:ye},status:{translateX:ye,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:ye},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Cn},info:{translateX:ye},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Cn},buttonRemoveItem:{opacity:1},info:{translateX:ye},status:{opacity:1,translateX:ye}},DID_LOAD_ITEM:Ns,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:ye},status:{translateX:ye}},DID_START_ITEM_PROCESSING:gn,DID_REQUEST_ITEM_PROCESSING:gn,DID_UPDATE_ITEM_PROCESS_PROGRESS:gn,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:ye}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ye},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Ns},pl=ce({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),_l=({root:e,props:t})=>{const n=Object.keys(On).reduce((m,_)=>(m[_]={...On[_]},m),{}),{id:s}=t,r=e.query("GET_ALLOW_REVERT"),a=e.query("GET_ALLOW_REMOVE"),o=e.query("GET_ALLOW_PROCESS"),i=e.query("GET_INSTANT_UPLOAD"),l=e.query("IS_ASYNC"),c=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let u;l?o&&!r?u=m=>!/RevertItemProcessing/.test(m):!o&&r?u=m=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(m):!o&&!r&&(u=m=>!/Process/.test(m)):u=m=>!/Process/.test(m);const f=u?Dn.filter(u):Dn.concat();if(i&&r&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!r){const m=ut.DID_COMPLETE_ITEM_PROCESSING;m.info.translateX=ul,m.info.translateY=Lt,m.status.translateY=Lt,m.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!o&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(m=>{ut[m].status.translateY=Lt}),ut.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=cl),c&&r){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const m=ut.DID_COMPLETE_ITEM_PROCESSING;m.info.translateX=ye,m.status.translateY=Lt,m.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}a||(n.RemoveItem.disabled=!0),ne(n,(m,_)=>{const M=e.createChildView(Vr,{label:e.query(_.label),icon:e.query(_.icon),opacity:0});f.includes(m)&&e.appendChildView(M),_.disabled&&(M.element.setAttribute("disabled","disabled"),M.element.setAttribute("hidden","hidden")),M.element.dataset.align=e.query(`GET_STYLE_${_.align}`),M.element.classList.add(_.className),M.on("click",y=>{y.stopPropagation(),!_.disabled&&e.dispatch(_.action,{query:s})}),e.ref[`button${m}`]=M}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(pl)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(nl,{id:s})),e.ref.status=e.appendChildView(e.createChildView(ll,{id:s}));const d=e.appendChildView(e.createChildView(Ms,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));d.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=d;const p=e.appendChildView(e.createChildView(Ms,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));p.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=p,e.ref.activeStyles=[]},gl=({root:e,actions:t,props:n})=>{El({root:e,actions:t,props:n});let s=t.concat().filter(r=>/^DID_/.test(r.type)).reverse().find(r=>ut[r.type]);if(s){e.ref.activeStyles=[];const r=ut[s.type];ne(ml,(a,o)=>{const i=e.ref[a];ne(o,(l,c)=>{const u=r[a]&&typeof r[a][l]<"u"?r[a][l]:c;e.ref.activeStyles.push({control:i,key:l,value:u})})})}e.ref.activeStyles.forEach(({control:r,key:a,value:o})=>{r[a]=typeof o=="function"?o(e):o})},El=ve({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),Il=ce({create:_l,write:gl,didCreateView:e=>{ot("CREATE_VIEW",{...e,view:e})},name:"file"}),hl=({root:e,props:t})=>{e.ref.fileName=xe("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(Il,{id:t.id})),e.ref.data=!1},vl=({root:e,props:t})=>{re(e.ref.fileName,jn(e.query("GET_ITEM_NAME",t.id)))},Tl=ce({create:hl,ignoreRect:!0,write:ve({DID_LOAD_ITEM:vl}),didCreateView:e=>{ot("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),Gs={type:"spring",damping:.6,mass:7},Rl=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Gs},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Gs},styles:["translateY"]}}].forEach(n=>{yl(e,n,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},yl=(e,t,n)=>{const s=ce({name:`panel-${t.name} filepond--${n}`,mixins:t.mixins,ignoreRectUpdate:!0}),r=e.createChildView(s,t.props);e.ref[t.name]=e.appendChildView(r)},Sl=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=Sr(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const n=e.ref.top.rect.element,s=e.ref.bottom.rect.element,r=Math.max(n.height+s.height,t.height);e.ref.center.translateY=n.height,e.ref.center.scaleY=(r-n.height-s.height)/100,e.ref.bottom.translateY=r-s.height},Hr=ce({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:Sl,create:Rl,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),bl=e=>{const t=e.map(s=>s.id);let n;return{setIndex:s=>{n=s},getIndex:()=>n,getItemIndex:s=>t.indexOf(s.id)}},Bs={type:"spring",stiffness:.75,damping:.45,mass:10},ks="spring",Us={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Ol=({root:e,props:t})=>{if(e.ref.handleClick=s=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(Tl,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(Hr,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const n=s=>{if(!s.isPrimary)return;let r=!1;const a={x:s.pageX,y:s.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:s.offsetX,y:s.offsetY};const o=bl(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:o});const i=c=>{if(!c.isPrimary)return;c.stopPropagation(),c.preventDefault(),t.dragOffset={x:c.pageX-a.x,y:c.pageY-a.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!r&&(r=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:o})},l=c=>{c.isPrimary&&(document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",l),t.dragOffset={x:c.pageX-a.x,y:c.pageY-a.y},e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:o}),r&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0))};document.addEventListener("pointermove",i),document.addEventListener("pointerup",l)};e.element.addEventListener("pointerdown",n)},Dl=ve({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),Cl=ve({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:n,shouldOptimize:s})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let r=t.concat().filter(o=>/^DID_/.test(o.type)).reverse().find(o=>Us[o.type]);r&&r.type!==n.currentState&&(n.currentState=r.type,e.element.dataset.filepondItemState=Us[n.currentState]||"");const a=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");a?s||(e.height=e.rect.element.width*a):(Dl({root:e,actions:t,props:n}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),s&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),Al=ce({create:Ol,write:Cl,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:ks,scaleY:ks,translateX:Bs,translateY:Bs,opacity:{type:"tween",duration:150}}}});var Qn=(e,t)=>Math.max(1,Math.floor((e+1)/t));const Kn=(e,t,n)=>{if(!n)return;const s=e.rect.element.width,r=t.length;let a=null;if(r===0||n.top<t[0].rect.element.top)return-1;const i=t[0].rect.element,l=i.marginLeft+i.marginRight,c=i.width+l,u=Qn(s,c);if(u===1){for(let p=0;p<r;p++){const m=t[p],_=m.rect.outer.top+m.rect.element.height*.5;if(n.top<_)return p}return r}const f=i.marginTop+i.marginBottom,d=i.height+f;for(let p=0;p<r;p++){const m=p%u,_=Math.floor(p/u),M=m*c,y=_*d,C=y-i.marginTop,L=M+c,k=y+d+i.marginBottom;if(n.top<k&&n.top>C){if(n.left<L)return p;p!==r-1?a=p:a=null}}return a!==null?a:r},Nt={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},Ml=({root:e})=>{le(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},wl=({root:e,action:t})=>{const{id:n,index:s,interactionMethod:r}=t;e.ref.addIndex=s;const a=Date.now();let o=a,i=1;if(r!==De.NONE){i=0;const l=e.query("GET_ITEM_INSERT_INTERVAL"),c=a-e.ref.lastItemSpanwDate;o=c<l?a+(l-c):a}e.ref.lastItemSpanwDate=o,e.appendChildView(e.createChildView(Al,{spawnDate:o,id:n,opacity:i,interactionMethod:r}),s)},Vs=(e,t,n,s=0,r=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(e.opacity===0&&Pl(e,t,n,s,r),e.scaleX=1,e.scaleY=1,e.opacity=1))},Pl=(e,t,n,s,r)=>{e.interactionMethod===De.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===De.DROP?(e.translateX=null,e.translateX=t-s*20,e.translateY=null,e.translateY=n-r*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===De.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===De.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},Ll=({root:e,action:t})=>{const{id:n}=t,s=e.childViews.find(r=>r.id===n);s&&(s.scaleX=.9,s.scaleY=.9,s.opacity=0,s.markedForRemoval=!0)},En=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,Nl=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Gl=({root:e,action:t})=>{const{id:n,dragState:s}=t,r=e.query("GET_ITEM",{id:n}),a=e.childViews.find(M=>M.id===n),o=e.childViews.length,i=s.getItemIndex(r);if(!a)return;const l={x:a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,y:a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y},c=En(a),u=Nl(a);let f=Math.floor(e.rect.outer.width/u);f>o&&(f=o);const d=Math.floor(o/f+1);Nt.setHeight=c*d,Nt.setWidth=u*f;var p={y:Math.floor(l.y/c),x:Math.floor(l.x/u),getGridIndex:function(){return l.y>Nt.getHeight||l.y<0||l.x>Nt.getWidth||l.x<0?i:this.y*f+this.x},getColIndex:function(){const y=e.query("GET_ACTIVE_ITEMS"),C=e.childViews.filter(P=>P.rect.element.height),L=y.map(P=>C.find(N=>N.id===P.id)),k=L.findIndex(P=>P===a),T=En(a),R=L.length;let U=R,h=0,b=0,V=0;for(let P=0;P<R;P++)if(h=En(L[P]),V=b,b=V+h,l.y<b){if(k>P){if(l.y<V+T){U=P;break}continue}U=P;break}return U}};const m=f>1?p.getGridIndex():p.getColIndex();e.dispatch("MOVE_ITEM",{query:a,index:m});const _=s.getIndex();if(_===void 0||_!==m){if(s.setIndex(m),_===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:i,target:m})}},Bl=ve({DID_ADD_ITEM:wl,DID_REMOVE_ITEM:Ll,DID_DRAG_ITEM:Gl}),kl=({root:e,props:t,actions:n,shouldOptimize:s})=>{Bl({root:e,props:t,actions:n});const{dragCoordinates:r}=t,a=e.rect.element.width,o=e.childViews.filter(L=>L.rect.element.height),i=e.query("GET_ACTIVE_ITEMS").map(L=>o.find(k=>k.id===L.id)).filter(L=>L),l=r?Kn(e,i,r):null,c=e.ref.addIndex||null;e.ref.addIndex=null;let u=0,f=0,d=0;if(i.length===0)return;const p=i[0].rect.element,m=p.marginTop+p.marginBottom,_=p.marginLeft+p.marginRight,M=p.width+_,y=p.height+m,C=Qn(a,M);if(C===1){let L=0,k=0;i.forEach((T,R)=>{if(l){let b=R-l;b===-2?k=-m*.25:b===-1?k=-m*.75:b===0?k=m*.75:b===1?k=m*.25:k=0}s&&(T.translateX=null,T.translateY=null),T.markedForRemoval||Vs(T,0,L+k);let h=(T.rect.element.height+m)*(T.markedForRemoval?T.opacity:1);L+=h})}else{let L=0,k=0;i.forEach((T,R)=>{R===l&&(u=1),R===c&&(d+=1),T.markedForRemoval&&T.opacity<.5&&(f-=1);const U=R+d+u+f,h=U%C,b=Math.floor(U/C),V=h*M,P=b*y,N=Math.sign(V-L),K=Math.sign(P-k);L=V,k=P,!T.markedForRemoval&&(s&&(T.translateX=null,T.translateY=null),Vs(T,V,P,N,K))})}},Ul=(e,t)=>t.filter(n=>n.data&&n.data.id?e.id===n.data.id:!0),Vl=ce({create:Ml,write:kl,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:Ul,mixins:{apis:["dragCoordinates"]}}),xl=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Vl)),t.dragCoordinates=null,t.overflowing=!1},Fl=({root:e,props:t,action:n})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:n.position.scopeLeft-e.ref.list.rect.element.left,top:n.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},$l=({props:e})=>{e.dragCoordinates=null},Hl=ve({DID_DRAG:Fl,DID_END_DRAG:$l}),ql=({root:e,props:t,actions:n})=>{if(Hl({root:e,props:t,actions:n}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const s=Math.round(t.overflow);s!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=s)}},Yl=ce({create:xl,write:ql,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Pe=(e,t,n,s="")=>{n?le(e,t,s):e.removeAttribute(t)},zl=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=xe("form"),n=e.parentNode,s=e.nextSibling;t.appendChild(e),t.reset(),s?n.insertBefore(e,s):n.appendChild(e)}}},Wl=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,le(e.element,"name",e.query("GET_NAME")),le(e.element,"aria-controls",`filepond--assistant-${t.id}`),le(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),qr({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),Yr({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),zr({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),An({root:e}),Wr({root:e,action:{value:e.query("GET_REQUIRED")}}),Xr({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=n=>{if(!e.element.value)return;const s=Array.from(e.element.files).map(r=>(r._relativePath=r.webkitRelativePath,r));setTimeout(()=>{t.onload(s),zl(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},qr=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Pe(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},Yr=({root:e,action:t})=>{Pe(e.element,"multiple",t.value)},zr=({root:e,action:t})=>{Pe(e.element,"webkitdirectory",t.value)},An=({root:e})=>{const t=e.query("GET_DISABLED"),n=e.query("GET_ALLOW_BROWSE"),s=t||!n;Pe(e.element,"disabled",s)},Wr=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&Pe(e.element,"required",!0):Pe(e.element,"required",!1)},Xr=({root:e,action:t})=>{Pe(e.element,"capture",!!t.value,t.value===!0?"":t.value)},xs=({root:e})=>{const{element:t}=e;e.query("GET_TOTAL_ITEMS")>0?(Pe(t,"required",!1),Pe(t,"name",!1)):(Pe(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&Pe(t,"required",!0))},Xl=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},jl=ce({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Wl,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:ve({DID_LOAD_ITEM:xs,DID_REMOVE_ITEM:xs,DID_THROW_ITEM_INVALID:Xl,DID_SET_DISABLED:An,DID_SET_ALLOW_BROWSE:An,DID_SET_ALLOW_DIRECTORIES_ONLY:zr,DID_SET_ALLOW_MULTIPLE:Yr,DID_SET_ACCEPTED_FILE_TYPES:qr,DID_SET_CAPTURE_METHOD:Xr,DID_SET_REQUIRED:Wr})}),Fs={ENTER:13,SPACE:32},Ql=({root:e,props:t})=>{const n=xe("label");le(n,"for",`filepond--browser-${t.id}`),le(n,"id",`filepond--drop-label-${t.id}`),le(n,"aria-hidden","true"),e.ref.handleKeyDown=s=>{(s.keyCode===Fs.ENTER||s.keyCode===Fs.SPACE)&&(s.preventDefault(),e.ref.label.click())},e.ref.handleClick=s=>{s.target===n||n.contains(s.target)||e.ref.label.click()},n.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),jr(n,t.caption),e.appendChild(n),e.ref.label=n},jr=(e,t)=>{e.innerHTML=t;const n=e.querySelector(".filepond--label-action");return n&&le(n,"tabindex","0"),t},Kl=ce({name:"drop-label",ignoreRect:!0,create:Ql,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:ve({DID_SET_LABEL_IDLE:({root:e,action:t})=>{jr(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Zl=ce({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Jl=({root:e})=>{const t=e.rect.element.width*.5,n=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(Zl,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:n}))},ec=({root:e,action:t})=>{if(!e.ref.blob){Jl({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},tc=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},nc=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},sc=({root:e,props:t,actions:n})=>{rc({root:e,props:t,actions:n});const{blob:s}=e.ref;n.length===0&&s&&s.opacity===0&&(e.removeChildView(s),e.ref.blob=null)},rc=ve({DID_DRAG:ec,DID_DROP:nc,DID_END_DRAG:tc}),ac=ce({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:sc}),Qr=(e,t)=>{try{const n=new DataTransfer;t.forEach(s=>{s instanceof File?n.items.add(s):n.items.add(new File([s],s.name,{type:s.type}))}),e.files=n.files}catch{return!1}return!0},oc=({root:e})=>e.ref.fields={},rn=(e,t)=>e.ref.fields[t],Zn=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},$s=({root:e})=>Zn(e),ic=({root:e,action:t})=>{const r=!(e.query("GET_ITEM",t.id).origin===fe.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),a=xe("input");a.type=r?"file":"hidden",a.name=e.query("GET_NAME"),a.disabled=e.query("GET_DISABLED"),e.ref.fields[t.id]=a,Zn(e)},lc=({root:e,action:t})=>{const n=rn(e,t.id);if(!n||(t.serverFileReference!==null&&(n.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const s=e.query("GET_ITEM",t.id);Qr(n,[s.file])},cc=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const n=rn(e,t.id);n&&Qr(n,[t.file])},0)},uc=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},dc=({root:e,action:t})=>{const n=rn(e,t.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete e.ref.fields[t.id])},fc=({root:e,action:t})=>{const n=rn(e,t.id);n&&(t.value===null?n.removeAttribute("value"):n.value=t.value,Zn(e))},mc=ve({DID_SET_DISABLED:uc,DID_ADD_ITEM:ic,DID_LOAD_ITEM:lc,DID_REMOVE_ITEM:dc,DID_DEFINE_VALUE:fc,DID_PREPARE_OUTPUT:cc,DID_REORDER_ITEMS:$s,DID_SORT_ITEMS:$s}),pc=ce({tag:"fieldset",name:"data",create:oc,write:mc,ignoreRect:!0}),_c=e=>"getRootNode"in e?e.getRootNode():document,gc=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Ec=["css","csv","html","txt"],Ic={zip:"zip|compressed",epub:"application/epub+zip"},Kr=(e="")=>(e=e.toLowerCase(),gc.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):Ec.includes(e)?"text/"+e:Ic[e]||""),Jn=e=>new Promise((t,n)=>{const s=Oc(e);if(s.length&&!hc(e))return t(s);vc(e).then(t)}),hc=e=>e.files?e.files.length>0:!1,vc=e=>new Promise((t,n)=>{const s=(e.items?Array.from(e.items):[]).filter(r=>Tc(r)).map(r=>Rc(r));if(!s.length){t(e.files?Array.from(e.files):[]);return}Promise.all(s).then(r=>{const a=[];r.forEach(o=>{a.push.apply(a,o)}),t(a.filter(o=>o).map(o=>(o._relativePath||(o._relativePath=o.webkitRelativePath),o)))}).catch(console.error)}),Tc=e=>{if(Zr(e)){const t=es(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},Rc=e=>new Promise((t,n)=>{if(bc(e)){yc(es(e)).then(t).catch(n);return}t([e.getAsFile()])}),yc=e=>new Promise((t,n)=>{const s=[];let r=0,a=0;const o=()=>{a===0&&r===0&&t(s)},i=l=>{r++;const c=l.createReader(),u=()=>{c.readEntries(f=>{if(f.length===0){r--,o();return}f.forEach(d=>{d.isDirectory?i(d):(a++,d.file(p=>{const m=Sc(p);d.fullPath&&(m._relativePath=d.fullPath),s.push(m),a--,o()}))}),u()},n)};u()};i(e)}),Sc=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,n=e.name,s=Kr(sn(e.name));return s.length&&(e=e.slice(0,e.size,s),e.name=n,e.lastModifiedDate=t),e},bc=e=>Zr(e)&&(es(e)||{}).isDirectory,Zr=e=>"webkitGetAsEntry"in e,es=e=>e.webkitGetAsEntry(),Oc=e=>{let t=[];try{if(t=Cc(e),t.length)return t;t=Dc(e)}catch{}return t},Dc=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},Cc=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},$t=[],st=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),Ac=(e,t,n)=>{const s=Mc(t),r={element:e,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return r.destroy=s.addListener(r),r},Mc=e=>{const t=$t.find(s=>s.element===e);if(t)return t;const n=wc(e);return $t.push(n),n},wc=e=>{const t=[],n={dragenter:Lc,dragover:Nc,dragleave:Bc,drop:Gc},s={};ne(n,(a,o)=>{s[a]=o(e,t),e.addEventListener(a,s[a],!1)});const r={element:e,addListener:a=>(t.push(a),()=>{t.splice(t.indexOf(a),1),t.length===0&&($t.splice($t.indexOf(r),1),ne(n,o=>{e.removeEventListener(o,s[o],!1)}))})};return r},Pc=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),ts=(e,t)=>{const n=_c(t),s=Pc(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return s===t||t.contains(s)};let Jr=null;const Gt=(e,t)=>{try{e.dropEffect=t}catch{}},Lc=(e,t)=>n=>{n.preventDefault(),Jr=n.target,t.forEach(s=>{const{element:r,onenter:a}=s;ts(n,r)&&(s.state="enter",a(st(n)))})},Nc=(e,t)=>n=>{n.preventDefault();const s=n.dataTransfer;Jn(s).then(r=>{let a=!1;t.some(o=>{const{filterElement:i,element:l,onenter:c,onexit:u,ondrag:f,allowdrop:d}=o;Gt(s,"copy");const p=d(r);if(!p){Gt(s,"none");return}if(ts(n,l)){if(a=!0,o.state===null){o.state="enter",c(st(n));return}if(o.state="over",i&&!p){Gt(s,"none");return}f(st(n))}else i&&!a&&Gt(s,"none"),o.state&&(o.state=null,u(st(n)))})})},Gc=(e,t)=>n=>{n.preventDefault();const s=n.dataTransfer;Jn(s).then(r=>{t.forEach(a=>{const{filterElement:o,element:i,ondrop:l,onexit:c,allowdrop:u}=a;if(a.state=null,!(o&&!ts(n,i))){if(!u(r))return c(st(n));l(st(n),r)}})})},Bc=(e,t)=>n=>{Jr===n.target&&t.forEach(s=>{const{onexit:r}=s;s.state=null,r(st(n))})},kc=(e,t,n)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:s,requiresDropOnElement:r,filterItems:a=u=>u}=n,o=Ac(e,s?document.documentElement:e,r);let i="",l="";o.allowdrop=u=>t(a(u)),o.ondrop=(u,f)=>{const d=a(f);if(!t(d)){c.ondragend(u);return}l="drag-drop",c.onload(d,u)},o.ondrag=u=>{c.ondrag(u)},o.onenter=u=>{l="drag-over",c.ondragstart(u)},o.onexit=u=>{l="drag-exit",c.ondragend(u)};const c={updateHopperState:()=>{i!==l&&(e.dataset.hopperState=l,i=l)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{o.destroy()}};return c};let Mn=!1;const dt=[],ea=e=>{const t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){let n=!1,s=t;for(;s!==document.body;){if(s.classList.contains("filepond--root")){n=!0;break}s=s.parentNode}if(!n)return}Jn(e.clipboardData).then(n=>{n.length&&dt.forEach(s=>s(n))})},Uc=e=>{dt.includes(e)||(dt.push(e),!Mn&&(Mn=!0,document.addEventListener("paste",ea)))},Vc=e=>{zn(dt,dt.indexOf(e)),dt.length===0&&(document.removeEventListener("paste",ea),Mn=!1)},xc=()=>{const e=n=>{t.onload(n)},t={destroy:()=>{Vc(e)},onload:()=>{}};return Uc(e),t},Fc=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,le(e.element,"role","status"),le(e.element,"aria-live","polite"),le(e.element,"aria-relevant","additions")};let Hs=null,qs=null;const In=[],an=(e,t)=>{e.element.textContent=t},$c=e=>{e.element.textContent=""},ta=(e,t,n)=>{const s=e.query("GET_TOTAL_ITEMS");an(e,`${n} ${t}, ${s} ${s===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(qs),qs=setTimeout(()=>{$c(e)},1500)},na=e=>e.element.parentNode.contains(document.activeElement),Hc=({root:e,action:t})=>{if(!na(e))return;e.element.textContent="";const n=e.query("GET_ITEM",t.id);In.push(n.filename),clearTimeout(Hs),Hs=setTimeout(()=>{ta(e,In.join(", "),e.query("GET_LABEL_FILE_ADDED")),In.length=0},750)},qc=({root:e,action:t})=>{if(!na(e))return;const n=t.item;ta(e,n.filename,e.query("GET_LABEL_FILE_REMOVED"))},Yc=({root:e,action:t})=>{const s=e.query("GET_ITEM",t.id).filename,r=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");an(e,`${s} ${r}`)},Ys=({root:e,action:t})=>{const s=e.query("GET_ITEM",t.id).filename,r=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");an(e,`${s} ${r}`)},Bt=({root:e,action:t})=>{const s=e.query("GET_ITEM",t.id).filename;an(e,`${t.status.main} ${s} ${t.status.sub}`)},zc=ce({create:Fc,ignoreRect:!0,ignoreRectUpdate:!0,write:ve({DID_LOAD_ITEM:Hc,DID_REMOVE_ITEM:qc,DID_COMPLETE_ITEM_PROCESSING:Yc,DID_ABORT_ITEM_PROCESSING:Ys,DID_REVERT_ITEM_PROCESSING:Ys,DID_THROW_ITEM_REMOVE_ERROR:Bt,DID_THROW_ITEM_LOAD_ERROR:Bt,DID_THROW_ITEM_INVALID:Bt,DID_THROW_ITEM_PROCESSING_ERROR:Bt}),tag:"span",name:"assistant"}),sa=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),n=>n.charAt(1).toUpperCase()),ra=(e,t=16,n=!0)=>{let s=Date.now(),r=null;return(...a)=>{clearTimeout(r);const o=Date.now()-s,i=()=>{s=Date.now(),e(...a)};o<t?n||(r=setTimeout(i,t-o)):i()}},Wc=1e6,Ht=e=>e.preventDefault(),Xc=({root:e,props:t})=>{const n=e.query("GET_ID");n&&(e.element.id=n);const s=e.query("GET_CLASS_NAME");s&&s.split(" ").filter(l=>l.length).forEach(l=>{e.element.classList.add(l)}),e.ref.label=e.appendChildView(e.createChildView(Kl,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(Yl,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(Hr,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(zc,{...t})),e.ref.data=e.appendChildView(e.createChildView(pc,{...t})),e.ref.measure=xe("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(l=>!Ve(l.value)).map(({name:l,value:c})=>{e.element.dataset[l]=c}),e.ref.widthPrevious=null,e.ref.widthUpdated=ra(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const r=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&a&&!r&&(e.element.addEventListener("touchmove",Ht,{passive:!1}),e.element.addEventListener("gesturestart",Ht));const o=e.query("GET_CREDITS");if(o.length===2){const l=document.createElement("a");l.className="filepond--credits",l.setAttribute("aria-hidden","true"),l.href=o[0],l.tabindex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=o[1],e.element.appendChild(l),e.ref.credits=l}},jc=({root:e,props:t,actions:n})=>{if(eu({root:e,props:t,actions:n}),n.filter(R=>/^DID_SET_STYLE_/.test(R.type)).filter(R=>!Ve(R.data.value)).map(({type:R,data:U})=>{const h=sa(R.substring(8).toLowerCase(),"_");e.element.dataset[h]=U.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let s=e.ref.bounds;s||(s=e.ref.bounds=Zc(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:r,label:a,list:o,panel:i}=e.ref;r&&r.updateHopperState();const l=e.query("GET_PANEL_ASPECT_RATIO"),c=e.query("GET_ALLOW_MULTIPLE"),u=e.query("GET_TOTAL_ITEMS"),f=c?e.query("GET_MAX_FILES")||Wc:1,d=u===f,p=n.find(R=>R.type==="DID_ADD_ITEM");if(d&&p){const R=p.data.interactionMethod;a.opacity=0,c?a.translateY=-40:R===De.API?a.translateX=40:R===De.BROWSE?a.translateY=40:a.translateY=30}else d||(a.opacity=1,a.translateX=0,a.translateY=0);const m=Qc(e),_=Kc(e),M=a.rect.element.height,y=!c||d?0:M,C=d?o.rect.element.marginTop:0,L=u===0?0:o.rect.element.marginBottom,k=y+C+_.visual+L,T=y+C+_.bounds+L;if(o.translateY=Math.max(0,y-o.rect.element.marginTop)-m.top,l){const R=e.rect.element.width,U=R*l;l!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=l,e.ref.updateHistory=[]);const h=e.ref.updateHistory;h.push(R);const b=2;if(h.length>b*2){const P=h.length,N=P-10;let K=0;for(let S=P;S>=N;S--)if(h[S]===h[S-2]&&K++,K>=b)return}i.scalable=!1,i.height=U;const V=U-y-(L-m.bottom)-(d?C:0);_.visual>V?o.overflow=V:o.overflow=null,e.height=U}else if(s.fixedHeight){i.scalable=!1;const R=s.fixedHeight-y-(L-m.bottom)-(d?C:0);_.visual>R?o.overflow=R:o.overflow=null}else if(s.cappedHeight){const R=k>=s.cappedHeight,U=Math.min(s.cappedHeight,k);i.scalable=!0,i.height=R?U:U-m.top-m.bottom;const h=U-y-(L-m.bottom)-(d?C:0);k>s.cappedHeight&&_.visual>h?o.overflow=h:o.overflow=null,e.height=Math.min(s.cappedHeight,T-m.top-m.bottom)}else{const R=u>0?m.top+m.bottom:0;i.scalable=!0,i.height=Math.max(M,k-R),e.height=Math.max(M,T-R)}e.ref.credits&&i.heightCurrent&&(e.ref.credits.style.transform=`translateY(${i.heightCurrent}px)`)},Qc=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Kc=e=>{let t=0,n=0;const s=e.ref.list,r=s.childViews[0],a=r.childViews.filter(C=>C.rect.element.height),o=e.query("GET_ACTIVE_ITEMS").map(C=>a.find(L=>L.id===C.id)).filter(C=>C);if(o.length===0)return{visual:t,bounds:n};const i=r.rect.element.width,l=Kn(r,o,s.dragCoordinates),c=o[0].rect.element,u=c.marginTop+c.marginBottom,f=c.marginLeft+c.marginRight,d=c.width+f,p=c.height+u,m=typeof l<"u"&&l>=0?1:0,_=o.find(C=>C.markedForRemoval&&C.opacity<.45)?-1:0,M=o.length+m+_,y=Qn(i,d);return y===1?o.forEach(C=>{const L=C.rect.element.height+u;n+=L,t+=L*C.opacity}):(n=Math.ceil(M/y)*p,t=n),{visual:t,bounds:n}},Zc=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},ns=(e,t)=>{const n=e.query("GET_ALLOW_REPLACE"),s=e.query("GET_ALLOW_MULTIPLE"),r=e.query("GET_TOTAL_ITEMS");let a=e.query("GET_MAX_FILES");const o=t.length;return!s&&o>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:se("warning",0,"Max files")}),!0):(a=s?a:1,!s&&n?!1:Et(a)&&r+o>a?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:se("warning",0,"Max files")}),!0):!1)},Jc=(e,t,n)=>{const s=e.childViews[0];return Kn(s,t,{left:n.scopeLeft-s.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},zs=e=>{const t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),s=t&&!n;if(s&&!e.ref.hopper){const r=kc(e.element,a=>{const o=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?a.every(l=>ot("ALLOW_HOPPER_ITEM",l,{query:e.query}).every(c=>c===!0)&&o(l)):!0},{filterItems:a=>{const o=e.query("GET_IGNORED_FILES");return a.filter(i=>_t(i)?!o.includes(i.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});r.onload=(a,o)=>{const l=e.ref.list.childViews[0].childViews.filter(u=>u.rect.element.height),c=e.query("GET_ACTIVE_ITEMS").map(u=>l.find(f=>f.id===u.id)).filter(u=>u);Me("ADD_ITEMS",a,{dispatch:e.dispatch}).then(u=>{if(ns(e,u))return!1;e.dispatch("ADD_ITEMS",{items:u,index:Jc(e.ref.list,c,o),interactionMethod:De.DROP})}),e.dispatch("DID_DROP",{position:o}),e.dispatch("DID_END_DRAG",{position:o})},r.ondragstart=a=>{e.dispatch("DID_START_DRAG",{position:a})},r.ondrag=ra(a=>{e.dispatch("DID_DRAG",{position:a})}),r.ondragend=a=>{e.dispatch("DID_END_DRAG",{position:a})},e.ref.hopper=r,e.ref.drip=e.appendChildView(e.createChildView(ac))}else!s&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Ws=(e,t)=>{const n=e.query("GET_ALLOW_BROWSE"),s=e.query("GET_DISABLED"),r=n&&!s;r&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(jl,{...t,onload:a=>{Me("ADD_ITEMS",a,{dispatch:e.dispatch}).then(o=>{if(ns(e,o))return!1;e.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:De.BROWSE})})}}),0):!r&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Xs=e=>{const t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),s=t&&!n;s&&!e.ref.paster?(e.ref.paster=xc(),e.ref.paster.onload=r=>{Me("ADD_ITEMS",r,{dispatch:e.dispatch}).then(a=>{if(ns(e,a))return!1;e.dispatch("ADD_ITEMS",{items:a,index:-1,interactionMethod:De.PASTE})})}):!s&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},eu=ve({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{Ws(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{zs(e)},DID_SET_ALLOW_PASTE:({root:e})=>{Xs(e)},DID_SET_DISABLED:({root:e,props:t})=>{zs(e),Xs(e),Ws(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),tu=ce({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:Xc,write:jc,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Ht),e.element.removeEventListener("gesturestart",Ht)},mixins:{styles:["height"]}}),nu=(e={})=>{let t=null;const n=Ft(),s=Io(si(n),[Ri,oi(n)],[Wi,ai(n)]);s.dispatch("SET_OPTIONS",{options:e});const r=()=>{document.hidden||s.dispatch("KICK")};document.addEventListener("visibilitychange",r);let a=null,o=!1,i=!1,l=null,c=null;const u=()=>{o||(o=!0),clearTimeout(a),a=setTimeout(()=>{o=!1,l=null,c=null,i&&(i=!1,s.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",u);const f=tu(s,{id:Yn()});let d=!1,p=!1;const m={_read:()=>{o&&(c=window.innerWidth,l||(l=c),!i&&c!==l&&(s.dispatch("DID_START_RESIZE"),i=!0)),p&&d&&(d=f.element.offsetParent===null),!d&&(f._read(),p=f.rect.element.hidden)},_write:E=>{const O=s.processActionQueue().filter(G=>!/^SET_/.test(G.type));d&&!O.length||(C(O),d=f._write(E,O,i),ci(s.query("GET_ITEMS")),d&&s.processDispatchQueue())}},_=E=>O=>{const G={type:E};if(!O)return G;if(O.hasOwnProperty("error")&&(G.error=O.error?{...O.error}:null),O.status&&(G.status={...O.status}),O.file&&(G.output=O.file),O.source)G.file=O.source;else if(O.item||O.id){const B=O.item?O.item:s.query("GET_ITEM",O.id);G.file=B?Te(B):null}return O.items&&(G.items=O.items.map(Te)),/progress/.test(E)&&(G.progress=O.progress),O.hasOwnProperty("origin")&&O.hasOwnProperty("target")&&(G.origin=O.origin,G.target=O.target),G},M={DID_DESTROY:_("destroy"),DID_INIT:_("init"),DID_THROW_MAX_FILES:_("warning"),DID_INIT_ITEM:_("initfile"),DID_START_ITEM_LOAD:_("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:_("addfileprogress"),DID_LOAD_ITEM:_("addfile"),DID_THROW_ITEM_INVALID:[_("error"),_("addfile")],DID_THROW_ITEM_LOAD_ERROR:[_("error"),_("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[_("error"),_("removefile")],DID_PREPARE_OUTPUT:_("preparefile"),DID_START_ITEM_PROCESSING:_("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:_("processfileprogress"),DID_ABORT_ITEM_PROCESSING:_("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:_("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:_("processfiles"),DID_REVERT_ITEM_PROCESSING:_("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[_("error"),_("processfile")],DID_REMOVE_ITEM:_("removefile"),DID_UPDATE_ITEMS:_("updatefiles"),DID_ACTIVATE_ITEM:_("activatefile"),DID_REORDER_ITEMS:_("reorderfiles")},y=E=>{const O={pond:H,...E};delete O.type,f.element.dispatchEvent(new CustomEvent(`FilePond:${E.type}`,{detail:O,bubbles:!0,cancelable:!0,composed:!0}));const G=[];E.hasOwnProperty("error")&&G.push(E.error),E.hasOwnProperty("file")&&G.push(E.file);const B=["type","error","file"];Object.keys(E).filter(j=>!B.includes(j)).forEach(j=>G.push(E[j])),H.fire(E.type,...G);const x=s.query(`GET_ON${E.type.toUpperCase()}`);x&&x(...G)},C=E=>{E.length&&E.filter(O=>M[O.type]).forEach(O=>{const G=M[O.type];(Array.isArray(G)?G:[G]).forEach(B=>{O.type==="DID_INIT_ITEM"?y(B(O.data)):setTimeout(()=>{y(B(O.data))},0)})})},L=E=>s.dispatch("SET_OPTIONS",{options:E}),k=E=>s.query("GET_ACTIVE_ITEM",E),T=E=>new Promise((O,G)=>{s.dispatch("REQUEST_ITEM_PREPARE",{query:E,success:B=>{O(B)},failure:B=>{G(B)}})}),R=(E,O={})=>new Promise((G,B)=>{b([{source:E,options:O}],{index:O.index}).then(x=>G(x&&x[0])).catch(B)}),U=E=>E.file&&E.id,h=(E,O)=>(typeof E=="object"&&!U(E)&&!O&&(O=E,E=void 0),s.dispatch("REMOVE_ITEM",{...O,query:E}),s.query("GET_ACTIVE_ITEM",E)===null),b=(...E)=>new Promise((O,G)=>{const B=[],x={};if(Jt(E[0]))B.push.apply(B,E[0]),Object.assign(x,E[1]||{});else{const j=E[E.length-1];typeof j=="object"&&!(j instanceof Blob)&&Object.assign(x,E.pop()),B.push(...E)}s.dispatch("ADD_ITEMS",{items:B,index:x.index,interactionMethod:De.API,success:O,failure:G})}),V=()=>s.query("GET_ACTIVE_ITEMS"),P=E=>new Promise((O,G)=>{s.dispatch("REQUEST_ITEM_PROCESSING",{query:E,success:B=>{O(B)},failure:B=>{G(B)}})}),N=(...E)=>{const O=Array.isArray(E[0])?E[0]:E,G=O.length?O:V();return Promise.all(G.map(T))},K=(...E)=>{const O=Array.isArray(E[0])?E[0]:E;if(!O.length){const G=V().filter(B=>!(B.status===z.IDLE&&B.origin===fe.LOCAL)&&B.status!==z.PROCESSING&&B.status!==z.PROCESSING_COMPLETE&&B.status!==z.PROCESSING_REVERT_ERROR);return Promise.all(G.map(P))}return Promise.all(O.map(P))},S=(...E)=>{const O=Array.isArray(E[0])?E[0]:E;let G;typeof O[O.length-1]=="object"?G=O.pop():Array.isArray(E[0])&&(G=E[1]);const B=V();return O.length?O.map(j=>Ke(j)?B[j]?B[j].id:null:j).filter(j=>j).map(j=>h(j,G)):Promise.all(B.map(j=>h(j,G)))},H={...nn(),...m,...ri(s,n),setOptions:L,addFile:R,addFiles:b,getFile:k,processFile:P,prepareFile:T,removeFile:h,moveFile:(E,O)=>s.dispatch("MOVE_ITEM",{query:E,index:O}),getFiles:V,processFiles:K,removeFiles:S,prepareFiles:N,sort:E=>s.dispatch("SORT",{compare:E}),browse:()=>{var E=f.element.querySelector("input[type=file]");E&&E.click()},destroy:()=>{H.fire("destroy",f.element),s.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",u),document.removeEventListener("visibilitychange",r),s.dispatch("DID_DESTROY")},insertBefore:E=>Es(f.element,E),insertAfter:E=>Is(f.element,E),appendTo:E=>E.appendChild(f.element),replaceElement:E=>{Es(f.element,E),E.parentNode.removeChild(E),t=E},restoreElement:()=>{t&&(Is(t,f.element),f.element.parentNode.removeChild(f.element),t=null)},isAttachedTo:E=>f.element===E||t===E,element:{get:()=>f.element},status:{get:()=>s.query("GET_STATUS")}};return s.dispatch("DID_INIT"),We(H)},aa=(e={})=>{const t={};return ne(Ft(),(s,r)=>{t[s]=r[0]}),nu({...t,...e})},su=e=>e.charAt(0).toLowerCase()+e.slice(1),ru=e=>sa(e.replace(/^data-/,"")),oa=(e,t)=>{ne(t,(n,s)=>{ne(e,(r,a)=>{const o=new RegExp(n);if(!o.test(r)||(delete e[r],s===!1))return;if(he(s)){e[s]=a;return}const l=s.group;pe(s)&&!e[l]&&(e[l]={}),e[l][su(r.replace(o,""))]=a}),s.mapping&&oa(e[s.group],s.mapping)})},au=(e,t={})=>{const n=[];ne(e.attributes,r=>{n.push(e.attributes[r])});const s=n.filter(r=>r.name).reduce((r,a)=>{const o=le(e,a.name);return r[ru(a.name)]=o===a.name?!0:o,r},{});return oa(s,t),s},ou=(e,t={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};ot("SET_ATTRIBUTE_TO_OPTION_MAP",n);const s={...t},r=au(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,n);Object.keys(r).forEach(o=>{pe(r[o])?(pe(s[o])||(s[o]={}),Object.assign(s[o],r[o])):s[o]=r[o]}),s.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(o=>({source:o.value,options:{type:o.dataset.type}})));const a=aa(s);return e.files&&Array.from(e.files).forEach(o=>{a.addFile(o)}),a.replaceElement(e),a},iu=(...e)=>Eo(e[0])?ou(...e):aa(...e),lu=["fire","_read","_write"],js=e=>{const t={};return Cr(e,t,lu),t},cu=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(n,s)=>t[s]),uu=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),s=new Worker(n);return{transfer:(r,a)=>{},post:(r,a,o)=>{const i=Yn();s.onmessage=l=>{l.data.id===i&&a(l.data.message)},s.postMessage({id:i,message:r},o)},terminate:()=>{s.terminate(),URL.revokeObjectURL(n)}}},du=e=>new Promise((t,n)=>{const s=new Image;s.onload=()=>{t(s)},s.onerror=r=>{n(r)},s.src=e}),ia=(e,t)=>{const n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},fu=e=>ia(e,e.name),Qs=[],mu=e=>{if(Qs.includes(e))return;Qs.push(e);const t=e({addFilter:di,utils:{Type:I,forin:ne,isString:he,isFile:_t,toNaturalFileSize:xr,replaceInString:cu,getExtensionFromFilename:sn,getFilenameWithoutExtension:kr,guesstimateMimeType:Kr,getFileFromBlob:pt,getFilenameFromURL:At,createRoute:ve,createWorker:uu,createView:ce,createItemAPI:Te,loadImage:du,copyFile:fu,renameFile:ia,createBlob:Nr,applyFilterChain:Me,text:re,getNumericAspectRatioFromString:wr},views:{fileActionButton:Vr}});fi(t.options)},pu=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",_u=()=>"Promise"in window,gu=()=>"slice"in Blob.prototype,Eu=()=>"URL"in window&&"createObjectURL"in window.URL,Iu=()=>"visibilityState"in document,hu=()=>"performance"in window,vu=()=>"supports"in(window.CSS||{}),Tu=()=>/MSIE|Trident/.test(window.navigator.userAgent),wn=(()=>{const e=Rr()&&!pu()&&Iu()&&_u()&&gu()&&Eu()&&hu()&&(vu()||Tu());return()=>e})(),He={apps:[]},Ru="filepond",it=()=>{};let qt={},Vt=it,hn=it,Ks=it,Zs=it,Pn=it,Js=it,er=it;if(wn()){Ho(()=>{He.apps.forEach(n=>n._read())},n=>{He.apps.forEach(s=>s._write(n))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:wn,create:Vt,destroy:hn,parse:Ks,find:Zs,registerPlugin:Pn,setOptions:er}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>ne(Ft(),(n,s)=>{qt[n]=s[1]});qt={},t(),Vt=(...n)=>{const s=iu(...n);return s.on("destroy",hn),He.apps.push(s),js(s)},hn=n=>{const s=He.apps.findIndex(r=>r.isAttachedTo(n));return s>=0?(He.apps.splice(s,1)[0].restoreElement(),!0):!1},Ks=n=>Array.from(n.querySelectorAll(`.${Ru}`)).filter(a=>!He.apps.find(o=>o.isAttachedTo(a))).map(a=>Vt(a)),Zs=n=>{const s=He.apps.find(r=>r.isAttachedTo(n));return s?js(s):null},Pn=(...n)=>{n.forEach(mu),t()},Js=()=>{const n={};return ne(Ft(),(s,r)=>{n[s]=r[0]}),n},er=n=>(pe(n)&&(He.apps.forEach(s=>{s.setOptions(n)}),mi(n)),Js())}/*!
 * vue-filepond v7.0.4
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2023 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const yu=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],Su=wn(),bu=e=>({string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object})[e],kt={},vn=[],Tn=[];let Ou={};const Du=(...e)=>{Pn(...e),vn.length=0;for(const t in qt){if(/^on/.test(t)){vn.push(t);continue}let n=[String,bu(qt[t])];t=="labelFileProcessingError"&&n.push(Function),kt[t]={type:n,default:void 0}}return{name:"FilePond",props:kt,render(){const t=Object.entries({id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}).reduce((n,[s,r])=>(r!==void 0&&(n[s]=r),n),{});return Ye("div",{class:{"filepond--wrapper":!0}},[Ye("input",t)])},created(){this.watchers=Object.keys(kt).map(t=>this.$watch(t,n=>{this._pond&&(this._pond[t]=n)}))},mounted(){if(!Su)return;this._element=this.$el.querySelector("input");const t=vn.reduce((s,r)=>(s[r]=(...a)=>{this.$emit("input",this._pond?this._pond.getFiles():[]),this.$emit(r.substr(2),...a)},s),{}),n={};Object.keys(kt).forEach(s=>{this[s]!==void 0&&(n[s]=this[s])}),this._pond=Vt(this._element,Object.assign({},Ou,t,n)),Object.keys(this._pond).filter(s=>!yu.includes(s)).forEach(s=>{this[s]=this._pond[s]}),Tn.push(this._pond)},beforeUnmount(){const{detached:t}=this.$options;if(!this.$el.offsetParent){t.call(this);return}const n=(r,a)=>{const i=((r[0]||{}).removedNodes||[])[0];!i||!i.contains(this.$el)||(a.disconnect(),t.call(this))};new MutationObserver(n).observe(document.documentElement,{childList:!0,subtree:!0})},detached(){if(this.watchers.forEach(n=>n()),!this._pond)return;this._pond.destroy();const t=Tn.indexOf(this._pond);t>=0&&Tn.splice(t,1),this._pond=null}}},Cu='<svg class="mb-3" height="77" role="img" viewBox="0 0 97.6 77.3" width="96"><path d="M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z" fill="currentColor"></path><path d="M84.7 18.4 58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z" fill="currentColor"></path><path d="M78.2 41.6 61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z" fill="currentColor"></path></svg>Drag photos and videos here<br /><div class="v-btn bg-primary mt-5 px-3 py-2 filepond--label-action">Select from computer</div>',la=q({__name:"InstagramMediaDropzone",emits:["add"],setup(e,{emit:t}){const n=Gn(),s=Du(),r=F(()=>n.user),a=t,o=X([]);function i(l){a("add",l.source),r.value.media.addMedia({file:l.source},"posts","unshift"),r.value.save()}return(l,c)=>(v(),A(Y(s),{name:"test",class:"ig-dropzone","drop-on-element":!1,"drop-on-page":!0,"allow-multiple":"","label-idle":Cu,credits:"","accepted-file-types":"image/jpeg, image/jpg, image/png, image/mp4",files:Y(o),onInitfile:i},{default:D(()=>[g(qe,{class:"d-none"})]),_:1},8,["files"]))}}),Au=q({__name:"InstagramMediaContextMenuRemove",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t;async function r(){await n.media.remove(),s("close")}return(a,o)=>(v(),A(Ee,{onClick:r,class:"text-red"},{default:D(()=>[g(Le,null,{default:D(()=>[ee("Remove")]),_:1})]),_:1}))}}),Mu=q({__name:"InstagramMediaContextMenuConvertToIframe",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function s(){const r=window.prompt("URL of the iframe","https://");r&&(n.media.convertToIframe(r),n.media.user.save())}return(r,a)=>(v(),A(Ee,{onClick:s},{default:D(()=>[g(Le,null,{default:D(()=>[ee("Convert to iframe")]),_:1})]),_:1}))}}),wu=q({__name:"InstagramMediaContextMenuConvertToAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function s(){n.media.convertToAlbum(),n.media.user.save()}return(r,a)=>(v(),A(Ee,{onClick:s},{default:D(()=>[g(Le,null,{default:D(()=>[ee("Convert to album")]),_:1})]),_:1}))}}),Pu=q({__name:"InstagramMediaContextMenuReplaceMedia",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,{open:r,onChange:a}=Ct({accept:"image/*",multiple:!1});return a(o=>{if(!o)return;const i=o[0];n.media.setMediaImage(i),n.media.refresh(),n.media.save(),s("close")}),(o,i)=>(v(),A(Ee,{onClick:Y(r)},{default:D(()=>[g(Le,null,{default:D(()=>[ee("Replace media")]),_:1})]),_:1},8,["onClick"]))}}),Lu=q({__name:"InstagramMediaContextMenuRemoveCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t;function r(){n.media.removeCover(),n.media.refresh(),n.media.save(),s("close")}return(a,o)=>(v(),A(Ee,{onClick:r},{default:D(()=>[g(Le,null,{default:D(()=>[ee("Remove cover")]),_:1})]),_:1}))}}),Nu=q({__name:"InstagramMediaContextMenuReplaceCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,{files:r,open:a,reset:o,onChange:i}=Ct({accept:"image/*",multiple:!1});return i(l=>{if(!l)return;const c=l[0];n.media.setCover(c),n.media.refresh(),n.media.save(),s("close")}),(l,c)=>(v(),A(Ee,{onClick:Y(a)},{default:D(()=>[g(Le,null,{default:D(()=>[ee("Replace cover")]),_:1})]),_:1},8,["onClick"]))}}),Gu=q({__name:"InstagramMediaContextMenuAddCover",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,{open:r,onChange:a}=Ct({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return a(o=>{if(!o)return;const i=o[0];n.media.setCover(i),n.media.save(),s("close")}),(o,i)=>(v(),A(Ee,{onClick:Y(r)},{default:D(()=>[g(Le,null,{default:D(()=>[ee("Add cover")]),_:1})]),_:1},8,["onClick"]))}}),Bu=q({__name:"InstagramMediaContextMenuRemoveFromAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t;function r(){n.media.removeFromAlbum(),s("close")}return(a,o)=>(v(),A(Ee,{onClick:r},{default:D(()=>[g(Le,null,{default:D(()=>[ee("Remove from album")]),_:1})]),_:1}))}}),ku=q({__name:"InstagramMediaContextMenuAddToAlbum",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,{files:r,open:a,reset:o,onChange:i}=Ct({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return i(l=>{if(!l)return;const c=l[0];n.media.addToAlbum(c),s("close")}),(l,c)=>(v(),A(Ee,{onClick:Y(a)},{default:D(()=>[g(Le,null,{default:D(()=>[ee("Add to album")]),_:1})]),_:1},8,["onClick"]))}}),Uu=q({__name:"InstagramMediaContextMenuGroup",props:{title:{}},setup(e){return(t,n)=>(v(),A(Ee,{class:"px-0 mt-1"},{default:D(()=>[g(Le,{class:"text-overline px-4",textContent:et(t.title)},null,8,["textContent"]),g(St,{density:"compact",class:"ma-0 pa-0"},{default:D(()=>[Bn(t.$slots,"default",{},void 0,!0)]),_:3})]),_:3}))}}),Vu=J(Uu,[["__scopeId","data-v-2ab222ad"]]),xu=q({__name:"InstagramMediaContextMenuCloneToReel",props:{media:{}},emits:["close"],setup(e,{emit:t}){const n=e;function s(){n.media.cloneToReel(),n.media.user.save()}return(r,a)=>(v(),A(Ee,{onClick:s},{default:D(()=>[g(Le,null,{default:D(()=>[ee("Clone to reel")]),_:1})]),_:1}))}}),Fu=q({__name:"InstagramMediaContextMenu",props:{media:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=t;function s(){n("update:modelValue",!1)}return(r,a)=>{const o=xu,i=Vu,l=ku,c=Bu,u=Gu,f=Nu,d=Lu,p=Pu,m=wu,_=Mu,M=Au;return v(),A(Ya,{"content-class":"ig-media__context-menu",transition:"slide-y-transition",attach:"","close-on-content-click":!1,onClick:a[0]||(a[0]=Ra(()=>{},["stop"]))},{default:D(()=>[g(St,{density:"compact",class:"ma-3 py-2"},{default:D(()=>[["video","iframe"].includes(r.media.type)&&!r.media.isReel?(v(),A(i,{key:0,title:"Reel"},{default:D(()=>[["video","iframe"].includes(r.media.type)&&!r.media.isReel?(v(),A(o,{key:0,media:r.media,onClose:s},null,8,["media"])):Q("",!0)]),_:1})):Q("",!0),["album"].includes(r.media.type)?(v(),A(i,{key:1,title:"Album"},{default:D(()=>[g(l,{media:r.media,onClose:s},null,8,["media"]),r.media.list.length>1?(v(),A(c,{key:0,media:r.media,onClose:s},null,8,["media"])):Q("",!0)]),_:1})):Q("",!0),["video","iframe"].includes(r.media.type)?(v(),A(i,{key:2,title:"Cover"},{default:D(()=>[r.media.cover?Q("",!0):(v(),A(u,{key:0,media:r.media,onClose:s},null,8,["media"])),r.media.cover?(v(),A(f,{key:1,media:r.media,onClose:s},null,8,["media"])):Q("",!0),r.media.cover?(v(),A(d,{key:2,media:r.media,onClose:s},null,8,["media"])):Q("",!0)]),_:1})):Q("",!0),["image","video"].includes(r.media.type)?(v(),A(i,{key:3,title:"Media"},{default:D(()=>[g(p,{media:r.media,onClose:s},null,8,["media"]),r.media.isReel?Q("",!0):(v(),A(m,{key:0,media:r.media,onClose:s},null,8,["media"])),r.media.type==="image"?(v(),A(_,{key:1,media:r.media,onClose:s},null,8,["media"])):Q("",!0)]),_:1})):Q("",!0),g(Er,{class:"my-2"}),g(M,{media:r.media,onClose:s},null,8,["media"])]),_:1})]),_:1})}}}),$u={class:"ig-media__icon"},Hu=q({__name:"InstagramMediaContainer",props:{media:{},type:{},contextMenu:{type:Boolean}},setup(e){const t=X(!1);function n(s){s.preventDefault(),t.value=!t.value}return(s,r)=>{const a=Fu;return v(),te("div",{class:gt(["ig-media",`ig-media--${s.type}`]),onContextmenu:n},[(v(),A(ft,null,{default:D(()=>[Bn(s.$slots,"default",{},void 0,!0)]),_:3})),Z("div",$u,[s.type==="album"?(v(),A(Xe,{key:0},{default:D(()=>[ee("mdi-folder-multiple-image")]),_:1})):Q("",!0),s.type==="video"?(v(),A(Xe,{key:1},{default:D(()=>[ee("mdi-play")]),_:1})):Q("",!0)]),s.contextMenu?(v(),A(a,{key:0,modelValue:Y(t),"onUpdate:modelValue":r[0]||(r[0]=o=>rt(t)?t.value=o:null),media:s.media},null,8,["modelValue","media"])):Q("",!0)],34)}}}),on=J(Hu,[["__scopeId","data-v-3edf0799"]]),ss=q({__name:"InstagramMediaImage",props:{media:{}},async setup(e){let t,n;const s=e,r=([t,n]=kn(()=>ar(s.media)),t=await t,n(),t);return(a,o)=>{const i=on;return v(),A(i,{type:"image",media:a.media},{default:D(()=>[g(Ir,{cover:"",height:"100%",src:Y(r)},null,8,["src"])]),_:1},8,["media"])}}}),qu=["src"],Yu=q({__name:"InstagramMediaIframe",props:{media:{},reel:{type:Boolean}},setup(e){const n=X(typeof e.media.cover!="object");return(s,r)=>{const a=ss,o=on;return v(),A(o,{type:Y(n)?"iframe":"video",media:s.media,class:gt({"ig-media--reel":s.reel})},{default:D(()=>[Y(n)?(v(),te("iframe",{key:1,src:s.media.href},null,8,qu)):(v(),A(a,{key:0,media:s.media.cover,onClick:r[0]||(r[0]=i=>n.value=!0)},null,8,["media"]))]),_:1},8,["type","media","class"])}}}),ca=J(Yu,[["__scopeId","data-v-ca6aed98"]]),rs=Symbol.for("vuetify:v-slider");function zu(e,t,n){const s=n==="vertical",r=t.getBoundingClientRect(),a="touches"in e?e.touches[0]:e;return s?a.clientY-(r.top+r.height/2):a.clientX-(r.left+r.width/2)}function Wu(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const Xu=Fe({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Xt(),...jt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),ju=e=>{const t=F(()=>parseFloat(e.min)),n=F(()=>parseFloat(e.max)),s=F(()=>+e.step>0?parseFloat(e.step):0),r=F(()=>Math.max(ls(s.value),ls(t.value)));function a(o){if(o=parseFloat(o),s.value<=0)return o;const i=or(o,t.value,n.value),l=t.value%s.value,c=Math.round((i-l)/s.value)*s.value+l;return parseFloat(Math.min(c,n.value).toFixed(r.value))}return{min:t,max:n,step:s,decimals:r,roundValue:a}},Qu=e=>{let{props:t,steps:n,onSliderStart:s,onSliderMove:r,onSliderEnd:a,getActiveThumb:o}=e;const{isRtl:i}=zt(),l=me(t,"reverse"),c=F(()=>t.direction==="vertical"),u=F(()=>c.value!==l.value),{min:f,max:d,step:p,decimals:m,roundValue:_}=n,M=F(()=>parseInt(t.thumbSize,10)),y=F(()=>parseInt(t.tickSize,10)),C=F(()=>parseInt(t.trackSize,10)),L=F(()=>(d.value-f.value)/p.value),k=me(t,"disabled"),T=F(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),R=F(()=>t.error||t.disabled?void 0:t.trackColor??t.color),U=F(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),h=ze(!1),b=ze(0),V=X(),P=X();function N(w){var ie;const W=t.direction==="vertical",Re=W?"top":"left",Ae=W?"height":"width",ue=W?"clientY":"clientX",{[Re]:Ne,[Ae]:It}=(ie=V.value)==null?void 0:ie.$el.getBoundingClientRect(),Mt=Wu(w,ue);let $=Math.min(Math.max((Mt-Ne-b.value)/It,0),1)||0;return(W?u.value:u.value!==i.value)&&($=1-$),_(f.value+$*(d.value-f.value))}const K=w=>{a({value:N(w)}),h.value=!1,b.value=0},S=w=>{P.value=o(w),P.value&&(P.value.focus(),h.value=!0,P.value.contains(w.target)?b.value=zu(w,P.value,t.direction):(b.value=0,r({value:N(w)})),s({value:N(w)}))},H={passive:!0,capture:!0};function E(w){r({value:N(w)})}function O(w){w.stopPropagation(),w.preventDefault(),K(w),window.removeEventListener("mousemove",E,H),window.removeEventListener("mouseup",O)}function G(w){var W;K(w),window.removeEventListener("touchmove",E,H),(W=w.target)==null||W.removeEventListener("touchend",G)}function B(w){var W;S(w),window.addEventListener("touchmove",E,H),(W=w.target)==null||W.addEventListener("touchend",G,{passive:!1})}function x(w){w.preventDefault(),S(w),window.addEventListener("mousemove",E,H),window.addEventListener("mouseup",O,{passive:!1})}const j=w=>{const W=(w-f.value)/(d.value-f.value)*100;return or(isNaN(W)?0:W,0,100)},ae=me(t,"showTicks"),_e=F(()=>ae.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(w=>({value:w,position:j(w),label:w.toString()})):Object.keys(t.ticks).map(w=>({value:parseFloat(w),position:j(parseFloat(w)),label:t.ticks[w]})):L.value!==1/0?ya(L.value+1).map(w=>{const W=f.value+w*p.value;return{value:W,position:j(W)}}):[]:[]),oe=F(()=>_e.value.some(w=>{let{label:W}=w;return!!W})),$e={activeThumbRef:P,color:me(t,"color"),decimals:m,disabled:k,direction:me(t,"direction"),elevation:me(t,"elevation"),hasLabels:oe,isReversed:l,indexFromEnd:u,min:f,max:d,mousePressed:h,numTicks:L,onSliderMousedown:x,onSliderTouchstart:B,parsedTicks:_e,parseMouseMove:N,position:j,readonly:me(t,"readonly"),rounded:me(t,"rounded"),roundValue:_,showTicks:ae,startOffset:b,step:p,thumbSize:M,thumbColor:T,thumbLabel:me(t,"thumbLabel"),ticks:me(t,"ticks"),tickSize:y,trackColor:R,trackContainerRef:V,trackFillColor:U,trackSize:C,vertical:c};return Ge(rs,$e),$e},Ku=Fe({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...at()},"VSliderThumb"),Zu=je()({name:"VSliderThumb",directives:{Ripple:za},props:Ku(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:s}=t;const r=Ue(rs),{isRtl:a,rtlClasses:o}=zt();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:i,step:l,disabled:c,thumbSize:u,thumbLabel:f,direction:d,isReversed:p,vertical:m,readonly:_,elevation:M,mousePressed:y,decimals:C,indexFromEnd:L}=r,{textColorClasses:k,textColorStyles:T}=Wa(i),{pageup:R,pagedown:U,end:h,home:b,left:V,right:P,down:N,up:K}=Oa,S=[R,U,h,b,V,P,N,K],H=F(()=>l.value?[1,2,3]:[1,5,10]);function E(G,B){if(!S.includes(G.key))return;G.preventDefault();const x=l.value||.1,j=(e.max-e.min)/x;if([V,P,N,K].includes(G.key)){const _e=(m.value?[a.value?V:P,p.value?N:K]:L.value!==a.value?[V,K]:[P,K]).includes(G.key)?1:-1,oe=G.shiftKey?2:G.ctrlKey?1:0;B=B+_e*x*H.value[oe]}else if(G.key===b)B=e.min;else if(G.key===h)B=e.max;else{const ae=G.key===U?1:-1;B=B-ae*x*(j>100?j/10:10)}return Math.max(e.min,Math.min(e.max,B))}function O(G){const B=E(G,e.modelValue);B!=null&&s("update:modelValue",B)}return Qe(()=>{const G=Be(L.value?100-e.position:e.position,"%"),{elevationClasses:B}=Qt(F(()=>c.value?void 0:M.value));return g("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&y.value},e.class,o.value],style:[{"--v-slider-thumb-position":G,"--v-slider-thumb-size":Be(u.value)},e.style],role:"slider",tabindex:c.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!_.value,"aria-orientation":d.value,onKeydown:_.value?void 0:O},[g("div",{class:["v-slider-thumb__surface",k.value,B.value],style:{...T.value}},null),cs(g("div",{class:["v-slider-thumb__ripple",k.value],style:T.value},null),[[Sa("ripple"),e.ripple,null,{circle:!0,center:!0}]]),g(Xa,{origin:"bottom center"},{default:()=>{var x;return[cs(g("div",{class:"v-slider-thumb__label-container"},[g("div",{class:["v-slider-thumb__label"]},[g("div",null,[((x=n["thumb-label"])==null?void 0:x.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?C.value:1)])])]),[[ba,f.value&&e.focused||f.value==="always"]])]}})])}),{}}}),Ju=Fe({start:{type:Number,required:!0},stop:{type:Number,required:!0},...at()},"VSliderTrack"),ed=je()({name:"VSliderTrack",props:Ju(),emits:{},setup(e,t){let{slots:n}=t;const s=Ue(rs);if(!s)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:a,rounded:o,showTicks:i,tickSize:l,trackColor:c,trackFillColor:u,trackSize:f,vertical:d,min:p,max:m,indexFromEnd:_}=s,{roundedClasses:M}=Kt(o),{backgroundColorClasses:y,backgroundColorStyles:C}=mt(u),{backgroundColorClasses:L,backgroundColorStyles:k}=mt(c),T=F(()=>`inset-${d.value?"block":"inline"}-${_.value?"end":"start"}`),R=F(()=>d.value?"height":"width"),U=F(()=>({[T.value]:"0%",[R.value]:"100%"})),h=F(()=>e.stop-e.start),b=F(()=>({[T.value]:Be(e.start,"%"),[R.value]:Be(h.value,"%")})),V=F(()=>i.value?(d.value?a.value.slice().reverse():a.value).map((N,K)=>{var H;const S=N.value!==p.value&&N.value!==m.value?Be(N.position,"%"):void 0;return g("div",{key:N.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":N.position>=e.start&&N.position<=e.stop,"v-slider-track__tick--first":N.value===p.value,"v-slider-track__tick--last":N.value===m.value}],style:{[T.value]:S}},[(N.label||n["tick-label"])&&g("div",{class:"v-slider-track__tick-label"},[((H=n["tick-label"])==null?void 0:H.call(n,{tick:N,index:K}))??N.label])])}):[]);return Qe(()=>g("div",{class:["v-slider-track",M.value,e.class],style:[{"--v-slider-track-size":Be(f.value),"--v-slider-tick-size":Be(l.value)},e.style]},[g("div",{class:["v-slider-track__background",L.value,{"v-slider-track__background--opacity":!!r.value||!u.value}],style:{...U.value,...k.value}},null),g("div",{class:["v-slider-track__fill",y.value],style:{...b.value,...C.value}},null),i.value&&g("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":i.value==="always"}]},[V.value])])),{}}}),td=Fe({...ja(),...Xu(),...Qa(),modelValue:{type:[Number,String],default:0}},"VSlider"),nd=je()({name:"VSlider",props:td(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:s}=t;const r=X(),{rtlClasses:a}=zt(),o=ju(e),i=ir(e,"modelValue",void 0,R=>o.roundValue(R??o.min.value)),{min:l,max:c,mousePressed:u,roundValue:f,onSliderMousedown:d,onSliderTouchstart:p,trackContainerRef:m,position:_,hasLabels:M,readonly:y}=Qu({props:e,steps:o,onSliderStart:()=>{s("start",i.value)},onSliderEnd:R=>{let{value:U}=R;const h=f(U);i.value=h,s("end",h)},onSliderMove:R=>{let{value:U}=R;return i.value=f(U)},getActiveThumb:()=>{var R;return(R=r.value)==null?void 0:R.$el}}),{isFocused:C,focus:L,blur:k}=Ka(e),T=F(()=>_(i.value));return Qe(()=>{const R=ds.filterProps(e),U=!!(e.label||n.label||n.prepend);return g(ds,Rn({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||M.value,"v-slider--focused":C.value,"v-slider--pressed":u.value,"v-slider--disabled":e.disabled},a.value,e.class],style:e.style},R,{focused:C.value}),{...n,prepend:U?h=>{var b,V;return g(Ce,null,[((b=n.label)==null?void 0:b.call(n,h))??(e.label?g(Za,{id:h.id.value,class:"v-slider__label",text:e.label},null):void 0),(V=n.prepend)==null?void 0:V.call(n,h)])}:void 0,default:h=>{let{id:b,messagesId:V}=h;return g("div",{class:"v-slider__container",onMousedown:y.value?void 0:d,onTouchstartPassive:y.value?void 0:p},[g("input",{id:b.value,name:e.name||b.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:i.value},null),g(ed,{ref:m,start:0,stop:T.value},{"tick-label":n["tick-label"]}),g(Zu,{ref:r,"aria-describedby":V.value,focused:C.value,min:l.value,max:c.value,modelValue:i.value,"onUpdate:modelValue":P=>i.value=P,position:T.value,elevation:e.elevation,onFocus:L,onBlur:k,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),sd=q({__name:"InstagramMediaVideoCoverSelector",props:{media:{},maxLength:{}},emits:["updateCoverTime"],setup(e,{emit:t}){const n=t,s=e,r=X(typeof s.media.coverTime=="number"?s.media.coverTime:0);function a(){n("updateCoverTime",r.value)}return(o,i)=>s.maxLength>0?(v(),A(nd,{key:0,modelValue:Y(r),"onUpdate:modelValue":i[0]||(i[0]=l=>rt(r)?r.value=l:null),color:"white",max:o.maxLength,class:"ig-media--video-slider",onEnd:a,"thumb-label":"always"},null,8,["modelValue","max"])):Q("",!0)}}),rd=J(sd,[["__scopeId","data-v-d5e9341f"]]),ad=["src","autoplay"],od=q({__name:"InstagramMediaVideo",props:{media:{},coverSelector:{type:Boolean},playable:{type:Boolean},reel:{type:Boolean}},async setup(e){let t,n;const s=e,r=X(!1),a=([t,n]=kn(()=>ar(s.media)),t=await t,n(),t),o=X(null),i=X(0);function l(c){o.value&&(o.value.currentTime=c,s.media.setCoverTime(c),s.media.save())}return Dt(()=>{o.value&&o.value.addEventListener("loadedmetadata",()=>{!o.value||typeof s.media.cover=="object"||s.media.cover||(o.value.currentTime=s.media.coverTime,i.value=o.value.duration)},!1)}),Se(()=>r.value,c=>{if(!o.value||!s.playable)return!1;c?o.value.play():o.value.pause()}),(c,u)=>{const f=rd,d=ss,p=on;return v(),A(p,{type:"video",media:c.media,class:gt({"ig-media--reel":c.reel})},{default:D(()=>[!c.media.cover||c.media.coverTime?(v(),te(Ce,{key:0},[Z("video",{ref_key:"videoRef",ref:o,src:Y(a),autoplay:Y(r),onClick:u[0]||(u[0]=m=>r.value=!Y(r))},null,8,ad),c.coverSelector?(v(),A(f,{key:0,media:c.media,"max-length":Y(i),onUpdateCoverTime:l},null,8,["media","max-length"])):Q("",!0)],64)):typeof c.media.cover=="object"?(v(),A(d,{key:1,media:c.media.cover,onClick:u[1]||(u[1]=m=>r.value=!0)},null,8,["media"])):Q("",!0)]),_:1},8,["media","class"])}}}),ua=J(od,[["__scopeId","data-v-da9bc1bf"]]),id=q({__name:"InstagramMediaReel",props:{media:{},contextMenu:{type:Boolean}},setup(e){return(t,n)=>{const s=ua,r=ca;return v(),te(Ce,null,[(v(),A(ft,null,{default:D(()=>[t.media.type==="video"?(v(),A(s,{key:0,media:t.media,"context-menu":t.contextMenu,"cover-selector":"",reel:""},null,8,["media","context-menu"])):Q("",!0)]),_:1})),t.media.type==="iframe"?(v(),A(r,{key:0,media:t.media,reel:""},null,8,["media"])):Q("",!0)],64)}}}),ld=q({__name:"InstagramMediaAlbumCurrentIndex",props:{index:{},max:{}},setup(e){return(t,n)=>(v(),A(Ja,{class:"ig-media__badge-index",color:"transparent",content:`${t.index} / ${t.max}`},null,8,["content"]))}}),cd=J(ld,[["__scopeId","data-v-87d5ead7"]]);/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const ge={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},tr={itemsToShow:{default:ge.itemsToShow,type:Number},itemsToScroll:{default:ge.itemsToScroll,type:Number},wrapAround:{default:ge.wrapAround,type:Boolean},throttle:{default:ge.throttle,type:Number},snapAlign:{default:ge.snapAlign,validator(e){return["start","end","center","center-even","center-odd"].includes(e)}},transition:{default:ge.transition,type:Number},breakpoints:{default:ge.breakpoints,type:Object},autoplay:{default:ge.autoplay,type:Number},pauseAutoplayOnHover:{default:ge.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:ge.mouseDrag,type:Boolean},touchDrag:{default:ge.touchDrag,type:Boolean},dir:{default:ge.dir,validator(e){return["rtl","ltr"].includes(e)}},i18n:{default:ge.i18n,type:Object},settings:{default(){return{}},type:Object}};function ud({config:e,slidesCount:t}){const{snapAlign:n,wrapAround:s,itemsToShow:r=1}=e;if(s)return Math.max(t-1,0);let a;switch(n){case"start":a=t-r;break;case"end":a=t-1;break;case"center":case"center-odd":a=t-Math.ceil((r-.5)/2);break;case"center-even":a=t-Math.ceil(r/2);break;default:a=0;break}return Math.max(a,0)}function dd({config:e,slidesCount:t}){const{wrapAround:n,snapAlign:s,itemsToShow:r=1}=e;let a=0;if(n||r>t)return a;switch(s){case"start":a=0;break;case"end":a=r-1;break;case"center":case"center-odd":a=Math.floor((r-1)/2);break;case"center-even":a=Math.floor((r-2)/2);break;default:a=0;break}return a}function Ln({val:e,max:t,min:n}){return t<n?e:Math.min(Math.max(e,n),t)}function fd({config:e,currentSlide:t,slidesCount:n}){const{snapAlign:s,wrapAround:r,itemsToShow:a=1}=e;let o=t;switch(s){case"center":case"center-odd":o-=(a-1)/2;break;case"center-even":o-=(a-2)/2;break;case"end":o-=a-1;break}return r?o:Ln({val:o,max:n-a,min:0})}function da(e){return e?e.reduce((t,n)=>{var s;return n.type===Ce?[...t,...da(n.children)]:((s=n.type)===null||s===void 0?void 0:s.name)==="CarouselSlide"?[...t,n]:t},[]):[]}function Nn({val:e,max:t,min:n=0}){return e>t?Nn({val:e-(t+1),max:t,min:n}):e<n?Nn({val:e+(t+1),max:t,min:n}):e}function md(e,t){let n;return t?function(...s){const r=this;n||(e.apply(r,s),n=!0,setTimeout(()=>n=!1,t))}:e}function pd(e,t){let n;return function(...s){n&&clearTimeout(n),n=setTimeout(()=>{e(...s),n=null},t)}}function _d(e="",t={}){return Object.entries(t).reduce((n,[s,r])=>n.replace(`{${s}}`,String(r)),e)}var gd=q({name:"ARIA",setup(){const e=Ue("config",yt(Object.assign({},ge))),t=Ue("currentSlide",X(0)),n=Ue("slidesCount",X(0));return()=>Ye("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},_d(e.i18n.itemXofY,{currentSlide:t.value+1,slidesCount:n.value}))}}),Ed=q({name:"Carousel",props:tr,setup(e,{slots:t,emit:n,expose:s}){var r;const a=X(null),o=X([]),i=X(0),l=X(0),c=yt(Object.assign({},ge));let u=Object.assign({},ge),f;const d=X((r=e.modelValue)!==null&&r!==void 0?r:0),p=X(0),m=X(0),_=X(0),M=X(0);let y,C;Ge("config",c),Ge("slidesCount",l),Ge("currentSlide",d),Ge("maxSlide",_),Ge("minSlide",M),Ge("slideWidth",i);function L(){f=Object.assign({},e.breakpoints),u=Object.assign(Object.assign(Object.assign({},u),e),{i18n:Object.assign(Object.assign({},u.i18n),e.i18n),breakpoints:void 0}),T(u)}function k(){if(!f||!Object.keys(f).length)return;const $=Object.keys(f).map(de=>Number(de)).sort((de,ke)=>+ke-+de);let ie=Object.assign({},u);$.some(de=>{const ke=window.matchMedia(`(min-width: ${de}px)`).matches;return ke&&(ie=Object.assign(Object.assign({},ie),f[de])),ke}),T(ie)}function T($){Object.entries($).forEach(([ie,de])=>c[ie]=de)}const R=pd(()=>{k(),U()},16);function U(){if(!a.value)return;const $=a.value.getBoundingClientRect();i.value=$.width/c.itemsToShow}function h(){l.value<=0||(m.value=Math.ceil((l.value-1)/2),_.value=ud({config:c,slidesCount:l.value}),M.value=dd({config:c,slidesCount:l.value}),c.wrapAround||(d.value=Ln({val:d.value,max:_.value,min:M.value})))}Dt(()=>{lr(()=>U()),setTimeout(()=>U(),1e3),k(),x(),window.addEventListener("resize",R,{passive:!0}),n("init")}),Da(()=>{C&&clearTimeout(C),y&&clearInterval(y),window.removeEventListener("resize",R,{passive:!0})});let b=!1;const V={x:0,y:0},P={x:0,y:0},N=yt({x:0,y:0}),K=X(!1),S=X(!1),H=()=>{K.value=!0},E=()=>{K.value=!1};function O($){["INPUT","TEXTAREA","SELECT"].includes($.target.tagName)||(b=$.type==="touchstart",b||$.preventDefault(),!(!b&&$.button!==0||ae.value)&&(V.x=b?$.touches[0].clientX:$.clientX,V.y=b?$.touches[0].clientY:$.clientY,document.addEventListener(b?"touchmove":"mousemove",G,!0),document.addEventListener(b?"touchend":"mouseup",B,!0)))}const G=md($=>{S.value=!0,P.x=b?$.touches[0].clientX:$.clientX,P.y=b?$.touches[0].clientY:$.clientY;const ie=P.x-V.x,de=P.y-V.y;N.y=de,N.x=ie},c.throttle);function B(){const $=c.dir==="rtl"?-1:1,ie=Math.sign(N.x)*.4,de=Math.round(N.x/i.value+ie)*$;if(de&&!b){const ke=ln=>{ln.stopPropagation(),window.removeEventListener("click",ke,!0)};window.addEventListener("click",ke,!0)}_e(d.value-de),N.x=0,N.y=0,S.value=!1,document.removeEventListener(b?"touchmove":"mousemove",G,!0),document.removeEventListener(b?"touchend":"mouseup",B,!0)}function x(){!c.autoplay||c.autoplay<=0||(y=setInterval(()=>{c.pauseAutoplayOnHover&&K.value||oe()},c.autoplay))}function j(){y&&(clearInterval(y),y=null),x()}const ae=X(!1);function _e($){const ie=c.wrapAround?$:Ln({val:$,max:_.value,min:M.value});d.value===ie||ae.value||(n("slide-start",{slidingToIndex:$,currentSlideIndex:d.value,prevSlideIndex:p.value,slidesCount:l.value}),ae.value=!0,p.value=d.value,d.value=ie,C=setTimeout(()=>{if(c.wrapAround){const de=Nn({val:ie,max:_.value,min:0});de!==d.value&&(d.value=de,n("loop",{currentSlideIndex:d.value,slidingToIndex:$}))}n("update:modelValue",d.value),n("slide-end",{currentSlideIndex:d.value,prevSlideIndex:p.value,slidesCount:l.value}),ae.value=!1,j()},c.transition))}function oe(){_e(d.value+c.itemsToScroll)}function $e(){_e(d.value-c.itemsToScroll)}const w={slideTo:_e,next:oe,prev:$e};Ge("nav",w),Ge("isSliding",ae);const W=F(()=>fd({config:c,currentSlide:d.value,slidesCount:l.value}));Ge("slidesToScroll",W);const Re=F(()=>{const $=c.dir==="rtl"?-1:1,ie=W.value*i.value*$;return{transform:`translateX(${N.x-ie}px)`,transition:`${ae.value?c.transition:0}ms`,margin:c.wrapAround?`0 -${l.value*i.value}px`:"",width:"100%"}});function Ae(){L(),k(),h(),U(),j()}Object.keys(tr).forEach($=>{["modelValue"].includes($)||Se(()=>e[$],Ae)}),Se(()=>e.modelValue,$=>{$!==d.value&&_e(Number($))}),Se(l,h),n("before-init"),L();const ue={config:c,slidesCount:l,slideWidth:i,next:oe,prev:$e,slideTo:_e,currentSlide:d,maxSlide:_,minSlide:M,middleSlide:m};s({updateBreakpointsConfigs:k,updateSlidesData:h,updateSlideWidth:U,initDefaultConfigs:L,restartCarousel:Ae,slideTo:_e,next:oe,prev:$e,nav:w,data:ue});const Ne=t.default||t.slides,It=t.addons,Mt=yt(ue);return()=>{const $=da(Ne==null?void 0:Ne(Mt)),ie=(It==null?void 0:It(Mt))||[];$.forEach((cn,un)=>cn.props.index=un);let de=$;if(c.wrapAround){const cn=$.map((dn,ht)=>us(dn,{index:-$.length+ht,isClone:!0,key:`clone-before-${ht}`})),un=$.map((dn,ht)=>us(dn,{index:$.length+ht,isClone:!0,key:`clone-after-${ht}`}));de=[...cn,...$,...un]}o.value=$,l.value=Math.max($.length,1);const ke=Ye("ol",{class:"carousel__track",style:Re.value,onMousedownCapture:c.mouseDrag?O:null,onTouchstartPassiveCapture:c.touchDrag?O:null},de),ln=Ye("div",{class:"carousel__viewport"},ke);return Ye("section",{ref:a,class:{carousel:!0,"is-sliding":ae.value,"is-dragging":S.value,"is-hover":K.value,"carousel--rtl":c.dir==="rtl"},dir:c.dir,"aria-label":c.i18n.ariaGallery,tabindex:"0",onMouseenter:H,onMouseleave:E},[ln,ie,Ye(gd)])}}}),nr;(function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"})(nr||(nr={}));var Id=q({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:t}){const n=Ue("config",yt(Object.assign({},ge))),s=Ue("currentSlide",X(0)),r=Ue("slidesToScroll",X(0)),a=Ue("isSliding",X(!1)),o=()=>e.index===s.value,i=()=>e.index===s.value-1,l=()=>e.index===s.value+1,c=()=>{const u=Math.floor(r.value),f=Math.ceil(r.value+n.itemsToShow-1);return e.index>=u&&e.index<=f};return()=>{var u;return Ye("li",{style:{width:`${100/n.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":c(),"carousel__slide--active":o(),"carousel__slide--prev":i(),"carousel__slide--next":l(),"carousel__slide--sliding":a.value},"aria-hidden":!c()},(u=t.default)===null||u===void 0?void 0:u.call(t))}}});const hd=q({__name:"InstagramMediaAlbum",props:{media:{}},setup(e){const t=e;function n(){t.media.slideToNextListItem()}return(s,r)=>{const a=fa,o=cd,i=on;return v(),A(i,{type:"album",media:s.media,onClick:n},{default:D(()=>[g(Y(Ed),{modelValue:s.media.listIndex,"onUpdate:modelValue":r[0]||(r[0]=l=>s.media.listIndex=l)},{default:D(()=>[(v(!0),te(Ce,null,Wt(s.media.list,(l,c)=>(v(),A(Y(Id),{key:c},{default:D(()=>[g(a,{"context-menu":!1,media:l},null,8,["media"])]),_:2},1024))),128))]),_:1},8,["modelValue"]),g(o,{index:s.media.currentIndex,max:s.media.itemsCount},null,8,["index","max"])]),_:1},8,["media"])}}}),vd=J(hd,[["__scopeId","data-v-786b5a57"]]),fa=q({__name:"InstagramMediaPost",props:{media:{},contextMenu:{type:Boolean}},setup(e){return(t,n)=>{const s=ss,r=ua,a=vd,o=ca;return v(),te(Ce,null,[(v(),A(ft,null,{default:D(()=>[t.media.type==="image"?(v(),A(s,{key:0,"context-menu":t.contextMenu,media:t.media},null,8,["context-menu","media"])):Q("",!0)]),_:1})),(v(),A(ft,null,{default:D(()=>[t.media.type==="video"?(v(),A(r,{key:0,"context-menu":t.contextMenu,media:t.media,"cover-selector":""},null,8,["context-menu","media"])):Q("",!0)]),_:1})),t.media.type==="album"?(v(),A(a,{key:0,"context-menu":t.contextMenu,media:t.media},null,8,["context-menu","media"])):Q("",!0),t.media.type==="iframe"?(v(),A(o,{key:1,"context-menu":t.contextMenu,media:t.media},null,8,["context-menu","media"])):Q("",!0)],64)}}}),Td=q({__name:"InstagramUserMediaGrid",props:{user:{},mode:{}},setup(e){const t=e,n=X(),s=X(!1);function r(){t.user.save()}function a(){s.value=!0}function o(){s.value=!1}return(i,l)=>{const c=fa,u=id,f=la;return v(),A(hr,{class:"ig-profile-page__media-grid-container px-0"},{default:D(()=>[Z("div",{class:gt(["ig-profile-page__media-grid",{"ig-profile-page__media-grid--dragging":Y(s)}]),ref_key:"gridListRef",ref:n},[t.user.media[t.mode].length>0?(v(),A(Y(Ca),{key:0,list:t.user.media[t.mode],"onUpdate:list":[l[0]||(l[0]=d=>t.user.media[t.mode]=d),r],axis:"xy",class:"v-row","use-drag-handle":"","press-delay":100,"press-threshold":100,onSortStart:a,onSortEnd:o},{default:D(()=>[(v(!0),te(Ce,null,Wt(t.user.media[t.mode],(d,p)=>(v(),A(Y(Aa),{key:d.id,index:p,class:"ig-profile-page__media-grid__item v-col v-col-4"},{default:D(()=>[g(Y(Ma),{class:"ig-profile-page__media-grid__drag-handle"},{default:D(()=>[g(Xe,{icon:"mdi-drag",color:"white"})]),_:1}),i.mode==="posts"?(v(),A(c,{key:0,media:d,"context-menu":""},null,8,["media"])):Q("",!0),i.mode==="reels"?(v(),A(u,{key:1,media:d,"context-menu":""},null,8,["media"])):Q("",!0)]),_:2},1032,["index"]))),128))]),_:1},8,["list"])):(v(),A(Vn,{key:1,height:500},{default:D(()=>[g(f)]),_:1}))],2)]),_:1})}}}),Rd={class:"ig-profile-page__tabs"},yd=["onClick"],Sd=q({__name:"InstagramUserTabs",props:{media:{},active:{}},emits:["select"],setup(e,{emit:t}){const n=t,s=e,r=F(()=>{let a=[{name:"posts",label:"Posts",icon:"mdi-grid"}];return s.media.reels.length>0&&a.push({name:"reels",label:"Reels",icon:"mdi-play-box-multiple-outline"}),a});return(a,o)=>(v(),te("div",Rd,[(v(!0),te(Ce,null,Wt(Y(r),(i,l)=>(v(),te("div",{key:l,class:gt(["ig-profile-page__tabs__tab",{"ig-profile-page__tabs__tab--active":a.active===i.name}]),onClick:c=>n("select",i.name)},[g(Xe,{size:"15"},{default:D(()=>[ee(et(i.icon),1)]),_:2},1024),ee(" "+et(i.label),1)],10,yd))),128))]))}}),bd=J(Sd,[["__scopeId","data-v-d8d7a937"]]),as=e=>(cr("data-v-06426ecb"),e=e(),ur(),e),Od=["textContent"],Dd=as(()=>Z("span",null,"posts",-1)),Cd=["textContent"],Ad=as(()=>Z("span",null,"followers",-1)),Md=["textContent"],wd=as(()=>Z("span",null,"following",-1)),Pd=q({__name:"InstagramUserProfileStats",props:{user:{},mobile:{type:Boolean}},setup(e){return(t,n)=>(v(),te("ul",{class:gt(["ig-profile-page__header__stats",{"ig-profile-page__header__stats--mobile":t.mobile}])},[Z("li",null,[Z("b",{textContent:et(t.user.profile.posts_count)},null,8,Od),ee(),Dd]),Z("li",null,[Z("b",{textContent:et(t.user.profile.followers_count)},null,8,Cd),ee(),Ad]),Z("li",null,[Z("b",{textContent:et(t.user.profile.follows_count)},null,8,Md),ee(),wd])],2))}}),ma=J(Pd,[["__scopeId","data-v-06426ecb"]]),Ld=["href"],Nd=q({__name:"InstagramUserProfileWebsite",props:{user:{}},setup(e){const t=e,n=F(()=>new URL(t.user.profile.website).host);return(s,r)=>s.user.profile.website?(v(),te("a",{key:0,class:"ig-profile-page__header__website",href:t.user.profile.website,target:"_blank"},[g(Xe,{icon:"mdi-link-variant",size:16}),ee(" "+et(Y(n)),1)],8,Ld)):Q("",!0)}}),Gd=J(Nd,[["__scopeId","data-v-d4878ecb"]]),os=q({__name:"contenteditable",props:{tag:String,contenteditable:{type:[Boolean,String],default:!0},modelValue:String,noHtml:{type:Boolean,default:!0},noNl:{type:Boolean,default:!1}},emits:{returned:String,"update:modelValue":String},setup(e,{emit:t}){const n=e;function s(u,f,d){return u.split(f).join(d)}const r=X();function a(){return n.noHtml?r.value.innerText:r.value.innerHTML}function o(u){n.noHtml?r.value.innerText=u:r.value.innerHTML=u}function i(u){t("update:modelValue",a())}function l(u){u.preventDefault();let f=(u.originalEvent||u).clipboardData.getData("text/plain");n.noNl&&(f=s(f,`\r
`," "),f=s(f,`
`," "),f=s(f,"\r"," ")),window.document.execCommand("insertText",!1,f)}function c(u){u.key=="Enter"&&n.noNl&&(u.preventDefault(),t("returned",a()))}return Dt(()=>{var u;o((u=n.modelValue)!=null?u:"")}),Se(()=>n.modelValue,(u,f)=>{u!=a()&&o(u??"")}),Se(()=>n.noHtml,(u,f)=>{var d;o((d=n.modelValue)!=null?d:"")}),Se(()=>n.tag,(u,f)=>{var d;o((d=n.modelValue)!=null?d:"")},{flush:"post"}),(u,f)=>(v(),A(wa(e.tag),{contenteditable:e.contenteditable,onInput:i,onBlur:i,onPaste:l,onKeypress:c,ref_key:"element",ref:r},null,40,["contenteditable"]))}}),Bd=q({__name:"InstagramUserProfileBiography",props:{biography:{}},emits:["update"],setup(e,{emit:t}){const n=e,s=t,r=X(n.biography??"");function a(){s("update",r.value)}return(o,i)=>(v(),A(Y(os),{tag:"p",class:"ig-profile-page__header__biography",contenteditable:"",spellcheck:"false",modelValue:Y(r),"onUpdate:modelValue":i[0]||(i[0]=l=>rt(r)?r.value=l:null),"no-html":!0,onBlur:a},null,8,["modelValue"]))}}),kd=q({__name:"InstagramUserProfileName",props:{user:{}},emits:["update"],setup(e,{emit:t}){const n=e,s=X(n.user.profile.name??"");function r(){n.user.profile.updateName(s.value)}return(a,o)=>Y(s)?(v(),A(Y(os),{key:0,tag:"p",class:"ig-profile-page__header__name",contenteditable:"",spellcheck:"false",modelValue:Y(s),"onUpdate:modelValue":o[0]||(o[0]=i=>rt(s)?s.value=i:null),"no-html":"","no-nl":"",onBlur:r},null,8,["modelValue"])):Q("",!0)}}),Ud=J(kd,[["__scopeId","data-v-27a3da69"]]),Vd={class:"ig-profile-page__header__inner"},xd=q({__name:"InstagramUserProfileInner",props:{user:{}},setup(e){return(t,n)=>{const s=Ud,r=Bd,a=Gd;return v(),te("div",Vd,[g(s,{user:t.user},null,8,["user"]),g(r,{biography:t.user.profile.biography,onUpdate:n[0]||(n[0]=o=>t.user.profile.updateBiography(o))},null,8,["biography"]),g(a,{user:t.user},null,8,["user"])])}}}),pa=J(xd,[["__scopeId","data-v-ed409611"]]),Fd=q({__name:"InstagramUserAvatar",props:{avatar:{},size:{default:120}},async setup(e){let t,n;const s=e;let r,a=X(0);return s.avatar&&(r=URL.createObjectURL(([t,n]=kn(()=>s.avatar.file),t=await t,n(),t))),Se(()=>s.avatar.file,async o=>{r=URL.createObjectURL(await s.avatar.file),a.value=+new Date},{deep:!0}),(o,i)=>(v(),A(eo,{size:o.size,class:"ig-profile-avatar"},{default:D(()=>[Y(r)?(v(),A(Ir,{src:Y(r),key:Y(a),cover:""},null,8,["src"])):Q("",!0)]),_:1},8,["size"]))}}),is=J(Fd,[["__scopeId","data-v-fb4210e8"]]),_a=q({__name:"InstagramUserProfileAvatarEditor",props:{user:{},size:{default:120}},setup(e){const t=e,{files:n,open:s,reset:r,onChange:a}=Ct({accept:"image/jpg, image/jpeg, image/png",multiple:!1});return a(async o=>{if(!o)return;const i=o[0];await t.user.profile.updateAvatar(i)}),(o,i)=>{const l=is;return v(),A(ft,null,{default:D(()=>[g(l,{onDblclick:Y(s),avatar:o.user.profile.avatar,size:o.size},null,8,["onDblclick","avatar","size"])]),_:1})}}}),$d={class:"ig-profile-page__header__username"},Hd=q({__name:"InstagramUserProfileUsername",props:{user:{}},emits:["update"],setup(e,{emit:t}){const n=e,s=X(n.user.profile.username??"");function r(){n.user.profile.updateUsername(s.value)}return(a,o)=>(v(),te("div",$d,[g(Y(os),{tag:"span",contenteditable:"",spellcheck:"false",modelValue:Y(s),"onUpdate:modelValue":o[0]||(o[0]=i=>rt(s)?s.value=i:null),"no-html":"","no-nl":"",onBlur:r},null,8,["modelValue"]),a.user.profile.verified?(v(),A(Xe,{key:0,icon:"mdi-check-decagram"})):Q("",!0)]))}}),ga=J(Hd,[["__scopeId","data-v-d9cdaf8a"]]),qd={class:"ig-profile-page__header"},Yd={class:"ig-profile-page__header__top py-4"},zd={class:"my-8"},Wd={class:"my-4 mt-n6"},Xd=q({__name:"InstagramUserProfileMobile",props:{user:{}},setup(e){return(t,n)=>{const s=dr("router-link"),r=ga,a=_a,o=pa,i=ma;return v(),te("div",qd,[Z("div",Yd,[g(s,{to:{name:"index"}},{default:D(()=>[g(Xe,{icon:"mdi-arrow-left",class:"mr-4",style:{"margin-top":"-2px"}})]),_:1}),g(r,{user:t.user,class:"mb-5"},null,8,["user"])]),g(Er,{class:"mx-n4"}),Z("div",zd,[g(xn,null,{default:D(()=>[g(Ot,{cols:"3",class:"ig-profile-page__header__avatar text-left"},{default:D(()=>[g(a,{size:120,user:t.user},null,8,["user"])]),_:1}),g(Ot,{cols:"9"})]),_:1})]),Z("div",Wd,[g(o,{user:t.user},null,8,["user"])]),g(i,{mobile:"",user:t.user},null,8,["user"])])}}}),jd=J(Xd,[["__scopeId","data-v-890af035"]]),Qd={class:"ig-profile-page__header py-12"},Kd=q({__name:"InstagramUserProfileDesktop",props:{user:{}},setup(e){return(t,n)=>{const s=_a,r=ga,a=ma,o=pa;return v(),te("div",Qd,[g(xn,null,{default:D(()=>[g(Ot,{cols:"4",class:"ig-profile-page__header__avatar text-center"},{default:D(()=>[g(s,{user:t.user},null,8,["user"])]),_:1}),g(Ot,{cols:"8"},{default:D(()=>[g(r,{user:t.user,class:"mb-5"},null,8,["user"]),g(a,{user:t.user,class:"mb-5"},null,8,["user"]),g(o,{user:t.user},null,8,["user"])]),_:1})]),_:1})])}}}),Zd=J(Kd,[["__scopeId","data-v-5af50a69"]]),Jd=q({__name:"InstagramUserProfile",props:{user:{}},setup(e){return(t,n)=>{const s=Zd,r=jd;return t.$vuetify.display.smAndUp?(v(),A(s,{key:0,user:t.user},null,8,["user"])):(v(),A(r,{key:1,user:t.user},null,8,["user"]))}}}),ef=Fe({color:String,...Fn(),...at(),...to(),...jt(),...no(),...so(),...Xt(),...Zt(),...Un()},"VSheet"),tf=je()({name:"VSheet",props:ef(),setup(e,t){let{slots:n}=t;const{themeClasses:s}=fr(e),{backgroundColorClasses:r,backgroundColorStyles:a}=mt(me(e,"color")),{borderClasses:o}=$n(e),{dimensionStyles:i}=ro(e),{elevationClasses:l}=Qt(e),{locationStyles:c}=ao(e),{positionClasses:u}=oo(e),{roundedClasses:f}=Kt(e);return Qe(()=>g(e.tag,{class:["v-sheet",s.value,r.value,o.value,l.value,u.value,f.value,e.class],style:[a.value,i.value,c.value,e.style]},n)),{}}}),nf=q({__name:"InstagramUser",props:{user:{}},setup(e){const t=X("posts");return(n,s)=>{const r=Jd,a=bd,o=Td;return v(),A(tf,{color:"transparent",class:"ig-profile-page"},{default:D(()=>[g(hr,{class:"py-0"},{default:D(()=>[g(r,{user:n.user},null,8,["user"]),g(a,{media:n.user.media,active:Y(t),onSelect:s[0]||(s[0]=i=>t.value=i)},null,8,["media","active"]),g(o,{user:n.user,mode:Y(t)},null,8,["user","mode"])]),_:1})]),_:1})}}}),sf={},rf=e=>(cr("data-v-c342398b"),e=e(),ur(),e),af=rf(()=>Z("p",{class:"mt-3"},[Z("a",{href:"https://github.com/dxlliv/planner",target:"_blank"},[Z("strong",null,"planner")]),ee(" is currently under development."),Z("br"),ee(" Get support and ask for new features! ")],-1)),of={class:"mt-5"};function lf(e,t){return v(),te(Ce,null,[af,Z("div",of,[g(qe,{border:"",href:"https://patreon.com/dxlliv",target:"_blank"},{default:D(()=>[ee("Become a Patron")]),_:1})])],64)}const cf=J(sf,[["render",lf],["__scopeId","data-v-c342398b"]]),uf=Z("p",null,[ee(" Some changes have been made to this profile"),Z("br"),ee(" and have now been stored in your browser. ")],-1),df=q({__name:"InstagramUserExport",emits:["close"],setup(e,{emit:t}){const n=t;return(s,r)=>{const a=cf;return v(),A(Tr,{"content-class":"ig-user-export","max-width":700,onClose:r[0]||(r[0]=o=>n("close"))},{default:D(()=>[g(Vn,{height:"70vh"},{default:D(()=>[g(vr,{textContent:"Profile export"}),g(xn,{class:"ma-0"},{default:D(()=>[g(Ot,{"align-self":"center",class:"text-center"},{default:D(()=>[uf,g(a)]),_:1})]),_:1})]),_:1})]),_:1})}}}),ff=q({__name:"InstagramMediaCreate",emits:["close"],setup(e,{emit:t}){const n=t;function s(r){n("close")}return(r,a)=>{const o=la;return v(),A(Tr,{"content-class":"ig-media-create","max-width":700,onClose:a[0]||(a[0]=i=>n("close"))},{default:D(()=>[g(Vn,{height:"70vh"},{default:D(()=>[g(vr,{textContent:"Create new post"}),g(o,{class:"mx-4",onAdd:s})]),_:1})]),_:1})}}}),mf={},pf={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},_f=Z("path",{d:"M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),gf=Z("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"6.545",x2:"17.455",y1:"12.001",y2:"12.001"},null,-1),Ef=Z("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"12.003",x2:"12.003",y1:"6.545",y2:"17.455"},null,-1),If=[_f,gf,Ef];function hf(e,t){return v(),te("svg",pf,If)}const Ea=J(mf,[["render",hf]]),vf={},Tf={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},Rf=Z("path",{d:"M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"},null,-1),yf=[Rf];function Sf(e,t){return v(),te("svg",Tf,yf)}const Ia=J(vf,[["render",Sf]]),bf={},Of={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},Df=Z("path",{d:"M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),Cf=Z("line",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",x1:"16.511",x2:"22",y1:"16.511",y2:"22"},null,-1),Af=[Df,Cf];function Mf(e,t){return v(),te("svg",Of,Af)}const ha=J(bf,[["render",Mf]]),wf={},Pf={fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"},Lf=Z("polygon",{fill:"none",points:"13.941 13.953 7.581 16.424 10.06 10.056 16.42 7.585 13.941 13.953",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),Nf=Z("polygon",{"fill-rule":"evenodd",points:"10.06 10.056 13.949 13.945 7.581 16.424 10.06 10.056"},null,-1),Gf=Z("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),Bf=[Lf,Nf,Gf];function kf(e,t){return v(),te("svg",Pf,Bf)}const va=J(wf,[["render",kf]]),Uf={},Vf={fill:"currentColor",height:"22",role:"img",viewBox:"0 0 24 24",width:"24"},xf=Z("path",{d:"M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2"},null,-1),Ff=[xf];function $f(e,t){return v(),te("svg",Vf,Ff)}const Ta=J(Uf,[["render",$f]]),Yt={docs:"https://dxlliv.github.io/planner/docs/",support:"https://patreon.com/dxlliv"},Hf=Fe({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...Fn(),...at(),...io(),...jt(),...Xt(),...mr({name:"bottom-navigation"}),...Zt({tag:"header"}),...lo({modelValue:!0,selectedClass:"v-btn--selected"}),...Un()},"VBottomNavigation"),qf=je()({name:"VBottomNavigation",props:Hf(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:s}=Pa(),{borderClasses:r}=$n(e),{backgroundColorClasses:a,backgroundColorStyles:o}=mt(me(e,"bgColor")),{densityClasses:i}=co(e),{elevationClasses:l}=Qt(e),{roundedClasses:c}=Kt(e),{ssrBootStyles:u}=Hn(),f=F(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),d=me(e,"active"),{layoutItemStyles:p}=pr({id:e.name,order:F(()=>parseInt(e.order,10)),position:F(()=>"bottom"),layoutSize:F(()=>d.value?f.value:0),elementSize:f,active:d,absolute:me(e,"absolute")});return uo(e,fo),_r({VBtn:{color:me(e,"color"),density:me(e,"density"),stacked:F(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),Qe(()=>g(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":d.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},s.value,a.value,r.value,i.value,l.value,c.value,e.class],style:[o.value,p.value,{height:Be(f.value),transform:`translateY(${Be(d.value?0:100,"%")})`},u.value,e.style]},{default:()=>[n.default&&g("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),Yf=q({__name:"InstagramNavigationDrawerHorizontal",props:{user:{},nav:{}},emits:["create","export"],setup(e,{emit:t}){const n=t;return(s,r)=>{const a=Ta,o=va,i=ha,l=Ia,c=Ea,u=is;return v(),A(qf,{class:"ig-navigation-drawer ig-navigation-drawer--horizontal",height:"50"},{default:D(()=>[g(qe,{to:{name:"index"}},{default:D(()=>[g(a)]),_:1}),g(qe,{href:Y(Yt).docs},{default:D(()=>[g(o)]),_:1},8,["href"]),g(qe,{href:Y(Yt).support,target:"_blank"},{default:D(()=>[g(i)]),_:1},8,["href"]),g(qe,{value:"favorites"},{default:D(()=>[g(l)]),_:1}),g(qe,{onClick:r[0]||(r[0]=f=>n("create"))},{default:D(()=>[g(c)]),_:1}),g(qe,{to:s.user.route},{default:D(()=>[s.user.ready?(v(),A(u,{key:0,avatar:s.user.profile.avatar,size:26},null,8,["avatar"])):Q("",!0)]),_:1},8,["to"])]),_:1})}}}),zf=J(Yf,[["__scopeId","data-v-eb4b2999"]]),Wf={};function Xf(e,t){const n=dr("router-link");return v(),A(n,{class:"ig-logo",to:{name:"index"}},{default:D(()=>[ee(" Planner ")]),_:1})}const jf=J(Wf,[["render",Xf],["__scopeId","data-v-91866b3b"]]);function Qf(e){let{rootEl:t,isSticky:n,layoutItemStyles:s}=e;const r=ze(!1),a=ze(0),o=F(()=>{const c=typeof r.value=="boolean"?"top":r.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[c]:Be(a.value)}:{top:s.value.top}]});Dt(()=>{Se(n,c=>{c?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),gr(()=>{window.removeEventListener("scroll",l)});let i=0;function l(){const c=i>window.scrollY?"up":"down",u=t.value.getBoundingClientRect(),f=parseFloat(s.value.top??0),d=window.scrollY-Math.max(0,a.value-f),p=u.height+Math.max(a.value,f)-window.scrollY-window.innerHeight,m=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;u.height<window.innerHeight-f?(r.value="top",a.value=f):c==="up"&&r.value==="bottom"||c==="down"&&r.value==="top"?(a.value=window.scrollY+u.top-m,r.value=!0):c==="down"&&p<=0?(a.value=0,r.value="bottom"):c==="up"&&d<=0&&(m?r.value!=="top"&&(a.value=-d+m+f,r.value="top"):(a.value=u.top+d,r.value="top")),i=window.scrollY}return{isStuck:r,stickyStyles:o}}const Kf=100,Zf=20;function sr(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function rr(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const s=sr(t),r=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(r-s)*Math.abs(r),n===e.length-1&&(t*=.5)}return sr(t)*1e3}function Jf(){const e={};function t(r){Array.from(r.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new La(Zf))).push([r.timeStamp,a])})}function n(r){Array.from(r.changedTouches).forEach(a=>{delete e[a.identifier]})}function s(r){var c;const a=(c=e[r])==null?void 0:c.values().reverse();if(!a)throw new Error(`No samples for touch id ${r}`);const o=a[0],i=[],l=[];for(const u of a){if(o[0]-u[0]>Kf)break;i.push({t:u[0],d:u[1].clientX}),l.push({t:u[0],d:u[1].clientY})}return{x:rr(i),y:rr(l),get direction(){const{x:u,y:f}=this,[d,p]=[Math.abs(u),Math.abs(f)];return d>p&&u>=0?"right":d>p&&u<=0?"left":p>d&&f>=0?"down":p>d&&f<=0?"up":em()}}}return{addMovement:t,endTouch:n,getVelocity:s}}function em(){throw new Error}function tm(e){let{isActive:t,isTemporary:n,width:s,touchless:r,position:a}=e;Dt(()=>{window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("touchmove",C,{passive:!1}),window.addEventListener("touchend",L,{passive:!0})}),gr(()=>{window.removeEventListener("touchstart",y),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",L)});const o=F(()=>["left","right"].includes(a.value)),{addMovement:i,endTouch:l,getVelocity:c}=Jf();let u=!1;const f=ze(!1),d=ze(0),p=ze(0);let m;function _(T,R){return(a.value==="left"?T:a.value==="right"?document.documentElement.clientWidth-T:a.value==="top"?T:a.value==="bottom"?document.documentElement.clientHeight-T:lt())-(R?s.value:0)}function M(T){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const U=a.value==="left"?(T-p.value)/s.value:a.value==="right"?(document.documentElement.clientWidth-T-p.value)/s.value:a.value==="top"?(T-p.value)/s.value:a.value==="bottom"?(document.documentElement.clientHeight-T-p.value)/s.value:lt();return R?Math.max(0,Math.min(1,U)):U}function y(T){if(r.value)return;const R=T.changedTouches[0].clientX,U=T.changedTouches[0].clientY,h=25,b=a.value==="left"?R<h:a.value==="right"?R>document.documentElement.clientWidth-h:a.value==="top"?U<h:a.value==="bottom"?U>document.documentElement.clientHeight-h:lt(),V=t.value&&(a.value==="left"?R<s.value:a.value==="right"?R>document.documentElement.clientWidth-s.value:a.value==="top"?U<s.value:a.value==="bottom"?U>document.documentElement.clientHeight-s.value:lt());(b||V||t.value&&n.value)&&(u=!0,m=[R,U],p.value=_(o.value?R:U,t.value),d.value=M(o.value?R:U),l(T),i(T))}function C(T){const R=T.changedTouches[0].clientX,U=T.changedTouches[0].clientY;if(u){if(!T.cancelable){u=!1;return}const b=Math.abs(R-m[0]),V=Math.abs(U-m[1]);(o.value?b>V&&b>3:V>b&&V>3)?(f.value=!0,u=!1):(o.value?V:b)>3&&(u=!1)}if(!f.value)return;T.preventDefault(),i(T);const h=M(o.value?R:U,!1);d.value=Math.max(0,Math.min(1,h)),h>1?p.value=_(o.value?R:U,!0):h<0&&(p.value=_(o.value?R:U,!1))}function L(T){if(u=!1,!f.value)return;i(T),f.value=!1;const R=c(T.changedTouches[0].identifier),U=Math.abs(R.x),h=Math.abs(R.y);(o.value?U>h&&U>400:h>U&&h>3)?t.value=R.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||lt()):t.value=d.value>.5}const k=F(()=>f.value?{transform:a.value==="left"?`translateX(calc(-100% + ${d.value*s.value}px))`:a.value==="right"?`translateX(calc(100% - ${d.value*s.value}px))`:a.value==="top"?`translateY(calc(-100% + ${d.value*s.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${d.value*s.value}px))`:lt(),transition:"none"}:void 0);return{isDragging:f,dragProgress:d,dragStyles:k}}function lt(){throw new Error}const nm=["start","end","left","right","top","bottom"],sm=Fe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>nm.includes(e)},sticky:Boolean,...Fn(),...at(),...Na(),...jt(),...mr(),...Xt(),...Zt({tag:"nav"}),...Un()},"VNavigationDrawer"),rm=je()({name:"VNavigationDrawer",props:sm(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:s,slots:r}=t;const{isRtl:a}=zt(),{themeClasses:o}=fr(e),{borderClasses:i}=$n(e),{backgroundColorClasses:l,backgroundColorStyles:c}=mt(me(e,"color")),{elevationClasses:u}=Qt(e),{displayClasses:f,mobile:d}=Ga(e),{roundedClasses:p}=Kt(e),m=mo(),_=ir(e,"modelValue",null,x=>!!x),{ssrBootStyles:M}=Hn(),{scopeId:y}=po(),C=X(),L=ze(!1),k=F(()=>e.rail&&e.expandOnHover&&L.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),T=F(()=>_o(e.location,a.value)),R=F(()=>!e.permanent&&(d.value||e.temporary)),U=F(()=>e.sticky&&!R.value&&T.value!=="bottom");fn(()=>e.expandOnHover&&e.rail!=null,()=>{Se(L,x=>s("update:rail",!x))}),fn(()=>!e.disableResizeWatcher,()=>{Se(R,x=>!e.permanent&&lr(()=>_.value=!x))}),fn(()=>!e.disableRouteWatcher&&!!m,()=>{Se(m.currentRoute,()=>R.value&&(_.value=!1))}),Se(()=>e.permanent,x=>{x&&(_.value=!0)}),Ba(()=>{e.modelValue!=null||R.value||(_.value=e.permanent||!d.value)});const{isDragging:h,dragProgress:b,dragStyles:V}=tm({isActive:_,isTemporary:R,width:k,touchless:me(e,"touchless"),position:T}),P=F(()=>{const x=R.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):k.value;return h.value?x*b.value:x}),{layoutItemStyles:N,layoutItemScrimStyles:K}=pr({id:e.name,order:F(()=>parseInt(e.order,10)),position:T,layoutSize:P,elementSize:k,active:F(()=>_.value||h.value),disableTransitions:F(()=>h.value),absolute:F(()=>e.absolute||U.value&&typeof S.value!="string")}),{isStuck:S,stickyStyles:H}=Qf({rootEl:C,isSticky:U,layoutItemStyles:N}),E=mt(F(()=>typeof e.scrim=="string"?e.scrim:null)),O=F(()=>({...h.value?{opacity:b.value*.2,transition:"none"}:void 0,...K.value}));_r({VList:{bgColor:"transparent"}});function G(){L.value=!0}function B(){L.value=!1}return Qe(()=>{const x=r.image||e.image;return g(Ce,null,[g(e.tag,Rn({ref:C,onMouseenter:G,onMouseleave:B,class:["v-navigation-drawer",`v-navigation-drawer--${T.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":L.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":R.value,"v-navigation-drawer--active":_.value,"v-navigation-drawer--sticky":U.value},o.value,l.value,i.value,f.value,u.value,p.value,e.class],style:[c.value,N.value,V.value,M.value,H.value,e.style]},y,n),{default:()=>{var j,ae,_e,oe;return[x&&g("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?(j=r.image)==null?void 0:j.call(r,{image:e.image}):g("img",{src:e.image,alt:""},null)]),r.prepend&&g("div",{class:"v-navigation-drawer__prepend"},[(ae=r.prepend)==null?void 0:ae.call(r)]),g("div",{class:"v-navigation-drawer__content"},[(_e=r.default)==null?void 0:_e.call(r)]),r.append&&g("div",{class:"v-navigation-drawer__append"},[(oe=r.append)==null?void 0:oe.call(r)])]}}),g(ka,{name:"fade-transition"},{default:()=>[R.value&&(h.value||_.value)&&!!e.scrim&&g("div",Rn({class:["v-navigation-drawer__scrim",E.backgroundColorClasses.value],style:[O.value,E.backgroundColorStyles.value],onClick:()=>_.value=!1},y),null)]})])}),{isStuck:S}}}),am=q({__name:"InstagramNavigationDrawerVertical",props:{user:{},nav:{}},emits:["create","export"],setup(e,{emit:t}){const n=t;return(s,r)=>{const a=jf,o=Ta,i=va,l=ha,c=Ia,u=Ea,f=is;return v(),A(rm,{class:"ig-navigation-drawer",permanent:s.$vuetify.display.smAndUp,rail:s.$vuetify.display.mdAndDown,width:244,"rail-width":72},{default:D(()=>[g(St,{class:"pt-7 pb-3 hidden-md-and-down"},{default:D(()=>[g(Ee,null,{default:D(()=>[g(a,{size:26})]),_:1})]),_:1}),g(St,{density:"compact",nav:"",class:"mt-2 mt-lg-0"},{default:D(()=>[g(Ee,{title:"Home",to:{name:"index"}},{prepend:D(()=>[g(o)]),_:1}),(v(!0),te(Ce,null,Wt(s.nav,d=>(v(),A(Ee,Va(Ua(d.item)),{prepend:D(()=>[d.icon==="IconSupport"?(v(),A(i,{key:0})):Q("",!0),d.icon==="IconReadme"?(v(),A(l,{key:1})):Q("",!0),d.icon==="IconDonors"?(v(),A(c,{key:2})):Q("",!0)]),_:2},1040))),256)),g(Ee,{title:"Create",onClick:r[0]||(r[0]=d=>n("create"))},{prepend:D(()=>[g(u)]),_:1}),s.user.ready?(v(),A(Ee,{key:0,title:"Profile",to:s.user.route},{prepend:D(()=>[(v(),A(ft,null,{default:D(()=>[g(f,{avatar:s.user.profile.avatar,size:26},null,8,["avatar"])]),_:1}))]),_:1},8,["to"])):Q("",!0)]),_:1}),g(St,{density:"compact",nav:"",class:"ig-navigation-drawer__list-bottom"},{default:D(()=>[s.user.hasLocalChanges?(v(),A(Ee,{key:0,title:"Export","base-color":"primary",onClick:r[1]||(r[1]=d=>n("export"))},{prepend:D(()=>[g(Xe,{icon:"mdi-pencil-ruler-outline"})]),_:1})):Q("",!0)]),_:1})]),_:1},8,["permanent","rail"])}}}),om=q({__name:"InstagramNavigationDrawer",setup(e){const t=Gn(),n=F(()=>t.user),s=[{item:{title:"Readme",href:Yt.docs},icon:"IconReadme"},{item:{title:"Support",href:Yt.support,target:"_blank"},icon:"IconSupport"}],r=X(!1),a=X(!1);return(o,i)=>{const l=am,c=zf,u=ff,f=df;return v(),te(Ce,null,[g(l,{class:"hidden-xs",user:Y(n),nav:s,onCreate:i[0]||(i[0]=d=>r.value=!0),onExport:i[1]||(i[1]=d=>a.value=!0)},null,8,["user"]),g(c,{class:"hidden-sm-and-up",user:Y(n),nav:s,onCreate:i[2]||(i[2]=d=>r.value=!0),onExport:i[3]||(i[3]=d=>a.value=!0)},null,8,["user"]),g(u,{modelValue:Y(r),"onUpdate:modelValue":i[4]||(i[4]=d=>rt(r)?r.value=d:null),onClose:i[5]||(i[5]=d=>r.value=!1)},null,8,["modelValue"]),g(f,{modelValue:Y(a),"onUpdate:modelValue":i[6]||(i[6]=d=>rt(a)?a.value=d:null)},null,8,["modelValue"])],64)}}}),im=J(om,[["__scopeId","data-v-ab300b0c"]]),lm=Fe({...at(),...xa()},"VLayout"),cm=je()({name:"VLayout",props:lm(),setup(e,t){let{slots:n}=t;const{layoutClasses:s,layoutStyles:r,getLayoutItem:a,items:o,layoutRef:i}=Fa(e);return Qe(()=>{var l;return g("div",{ref:i,class:[s.value,e.class],style:[r.value,e.style]},[(l=n.default)==null?void 0:l.call(n)])}),{getLayoutItem:a,items:o}}}),um=Fe({scrollable:Boolean,...at(),...Zt({tag:"main"})},"VMain"),dm=je()({name:"VMain",props:um(),setup(e,t){let{slots:n}=t;const{mainStyles:s}=$a(),{ssrBootStyles:r}=Hn();return Qe(()=>g(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[s.value,r.value,e.style]},{default:()=>{var a,o;return[e.scrollable?g("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}}),fm={};function mm(e,t){const n=im,s=go;return v(),A(cm,null,{default:D(()=>[g(n),g(dm,null,{default:D(()=>[Bn(e.$slots,"default"),g(s)]),_:3})]),_:3})}const pm=J(fm,[["render",mm]]),Em=q({__name:"PageUser",setup(e){const t=qa(),n=Ha(),s=Gn(),r=n.params.platform,o=(r?r.toString():t.platform.default)+"/"+n.params.username.toString(),i=F(()=>s.user);return s.loadUserPage(o),(l,c)=>{const u=nf;return v(),A(pm,null,{default:D(()=>[Y(i).ready?(v(),A(u,{key:0,user:Y(i)},null,8,["user"])):Q("",!0)]),_:1})}}});export{Em as default};
